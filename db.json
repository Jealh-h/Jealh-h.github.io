{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/images/avatar.png","path":"images/avatar.png","modified":1,"renderable":0},{"_id":"source/images/beian.png","path":"images/beian.png","modified":1,"renderable":0},{"_id":"themes/amber/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/amber/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/dark.svg","path":"images/dark.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/amber/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/amber/source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":1},{"_id":"themes/amber/source/images/light.svg","path":"images/light.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/amber/source/js/algolia-search.js","path":"js/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/amber/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/amber/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/fireworks.js","path":"js/fireworks.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/local-search.js","path":"js/local-search.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/anime.min.js","path":"lib/anime.min.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/theme.js","path":"js/theme.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/amber/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/font-awesome/css/all.min.css","path":"lib/font-awesome/css/all.min.css","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/font-awesome/webfonts/fa-brands-400.woff2","path":"lib/font-awesome/webfonts/fa-brands-400.woff2","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/font-awesome/webfonts/fa-regular-400.woff2","path":"lib/font-awesome/webfonts/fa-regular-400.woff2","modified":1,"renderable":1},{"_id":"themes/amber/source/lib/font-awesome/webfonts/fa-solid-900.woff2","path":"lib/font-awesome/webfonts/fa-solid-900.woff2","modified":1,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"d4c178941bdc5e06b035393a72cfd390869dda1b","modified":1672482393572},{"_id":"source/_data/linklist.json","hash":"ffc41ed829725f348636d873f4694debf0bdb88b","modified":1672482393574},{"_id":"source/about/index.md","hash":"0954484413b4f7b7f362d16ef5ffddf2ffc45319","modified":1672482393604},{"_id":"source/_posts/JavaScript-çš„éšå¼è½¬æ¢.md","hash":"50c5077f96f4af6f380262af2542e8d5e9986389","modified":1678369077735},{"_id":"source/_posts/actionsè¿›è¡Œè½»æœåŠ¡çš„é¡µé¢éƒ¨ç½².md","hash":"9630036eb45b7f5ae839f6e62159608712203798","modified":1672482393581},{"_id":"source/_posts/Scroll-å¼€å‘å°è®°.md","hash":"651f9da00809bd3e48c57ef5dc82875ecf19efc9","modified":1672482393580},{"_id":"source/_posts/2022-å¹´ç»ˆæ€»ç»“.md","hash":"99d15ae8d1d3f100a4f9315fe59b07d96c411bf9","modified":1672482393579},{"_id":"source/_posts/2021å¹´ç»ˆæ€»ç»“.md","hash":"39aaa956f0db212ba9bad5a8b876d100276f76ef","modified":1672482393577},{"_id":"source/_posts/hello-world.md","hash":"7ee4ed109899b0a0d8f95f26457cf7d5e8eceeec","modified":1672482393583},{"_id":"source/_posts/reactåˆæˆäº‹ä»¶.md","hash":"b78f1e7d100679c8618b1f65630df53f0466a34e","modified":1672482393588},{"_id":"source/_posts/svgåŸºç¡€.md","hash":"0987fb37dae14731c3e515d665e369ee978fa1b1","modified":1672482393590},{"_id":"source/_posts/numpyæ¡ä»¶é€‰æ‹©.md","hash":"bdfde083a673171c66841df32995f1ddbe41cf17","modified":1672482393587},{"_id":"source/_posts/ä¸€æ¬¡base64æŒ‡ä»¤çš„powershell.md","hash":"d0721afecf0cba25ec181eaba090a2962e86ce29","modified":1672482393597},{"_id":"source/_posts/å¯¹javaScriptäº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ .md","hash":"05adbdf0b17b7a05a856656a4c18615c56926faa","modified":1672482393598},{"_id":"source/_posts/ä¸€å°é˜¿é‡Œäº‘çš„å–èŒ¶é‚®ä»¶.md","hash":"187b023883bc9f92fffd4e87ea0764b9b6c26555","modified":1672482393596},{"_id":"source/_posts/ã€è¯‘ã€‘ä¼˜åŒ–é•¿ä»»åŠ¡-Optimize-long-tasks.md","hash":"d881ea642ec88870649ba79ed347e8caf0be7d44","modified":1672482393594},{"_id":"source/_posts/èŠèŠJavaScriptäº‹ä»¶å¾ªç¯.md","hash":"9349d7d9fd54fbe44c32707237ee743c3492d493","modified":1672482393600},{"_id":"source/categories/index.md","hash":"7d5c0b30f80e3f2c04cf95c0f496913ddfaa53a1","modified":1672482393605},{"_id":"source/tags/index.md","hash":"54d7b3e144a29527ad6b2475599520a574f06a2c","modified":1672482393613},{"_id":"source/_posts/è°ˆè°ˆcookieã€sessionä¸token-jwt.md","hash":"0fb294b44e95bccaeacc04d1df589c6fc4b9f62c","modified":1672482393601},{"_id":"source/friendsLinks/index.md","hash":"a015e55f2c02420e1aeb93452a963bee0b546d05","modified":1672482393607},{"_id":"source/images/beian.png","hash":"29c400bc3b89f6085766dac4e0330ded5cb73d52","modified":1672482393611},{"_id":"source/images/avatar.png","hash":"6aaf9775d28026f8ce19d2a446776b6514b56d14","modified":1672482393609},{"_id":"themes/amber/.gitattributes","hash":"3e00e1fb043438cd820d94ee3dc9ffb6718996f3","modified":1672221079745},{"_id":"themes/amber/.editorconfig","hash":"731c650ddad6eb0fc7c3d4a91cad1698fe7ad311","modified":1672221079744},{"_id":"themes/amber/.prettierrc","hash":"0cb3ead6906a5616ba81f532ac634c607230f430","modified":1672221079759},{"_id":"themes/amber/.gitignore","hash":"83418530da80e6a78501e1d62a89c3bf5cbaec3d","modified":1672221079759},{"_id":"themes/amber/.travis.yml","hash":"379f31a140ce41e441442add6f673bf397d863ea","modified":1672221079761},{"_id":"themes/amber/crowdin.yml","hash":"4a53f5985e545c635cb56b2a57ed290cb8cf8942","modified":1672221079764},{"_id":"themes/amber/LICENSE.md","hash":"0a9c7399f102b4eb0a6950dd31264be421557c7d","modified":1672221079761},{"_id":"themes/amber/.stylintrc","hash":"6259e2a0b65d46865ab89564b88fc67638668295","modified":1672221079760},{"_id":"themes/amber/.eslintrc.json","hash":"767974753cdcea6a544811cd0cea40ba9a199b7c","modified":1672221079744},{"_id":"themes/amber/README.md","hash":"7d56751b580d042559b2acf904fca4b42bcb30a7","modified":1672221079762},{"_id":"themes/amber/package.json","hash":"b099e7cea4406e209130410d13de87988ba37b2a","modified":1672221079881},{"_id":"themes/amber/.github/CODE_OF_CONDUCT.md","hash":"778b7e052993ed59f21ed266ba7119ee2e5253fb","modified":1672221079746},{"_id":"themes/amber/_config.yml","hash":"7ba3187d680ec51f589b52132e1a8f4d366ff912","modified":1672221079764},{"_id":"themes/amber/.github/CONTRIBUTING.md","hash":"5ddde54fb50d11dc08cec899a3588addb56aa386","modified":1672221079747},{"_id":"themes/amber/.github/PULL_REQUEST_TEMPLATE.md","hash":"d2f8e6b65783e31787feb05d2ccea86151f53f35","modified":1672221079752},{"_id":"themes/amber/gulpfile.js","hash":"0c76a1ac610ee8cbe8e2cc9cca1c925ffd0edf98","modified":1672221079790},{"_id":"themes/amber/.github/config.yml","hash":"df3d970700e6b409edc3d23be8d553db78d5ba3f","modified":1672221079753},{"_id":"themes/amber/.github/issue_label_bot.yaml","hash":"533fbe6b2f87d7e7ec6949063bb7ea7eb4fbe52d","modified":1672221079754},{"_id":"themes/amber/.github/issue-close-app.yml","hash":"b14756e65546eb9ecc9d4393f0c9a84a3dac1824","modified":1672221079754},{"_id":"themes/amber/.github/mergeable.yml","hash":"1c1cb77a62df1e3654b151c2da34b4a10d351170","modified":1672221079756},{"_id":"themes/amber/.github/stale.yml","hash":"590b65aca710e0fba75d3cf5361a64d13b6b0f63","modified":1672221079757},{"_id":"themes/amber/.github/lock.yml","hash":"3ce3d0a26030a1cd52b273cc6a6d444d7c8d85c2","modified":1672221079755},{"_id":"themes/amber/.github/release-drafter.yml","hash":"09c3352b2d643acdc6839601ceb38abc38ab97c5","modified":1672221079757},{"_id":"themes/amber/docs/ALGOLIA-SEARCH.md","hash":"60c7e9ef0c578deebad43e9395c958fa61096baf","modified":1672221079767},{"_id":"themes/amber/.github/support.yml","hash":"7ce2722d6904c31a086444c422dc49b6aa310651","modified":1672221079758},{"_id":"themes/amber/docs/AUTHORS.md","hash":"cde7cc095ac31b421a573042cf61060f90d9ad0d","modified":1672221079768},{"_id":"themes/amber/docs/AGPL3.md","hash":"f463f95b169d64983f59fa6f3e4b6760290a0e6b","modified":1672221079766},{"_id":"themes/amber/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"6cc663db5e99fd86bb993c10d446ad26ada88e58","modified":1672221079770},{"_id":"themes/amber/docs/MATH.md","hash":"f56946053ade0915ff7efa74d43c38b8dd9e63bb","modified":1672221079775},{"_id":"themes/amber/docs/DATA-FILES.md","hash":"980fb8d37701f7fd96b30bb911519de3bbb473d1","modified":1672221079768},{"_id":"themes/amber/docs/INSTALLATION.md","hash":"07ea00bee149a1bdc9073e903ee6b411e9f2f818","modified":1672221079769},{"_id":"themes/amber/docs/UPDATE-FROM-5.1.X.md","hash":"1e86d32063b490d204baa9d45d8d3cb22c24a37d","modified":1672221079776},{"_id":"themes/amber/docs/LICENSE.txt","hash":"ae5ad07e4f4106bad55535dba042221539e6c7f9","modified":1672221079774},{"_id":"themes/amber/languages/en.yml","hash":"dbb64776f9c001c54d0058256c415a9a0724ed5d","modified":1672221079794},{"_id":"themes/amber/languages/de.yml","hash":"15078b7ede1b084e8a6a15d271f0db9c325bd698","modified":1672221079792},{"_id":"themes/amber/languages/ar.yml","hash":"abcf220bd615cec0dd50e4d98da56580169d77e1","modified":1672221079791},{"_id":"themes/amber/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1672221079793},{"_id":"themes/amber/languages/fa.yml","hash":"6c0a7d5bcc26eb45a9f3e02f13117c668e77fffd","modified":1672221079796},{"_id":"themes/amber/languages/hu.yml","hash":"0ea89ffaefd02a10494995f05a2a59d5e5679a28","modified":1672221079797},{"_id":"themes/amber/languages/es.yml","hash":"f064c793d56a5e0f20cda93b6f0e355044efc7d8","modified":1672221079795},{"_id":"themes/amber/languages/fr.yml","hash":"3e2f89d4bb4441d33ecc7b5a4ee114f627603391","modified":1672221079796},{"_id":"themes/amber/languages/id.yml","hash":"7599bb0ecf278beb8fde3d17bfc148a3241aef82","modified":1672221079798},{"_id":"themes/amber/languages/it.yml","hash":"46222f468e66789e9ba13095809eb5e5b63edf30","modified":1672221079799},{"_id":"themes/amber/languages/ko.yml","hash":"af4be6cb394abd4e2e9a728418897d2ed4cc5315","modified":1672221079800},{"_id":"themes/amber/languages/ja.yml","hash":"bf279d0eb1911806d01a12f27261fbc76a3bb3f9","modified":1672221079799},{"_id":"themes/amber/languages/ru.yml","hash":"012abc694cf9de281a0610f95f79c594f0a16562","modified":1672221079803},{"_id":"themes/amber/languages/tr.yml","hash":"c4e9ab7e047ae13a19f147c6bec163c3ba2c6898","modified":1672221079804},{"_id":"themes/amber/languages/nl.yml","hash":"9749cf90b250e631dd550a4f32ada3bb20f66dd0","modified":1672221079801},{"_id":"themes/amber/languages/uk.yml","hash":"69ef00b1b8225920fcefff6a6b6f2f3aad00b4ce","modified":1672221079804},{"_id":"themes/amber/languages/pt.yml","hash":"f6606dd0b916a465c233f24bd9a70adce34dc8d6","modified":1672221079802},{"_id":"themes/amber/languages/pt-BR.yml","hash":"69aa3bef5710b61dc9a0f3b3a8f52f88c4d08c00","modified":1672221079802},{"_id":"themes/amber/layout/_layout.swig","hash":"130baa6e6bcc56ab78074f8df4213aad6496b5c2","modified":1672221079809},{"_id":"themes/amber/languages/vi.yml","hash":"6a578cc28773bd764f4418110500478f185d6efa","modified":1672221079805},{"_id":"themes/amber/layout/archive.swig","hash":"d9bca77f6dcfef71e300a294f731bead11ce199f","modified":1672221079873},{"_id":"themes/amber/languages/zh-CN.yml","hash":"81d73e21402dad729053a3041390435f43136a68","modified":1672221079806},{"_id":"themes/amber/layout/index.swig","hash":"8dfd96fb6f833dd5d037de800813105654e8e8e6","modified":1672221079876},{"_id":"themes/amber/languages/zh-TW.yml","hash":"cf0740648725983fb88409d6501876f8b79db41d","modified":1672221079807},{"_id":"themes/amber/languages/zh-HK.yml","hash":"92ccee40c234626bf0142152949811ebe39fcef2","modified":1672221079807},{"_id":"themes/amber/layout/category.swig","hash":"c546b017a956faaa5f5643c7c8a363af7ac9d6b9","modified":1672221079875},{"_id":"themes/amber/layout/post.swig","hash":"5f0b5ba2e0a5b763be5e7e96611865e33bba24d7","modified":1672221079879},{"_id":"themes/amber/scripts/renderer.js","hash":"e3658eea97b1183ee2e9f676231e53f7994741f6","modified":1672221079906},{"_id":"themes/amber/layout/links.swig","hash":"6a2c49caa9edf778e07102e2e5d5ae80d485f742","modified":1672221079877},{"_id":"themes/amber/layout/page.swig","hash":"5aca0f6a715edd87015f291d56c77ae7187b587b","modified":1672221079878},{"_id":"themes/amber/layout/tag.swig","hash":"d44ff8755727f6532e86fc9fc8dc631200ffe161","modified":1672221079880},{"_id":"themes/amber/docs/ru/DATA-FILES.md","hash":"54e6a067ed95268eab6be2ba040a7e9b1907928e","modified":1672221079777},{"_id":"themes/amber/.github/ISSUE_TEMPLATE/bug-report.md","hash":"e67146befddec3a0dc47dc80d1109070c71d5d04","modified":1672221079749},{"_id":"themes/amber/docs/ru/INSTALLATION.md","hash":"a9cfe5ac9ef727a8650b2b6584482751a26b1460","modified":1672221079778},{"_id":"themes/amber/.github/ISSUE_TEMPLATE/feature-request.md","hash":"6beeca0f45a429cd932b6e648617f548ff64c27c","modified":1672221079750},{"_id":"themes/amber/.github/ISSUE_TEMPLATE/question.md","hash":"59275aa0582f793fee7be67904dcf52ad33a7181","modified":1672221079751},{"_id":"themes/amber/docs/ru/UPDATE-FROM-5.1.X.md","hash":"cb8e39c377fc4a14aaf133b4d1338a48560e9e65","modified":1672221079780},{"_id":"themes/amber/.github/ISSUE_TEMPLATE/other.md","hash":"d5aa1a3323639a36bcd9a401484b67537043cd3c","modified":1672221079751},{"_id":"themes/amber/docs/ru/README.md","hash":"1e5ddb26ad6f931f8c06ce2120f257ff38b74fdf","modified":1672221079780},{"_id":"themes/amber/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"3202be9a8d31986caac640e7a4c7ce22e99917eb","modified":1672221079782},{"_id":"themes/amber/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7e6f227f2aaf30f400d4c065650a4e3d0d61b9e1","modified":1672221079783},{"_id":"themes/amber/docs/zh-CN/CONTRIBUTING.md","hash":"611f2930c2b281b80543531b1bf33d082531456a","modified":1672221079783},{"_id":"themes/amber/docs/zh-CN/INSTALLATION.md","hash":"716111dd36d276f463c707dfcc9937fea2a1cf7a","modified":1672221079785},{"_id":"themes/amber/docs/zh-CN/README.md","hash":"8f7c0d0b766024152591d4ccfac715c8e18b37f3","modified":1672221079788},{"_id":"themes/amber/docs/zh-CN/DATA-FILES.md","hash":"2d868cd271d78b08775e28c5b976de8836da4455","modified":1672221079784},{"_id":"themes/amber/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"50ab381c27611d5bf97bb3907b5ca9998f28187d","modified":1672221079786},{"_id":"themes/amber/docs/zh-CN/MATH.md","hash":"0d46f9f50cf2e4183970adce705d1041155b0d37","modified":1672221079787},{"_id":"themes/amber/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"b3201934b966bc731eaf8a4dad4ba4bdcd300c10","modified":1672221079789},{"_id":"themes/amber/layout/_macro/passage-end-tag.swig","hash":"0bd1e2cebdf9c0e1152868f16ec024cc933a8f9f","modified":1672221079810},{"_id":"themes/amber/layout/_partials/footer.swig","hash":"a9afe3107c927f9871b3b14a2f59523d7f2131e4","modified":1672221079815},{"_id":"themes/amber/layout/_macro/post-collapse.swig","hash":"30ade8c806d7826cc50a4a3e46a9e6213fddf333","modified":1672221079811},{"_id":"themes/amber/layout/_partials/comments.swig","hash":"142efb4c6b73d8f736f6784804b40d5871333172","modified":1672221079814},{"_id":"themes/amber/layout/_partials/languages.swig","hash":"c3ea82604a5853fb44c5f4e4663cbe912aa5dcf8","modified":1672221079822},{"_id":"themes/amber/layout/_partials/pagination.swig","hash":"2de77d533c91532a8a4052000244d0c1693370df","modified":1672221079825},{"_id":"themes/amber/layout/_macro/post.swig","hash":"f6c37b96942bde8e78d20b4f1338e696114860b9","modified":1672221079812},{"_id":"themes/amber/layout/_scripts/index.swig","hash":"1822eaf55bbb4bec88871c324fc18ad95580ccb4","modified":1672221079836},{"_id":"themes/amber/layout/_scripts/noscript.swig","hash":"7b9e0f776a5be6c3f95bc7f394e1424ba02ba93b","modified":1672221079837},{"_id":"themes/amber/layout/_partials/widgets.swig","hash":"5392dcbb504266f0f61d5b8219914068ef9cdc25","modified":1672221079835},{"_id":"themes/amber/layout/_scripts/pjax.swig","hash":"ccff5a773644d33ff22f6b45b6734f52b048f22b","modified":1672221079839},{"_id":"themes/amber/layout/_scripts/vendors.swig","hash":"244ca2d74ee0d497c87572c6a26b43c62a952673","modified":1672221079842},{"_id":"themes/amber/layout/_macro/sidebar.swig","hash":"5bffdb1448caca7db7b1f84e1693e6657a106d50","modified":1672221079813},{"_id":"themes/amber/layout/_scripts/three.swig","hash":"6b092c6d882b2dfa5273e1b3f60b244cb7c29fcd","modified":1672221079841},{"_id":"themes/amber/layout/_third-party/index.swig","hash":"c6b63cbc80938e6e09578b8c67e01adf13a9e3bd","modified":1672221079857},{"_id":"themes/amber/layout/_third-party/baidu-push.swig","hash":"28b0a7e843ec4365db1963646659a153753cd746","modified":1672221079849},{"_id":"themes/amber/layout/_third-party/quicklink.swig","hash":"5ae5adcd6f63ed98b2071e4f7e5e38c4d7d24e1b","modified":1672221079861},{"_id":"themes/amber/layout/_third-party/rating.swig","hash":"269102fc5e46bd1ce75abdcce161f0570ae70e2f","modified":1672221079862},{"_id":"themes/amber/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1672221080002},{"_id":"themes/amber/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1672221080001},{"_id":"themes/amber/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1672221080008},{"_id":"themes/amber/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1672221080009},{"_id":"themes/amber/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1672221080010},{"_id":"themes/amber/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1672221080011},{"_id":"themes/amber/source/images/dark.svg","hash":"50f8317b673578282236672968840e1d3aeedc29","modified":1672221080015},{"_id":"themes/amber/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1672221080012},{"_id":"themes/amber/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1672221080013},{"_id":"themes/amber/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1672221080012},{"_id":"themes/amber/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1672221080016},{"_id":"themes/amber/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1672221080017},{"_id":"themes/amber/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1672221080019},{"_id":"themes/amber/source/css/_colors.styl","hash":"0a9921cb32d95f6d850069d7e28acf8fcd286fd4","modified":1672221079919},{"_id":"themes/amber/source/images/favicon.ico","hash":"45a4501b730f68d716cb8e7571c49e93911c4ae5","modified":1672221080018},{"_id":"themes/amber/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1672221080014},{"_id":"themes/amber/source/images/light.svg","hash":"cfb6c5299622402c2a3bd3e7440857f127990857","modified":1672221080018},{"_id":"themes/amber/source/css/_mixins.styl","hash":"072a3fa473c19b20ccd7536a656cda044dbdae0a","modified":1672221079989},{"_id":"themes/amber/source/js/bookmark.js","hash":"9f05fd3672789311dc0cf5b37e40dc654cb04a2a","modified":1672221080021},{"_id":"themes/amber/source/css/main.styl","hash":"947ce6126b9a77340ec4ea98e9113d45be1f8f9c","modified":1672221079999},{"_id":"themes/amber/source/js/algolia-search.js","hash":"6a813410e33824d7acc65a369a2983912bb3420c","modified":1672221080020},{"_id":"themes/amber/source/js/local-search.js","hash":"cfa6a0f3f9c2bc759ee507668a21f4e8f250f42a","modified":1672221080023},{"_id":"themes/amber/source/js/next-boot.js","hash":"250d8dcd6322e69e3fbadd0f3e37081c97b47c52","modified":1672221080024},{"_id":"themes/amber/source/js/fireworks.js","hash":"e962f49ebf030da1df530b148eac0833d9610935","modified":1672221080022},{"_id":"themes/amber/source/js/theme.js","hash":"4f63ae5a2f75f5a85d8cfed46c84e8d9d1e5f48c","modified":1672221080027},{"_id":"themes/amber/source/js/motion.js","hash":"943b63c4ea05a9610b71bd739a11626da3a478eb","modified":1672221080023},{"_id":"themes/amber/scripts/events/index.js","hash":"5c355f10fe8c948a7f7cd28bd8120adb7595ebde","modified":1672221079884},{"_id":"themes/amber/scripts/filters/front-matter.js","hash":"305d03c1e45782988809298c3e3b3c5d5ee438aa","modified":1672221079897},{"_id":"themes/amber/scripts/filters/default-injects.js","hash":"b08be81819eeeb3c1dcf0a371f95d722246052a2","modified":1672221079897},{"_id":"themes/amber/scripts/filters/locals.js","hash":"a5e7d05d3bd2ae6dcffad5a8ea0f72c6e55dbd02","modified":1672221079898},{"_id":"themes/amber/scripts/filters/post.js","hash":"57f2d817578dd97e206942604365e936a49854de","modified":1672221079900},{"_id":"themes/amber/source/lib/anime.min.js","hash":"960be51132134acd65c2017cc8a5d69cb419a0cd","modified":1672221080029},{"_id":"themes/amber/scripts/filters/minify.js","hash":"4d3b771246a7212e94b3df5fb11de89083fe8b80","modified":1672221079899},{"_id":"themes/amber/scripts/helpers/font.js","hash":"8fb1c0fc745df28e20b96222974402aab6d13a79","modified":1672221079902},{"_id":"themes/amber/scripts/helpers/engine.js","hash":"eb6b8bbc1dce4846cd5e0fac0452dbff56d07b5d","modified":1672221079902},{"_id":"themes/amber/scripts/helpers/next-url.js","hash":"4044129368d0e2811859a9661cad8ab47118bc32","modified":1672221079904},{"_id":"themes/amber/scripts/helpers/next-config.js","hash":"b8d7ddfa4baa9b8d6b9066a634aa81c6243beec9","modified":1672221079903},{"_id":"themes/amber/scripts/tags/button.js","hash":"bb0e8abbc0a6d5b3a1a75a23976f2ac3075aab31","modified":1672221079908},{"_id":"themes/amber/scripts/tags/caniuse.js","hash":"840536754121e0da5968f5ad235f29200fc5d769","modified":1672221079909},{"_id":"themes/amber/source/js/utils.js","hash":"a63ae3a3a65a0f54a5b5056c86263dbed296bece","modified":1672221080028},{"_id":"themes/amber/scripts/tags/center-quote.js","hash":"e2d0184bc4a557e1017395b80ff46880078d8537","modified":1672221079910},{"_id":"themes/amber/scripts/tags/label.js","hash":"fc83f4e1be2c34e81cb79938f4f99973eba1ea60","modified":1672221079912},{"_id":"themes/amber/scripts/tags/group-pictures.js","hash":"93ccd3f99d3cb42674f29183c756df63acb5d7f8","modified":1672221079911},{"_id":"themes/amber/scripts/tags/mermaid.js","hash":"81134494ff0134c0dae1b3815caf6606fccd4e46","modified":1672221079913},{"_id":"themes/amber/scripts/tags/pdf.js","hash":"37b53661ad00a01a2ca7d2e4a5ad3a926073f8e2","modified":1672221079915},{"_id":"themes/amber/scripts/tags/note.js","hash":"1fdf4f95810fdb983bfd5ad4c4f13fedd4ea2f8d","modified":1672221079914},{"_id":"themes/amber/scripts/tags/tabs.js","hash":"c70a4a66fd0c28c98ccb6c5d5f398972e5574d28","modified":1672221079916},{"_id":"themes/amber/scripts/tags/video.js","hash":"944293fec96e568d9b09bc1280d5dbc9ee1bbd17","modified":1672221079916},{"_id":"themes/amber/layout/_partials/head/head-unique.swig","hash":"7d638e413f2548fc990c4a467dd03de6c81fc960","modified":1672221079816},{"_id":"themes/amber/layout/_partials/header/menu-item.swig","hash":"4baa86ca631168fc6388d27f4b1b501b40c877a8","modified":1672221079820},{"_id":"themes/amber/layout/_partials/header/menu.swig","hash":"90d3eaba6fbe69bee465ddd67c467fd2c0239dc4","modified":1672221079821},{"_id":"themes/amber/layout/_partials/head/head.swig","hash":"90cce9f407e9490756ba99580e3eb09f55b05eaa","modified":1672221079816},{"_id":"themes/amber/layout/_partials/page/page-header.swig","hash":"8d4e3dd0d3631ce0b21bc15c259f6ac886de631d","modified":1672221079824},{"_id":"themes/amber/layout/_partials/header/brand.swig","hash":"1c9c9fed3648f13af4f53c0521239ff3b996dbb4","modified":1672221079818},{"_id":"themes/amber/layout/_partials/header/index.swig","hash":"0dd316f153c492c0a03bd0273d50fa322bc81f11","modified":1672221079819},{"_id":"themes/amber/layout/_partials/header/sub-menu.swig","hash":"bed6cc2b48cf2655036ba39c9bae73a295228a4d","modified":1672221079821},{"_id":"themes/amber/layout/_partials/post/post-footer.swig","hash":"ce712c110b5ce8aacba7a86b0558ff89700675c9","modified":1672221079829},{"_id":"themes/amber/layout/_partials/page/breadcrumb.swig","hash":"91c0addb33006619faa4c32e5d66874e25f1e9b3","modified":1672221079823},{"_id":"themes/amber/layout/_partials/post/post-followme.swig","hash":"d8f785c062c6b0763a778bd4a252e6f5fee0e432","modified":1672221079828},{"_id":"themes/amber/layout/_partials/search/index.swig","hash":"a6c761d5193cb6f22e9422dbbcf209e05471b0ed","modified":1672221079832},{"_id":"themes/amber/layout/_partials/post/post-related.swig","hash":"bc7b047a6246df07767373644b1637d91c3a88b1","modified":1672221079829},{"_id":"themes/amber/layout/_partials/post/post-copyright.swig","hash":"f2eb455c8bf13533427254f0c9b4b17b2498168b","modified":1672221079827},{"_id":"themes/amber/layout/_partials/search/algolia-search.swig","hash":"98fd1f5df044f4534e1d4ca9ab092ba5761739a9","modified":1672221079832},{"_id":"themes/amber/layout/_partials/search/localsearch.swig","hash":"128f7d679bb4d53b29203d598d217f029a66dee7","modified":1672221079833},{"_id":"themes/amber/layout/_scripts/schemes/muse.swig","hash":"0b44f400ec00d2b5add5ee96c11d22465c432376","modified":1672221079840},{"_id":"themes/amber/layout/_third-party/analytics/baidu-analytics.swig","hash":"84adaadd83ce447fa9da2cff19006334c9fcbff9","modified":1672221079845},{"_id":"themes/amber/layout/_partials/post/post-reward.swig","hash":"f349a226e5370075bb6924e60da8b0170c7cfcc1","modified":1672221079830},{"_id":"themes/amber/layout/_third-party/analytics/growingio.swig","hash":"91c2cb900c76224c5814eeb842d1d5f517f9bf05","modified":1672221079847},{"_id":"themes/amber/layout/_third-party/analytics/index.swig","hash":"85b60e222712ca3b2c4dc2039de2dc36b8d82940","modified":1672221079848},{"_id":"themes/amber/layout/_partials/sidebar/site-overview.swig","hash":"7b2ef5db9615267a24b884388925de1e9b447c1f","modified":1672221079834},{"_id":"themes/amber/layout/_third-party/analytics/google-analytics.swig","hash":"b8819bd056f8a580c5556d4415836a906ed5d7a4","modified":1672221079846},{"_id":"themes/amber/layout/_third-party/chat/tidio.swig","hash":"fb94ee487d75e484e59b7fba96e989f699ff8a83","modified":1672221079851},{"_id":"themes/amber/layout/_scripts/pages/schedule.swig","hash":"34c05e9d73b0f081db70990c296b6d6a0f8ea2ca","modified":1672221079838},{"_id":"themes/amber/layout/_third-party/chat/chatra.swig","hash":"2642e8aef5afbe23a2a76efdc955dab2ee04ed48","modified":1672221079850},{"_id":"themes/amber/layout/_third-party/comments/changyan.swig","hash":"9298e6d6c4a62a0862fc0f4060ed99779d7b68cb","modified":1672221079852},{"_id":"themes/amber/layout/_third-party/comments/disqusjs.swig","hash":"a42f97eda3748583bac2253c47fe5dfa54f07b8f","modified":1672221079854},{"_id":"themes/amber/layout/_third-party/comments/gitalk.swig","hash":"606ad14a29320157df9b8f33738282c51bb393d9","modified":1672221079855},{"_id":"themes/amber/layout/_third-party/comments/livere.swig","hash":"3d91899ca079e84d95087b882526d291e6f53918","modified":1672221079856},{"_id":"themes/amber/layout/_third-party/comments/disqus.swig","hash":"1b29b99fa921f12c25d3dc95facdf84ef7bb1b5c","modified":1672221079853},{"_id":"themes/amber/layout/_third-party/math/katex.swig","hash":"276f523e414d4aa7f350a8f2fd3df8a3d8ea9656","modified":1672221079860},{"_id":"themes/amber/layout/_third-party/math/index.swig","hash":"59df21fcfe9d0ada8cee3188cb1075529c1c3eb8","modified":1672221079859},{"_id":"themes/amber/layout/_third-party/comments/valine.swig","hash":"ae2707d6e47582bb470c075649ec7bad86a6d5a9","modified":1672221079856},{"_id":"themes/amber/layout/_third-party/search/localsearch.swig","hash":"58296a5c1883f26464c2a5ccf734c19f5fbf395a","modified":1672221079864},{"_id":"themes/amber/layout/_third-party/math/mathjax.swig","hash":"1f34b2d3c753a3589ab6c462880bd4eb7df09914","modified":1672221079861},{"_id":"themes/amber/layout/_third-party/statistics/cnzz-analytics.swig","hash":"53a0760c75d5aaabb3ce8e8aa8e003510d59807f","modified":1672221079867},{"_id":"themes/amber/layout/_third-party/search/algolia-search.swig","hash":"fd726aad77a57b288f07d6998ec29291c67c7cbb","modified":1672221079864},{"_id":"themes/amber/layout/_third-party/statistics/busuanzi-counter.swig","hash":"d2f0e4c598410ec33785abe302c7ea7492bb791a","modified":1672221079867},{"_id":"themes/amber/layout/_third-party/tags/mermaid.swig","hash":"619338ddacf01e3df812e66a997e778f672f4726","modified":1672221079871},{"_id":"themes/amber/layout/_third-party/statistics/index.swig","hash":"964cd6bac668cf6d211a2624fbef3948cfdece55","modified":1672221079869},{"_id":"themes/amber/layout/_third-party/search/swiftype.swig","hash":"aa6ab95b8b76611694613defb4bf25003d1b927f","modified":1672221079865},{"_id":"themes/amber/layout/_third-party/statistics/firestore.swig","hash":"01d94354d07e72cad47100482068b6be69fcc033","modified":1672221079868},{"_id":"themes/amber/source/css/_variables/Muse.styl","hash":"c22b58af3327236ec54d5706501aa5a20e15012e","modified":1672221079997},{"_id":"themes/amber/layout/_third-party/statistics/lean-analytics.swig","hash":"c171ea94e9afbba97f06856904264da331559463","modified":1672221079870},{"_id":"themes/amber/source/js/schemes/pisces.js","hash":"b85a6e2af1387fe64b51e7cd3e2da8616e6f5a3f","modified":1672221080026},{"_id":"themes/amber/layout/_third-party/tags/pdf.swig","hash":"5a223b60406cee7438cfe3a5e41d1284425aa7a5","modified":1672221079872},{"_id":"themes/amber/scripts/events/lib/injects-point.js","hash":"08496b71c9939718e7955704d219e44d7109247b","modified":1672221079886},{"_id":"themes/amber/scripts/events/lib/config.js","hash":"aefe3b38a22bc155d485e39187f23e4f2ee5680a","modified":1672221079885},{"_id":"themes/amber/scripts/events/lib/injects.js","hash":"e73f697bb160b223fdde783237148be5f41c1d78","modified":1672221079887},{"_id":"themes/amber/scripts/filters/comment/changyan.js","hash":"2f22f48f7370470cef78561a47c2a47c78035385","modified":1672221079890},{"_id":"themes/amber/source/css/_variables/base.styl","hash":"cb96d50db6ad958292bafa77d58a06ea09b4f535","modified":1672221079998},{"_id":"themes/amber/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1672221080037},{"_id":"themes/amber/scripts/filters/comment/default-config.js","hash":"0c3bea89d64bc12c1bbe6f208a83773c6fb5375a","modified":1672221079892},{"_id":"themes/amber/scripts/filters/comment/common.js","hash":"713056d33dbcd8e9748205c5680b456c21174f4e","modified":1672221079891},{"_id":"themes/amber/source/js/schemes/muse.js","hash":"a18559a9c332199efad0100cf84bb0c23fc0f17a","modified":1672221080025},{"_id":"themes/amber/scripts/filters/comment/disqus.js","hash":"3a80559df0b670ccb065ea9d3bb587d0b61be3a4","modified":1672221079893},{"_id":"themes/amber/scripts/filters/comment/disqusjs.js","hash":"67cf90d9a2428c14eb113a64bdd213c22a019aef","modified":1672221079893},{"_id":"themes/amber/scripts/filters/comment/valine.js","hash":"851359f5ff90f733a9bd7fe677edbee8b8ac714c","modified":1672221079896},{"_id":"themes/amber/scripts/filters/comment/livere.js","hash":"a4f3153ac76a7ffdf6cc70f52f1b2cc218ed393e","modified":1672221079895},{"_id":"themes/amber/scripts/filters/comment/gitalk.js","hash":"323a47df6ded894944a2647db44556d6163e67c4","modified":1672221079894},{"_id":"themes/amber/source/css/_common/components/back-to-top-sidebar.styl","hash":"510a6f0ba7485dd54ce347cca890ab52c4957081","modified":1672221079922},{"_id":"themes/amber/source/css/_common/outline/outline.styl","hash":"7a95c27762e1303bf06ee808c63f616cb192fcaf","modified":1672221079958},{"_id":"themes/amber/source/css/_common/components/components.styl","hash":"d17236df3b4d6def1e4e81133ef4729c390de3ac","modified":1672221079924},{"_id":"themes/amber/source/css/_common/outline/mobile.styl","hash":"a2ee16cac29a82cfce26804c160286fcbee94161","modified":1672221079958},{"_id":"themes/amber/source/css/_common/components/back-to-top.styl","hash":"0534b329d279a6f255112b3305ff92c810f31724","modified":1672221079923},{"_id":"themes/amber/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1672221080038},{"_id":"themes/amber/source/css/_common/components/reading-progress.styl","hash":"c52648a7b09f9fe37858f5694fcc1ffc709ad147","modified":1672221079941},{"_id":"themes/amber/source/css/_common/scaffolding/base.styl","hash":"5c6e42274a9ef7c5eafeea9896adec346360fc5d","modified":1672221079970},{"_id":"themes/amber/source/css/_common/scaffolding/buttons.styl","hash":"45f4badac6ec45cf24355f6157aece1d4d3f1134","modified":1672221079971},{"_id":"themes/amber/source/css/_common/scaffolding/comments.styl","hash":"4b068d0d898f4e624937503f0e1428993050bd65","modified":1672221079972},{"_id":"themes/amber/source/css/_common/scaffolding/scaffolding.styl","hash":"43045d115f8fe95732c446aa45bf1c97609ff2a5","modified":1672221079979},{"_id":"themes/amber/source/css/_common/scaffolding/normalize.styl","hash":"6d740699fb6a7640647a8fd77c4ea4992d8d6437","modified":1672221079977},{"_id":"themes/amber/source/css/_common/scaffolding/pagination.styl","hash":"b619f39e18398422e0ac4999d8f042a5eaebe9cd","modified":1672221079978},{"_id":"themes/amber/source/css/_schemes/Muse/_layout.styl","hash":"49c76bc723d3952abb613d9d68398ed7305da999","modified":1672221079992},{"_id":"themes/amber/source/css/_schemes/Muse/_header.styl","hash":"a170484458cbca51ee8e8375137ff295f143a1ac","modified":1672221079991},{"_id":"themes/amber/source/css/_common/scaffolding/toggles.styl","hash":"20e0e3e3eba384930c022e21511214d244b4c9e7","modified":1672221079988},{"_id":"themes/amber/source/css/_schemes/Muse/_menu.styl","hash":"fcb9e8107fed93c72c7ee24884a9b796d399f7ab","modified":1672221079993},{"_id":"themes/amber/source/css/_common/scaffolding/tables.styl","hash":"f317d2e3886e94f5fbb8781c2e68edd19669ff58","modified":1672221079980},{"_id":"themes/amber/source/css/_schemes/Muse/_sidebar.styl","hash":"78c7db347614d39ee23d9c8c739ac32132f28b08","modified":1672221079994},{"_id":"themes/amber/source/css/_schemes/Muse/_sub-menu.styl","hash":"2d3e05015796a790abd9d68957a5c698c0c9f9b6","modified":1672221079995},{"_id":"themes/amber/source/css/_schemes/Muse/index.styl","hash":"25c2a7930da14f023329df20f38df2728057fb4d","modified":1672221079996},{"_id":"themes/amber/source/lib/font-awesome/css/all.min.css","hash":"82e34d28f8a1169b20b60101d5bb0446deba3514","modified":1672221080032},{"_id":"themes/amber/source/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"260bb01acd44d88dcb7f501a238ab968f86bef9e","modified":1672221080034},{"_id":"themes/amber/source/css/_common/outline/header/bookmark.styl","hash":"b4f4bae437d4f994af93cf142494ffcd86bae46b","modified":1672221079951},{"_id":"themes/amber/source/css/_common/outline/footer/footer.styl","hash":"7eeb22c5696f8e0c95161dc57703973cf81c8c12","modified":1672221079949},{"_id":"themes/amber/source/css/_common/outline/header/headerband.styl","hash":"6d5f26646e2914474f295de8bf6dc327d4acd529","modified":1672221079954},{"_id":"themes/amber/source/css/_common/outline/header/github-banner.styl","hash":"1283ee3dce7b47cdf6c4b89a9e36fe699fd49797","modified":1672221079952},{"_id":"themes/amber/source/css/_common/outline/header/header.styl","hash":"300058ca12e81013e77ba01fe66ac210525768b6","modified":1672221079953},{"_id":"themes/amber/source/css/_common/outline/header/site-meta.styl","hash":"5cd570ca9540ae72bbcf3d2019b27da01d85893a","modified":1672221079956},{"_id":"themes/amber/source/css/_common/outline/header/menu.styl","hash":"638718693167f0308e2374b20cff3560b3ee4626","modified":1672221079955},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"49722d555a2edb18094bb2cb3d7336dd72051b93","modified":1672221079960},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"096f908c08ce553e482aadfd3e767a0145191093","modified":1672221079962},{"_id":"themes/amber/source/css/_common/outline/header/site-nav.styl","hash":"2f81f5d303d33920d0d0caec49ccebb377166deb","modified":1672221079957},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"525242ce9e912c4adfe5134347c67dbdb9e98e3d","modified":1672221079963},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"6a448a5838579993d6e99323dbda40389df449c6","modified":1672221079961},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"12f7eaf6b56624cbc411528562d6bb848ff97039","modified":1672221079963},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"098b4bdf49c7300490f959386d5d1185a32543f6","modified":1672221079966},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar.styl","hash":"a844c63d0c8bdd586f0c73a9dee99841d7556d9d","modified":1672221079967},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"b11b04737a1a0fea3bd9f0081d96ee6c015358d4","modified":1672221079964},{"_id":"themes/amber/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"fa0a2ea57b7b4ce75b5d18c264af2d92ea3192f9","modified":1672221079965},{"_id":"themes/amber/source/css/_common/components/pages/breadcrumb.styl","hash":"236a039b0900f4267de566b46f62314ad967d30f","modified":1672221079925},{"_id":"themes/amber/source/css/_common/outline/sidebar/site-state.styl","hash":"67a1fcb33535122d41acd24f1f49cf02c89b88fa","modified":1672221079968},{"_id":"themes/amber/source/css/_common/components/pages/pages.styl","hash":"6cf78a379bb656cc0abb4ab80fcae60152ce41ad","modified":1672221079927},{"_id":"themes/amber/source/css/_common/components/pages/categories.styl","hash":"18edddb2ffb3f85a68e4367f81e06c461e07bc25","modified":1672221079926},{"_id":"themes/amber/source/css/_common/components/pages/tag-cloud.styl","hash":"97974c231b4659b8aa5e9321c4d54db5c816d0db","modified":1672221079929},{"_id":"themes/amber/source/css/_common/components/post/post-copyright.styl","hash":"9af620eba5ccceea21a0e3bc69f6f1fa7637c2f3","modified":1672221079931},{"_id":"themes/amber/source/css/_common/components/post/post-eof.styl","hash":"70b3eb9d36543ab92796ac163544e9cf51b7c1e6","modified":1672221079931},{"_id":"themes/amber/source/css/_common/components/pages/schedule.styl","hash":"f6f05f02d50f742c84ee5122016c0563a8bb2cf9","modified":1672221079928},{"_id":"themes/amber/source/css/_common/components/post/post-collapse.styl","hash":"a52f8cae599099231866298ed831fdf76c9b6717","modified":1672221079930},{"_id":"themes/amber/source/css/_common/components/post/post-followme.styl","hash":"57b9a179675f1536e017cba457b6ac575e397c4f","modified":1672221079933},{"_id":"themes/amber/source/css/_common/components/post/post-gallery.styl","hash":"0dfb97703a519d9438f64f9e41ab1dd37381f733","modified":1672221079934},{"_id":"themes/amber/source/css/_common/components/post/post-expand.styl","hash":"97dec98d0403097d66822f1c90b50b2890c84698","modified":1672221079932},{"_id":"themes/amber/source/css/_common/components/post/post-rtl.styl","hash":"09dda2667628d1f91b2e37d8fc6df1413f961b64","modified":1672221079938},{"_id":"themes/amber/source/css/_common/components/post/post-header.styl","hash":"93ba8172c0d2c37d738e6dbd44fcd5a2e23b92f3","modified":1672221079935},{"_id":"themes/amber/source/css/_common/components/post/post-nav.styl","hash":"2c24829d95c742eb9e8316ebf2fbe9f2c168b59a","modified":1672221079935},{"_id":"themes/amber/source/css/_common/components/post/post-widgets.styl","hash":"b266d2ce5e2b117be01537889e839a69004dc0bb","modified":1672221079939},{"_id":"themes/amber/source/css/_common/components/third-party/gitalk.styl","hash":"b87f4a06c0db893df4f756f24be182e1a4751f24","modified":1672221079943},{"_id":"themes/amber/source/css/_common/components/post/post-reward.styl","hash":"66fc406796b6efe6cea76550573b7a632112406a","modified":1672221079937},{"_id":"themes/amber/source/css/_common/components/post/post-tags.styl","hash":"5cc9e7394c927065c688cba5edd6e0a27587f1d8","modified":1672221079938},{"_id":"themes/amber/source/css/_common/components/third-party/math.styl","hash":"d83102771df652769e51ddfd041cf5f4ca1a041d","modified":1672221079943},{"_id":"themes/amber/source/css/_common/components/third-party/related-posts.styl","hash":"8ed7a9d5dfac592de703421b543978095129aa5b","modified":1672221079944},{"_id":"themes/amber/source/css/_common/components/post/post.styl","hash":"8d884bb9f3386d710588749a7da2df40c7c49b42","modified":1672221079940},{"_id":"themes/amber/source/css/_common/components/third-party/third-party.styl","hash":"1f6b0d3ab227697ca115e57fd61122ea7950e19d","modified":1672221079946},{"_id":"themes/amber/source/css/_common/scaffolding/highlight/diff.styl","hash":"83bd737f663a8461e66985af8ddbfc0a731fc939","modified":1672221079974},{"_id":"themes/amber/source/css/_common/components/third-party/search.styl","hash":"bad99f4cccb93b3cefe990a2c85124e60698d32e","modified":1672221079945},{"_id":"themes/amber/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"4079e616fbf36112dec0674c1e0713d1d9769068","modified":1672221079973},{"_id":"themes/amber/source/css/_common/scaffolding/highlight/highlight.styl","hash":"80488259271bcfe38031f4c2e902463daba9336b","modified":1672221079975},{"_id":"themes/amber/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"aca7bb220fc14ef2a8f96282d2a95a96a9238d46","modified":1672221079982},{"_id":"themes/amber/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"ceacfa6218f6084c71a230b086e5d2708d29927e","modified":1672221079981},{"_id":"themes/amber/source/css/_common/scaffolding/tags/label.styl","hash":"8b7aafb911850c73074cdb6cc87abe4ac8c12e99","modified":1672221079982},{"_id":"themes/amber/source/css/_common/scaffolding/highlight/theme.styl","hash":"c911045b2ce9a66e38d9dd30c7ed078abbc10cbf","modified":1672221079976},{"_id":"themes/amber/source/css/_common/scaffolding/tags/tags.styl","hash":"51d46fa3c7c6b691c61a2c2b0ac005c97cfbf72b","modified":1672221079987},{"_id":"themes/amber/source/css/_common/scaffolding/tags/pdf.styl","hash":"03a5bcecc0b12231462ef6ffe432fa77ee71beff","modified":1672221079985},{"_id":"themes/amber/source/css/_common/scaffolding/tags/note.styl","hash":"adaf0f580fccf4158169eeaf534a18005b39a760","modified":1672221079983},{"_id":"themes/amber/source/css/_common/scaffolding/tags/tabs.styl","hash":"3256e39f281f06751a1c0145d9806a0e56d68170","modified":1672221079986},{"_id":"themes/amber/source/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"509988477da79c146cb93fb728405f18e923c2de","modified":1672221080033},{"_id":"themes/amber/source/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"75a88815c47a249eadb5f0edc1675957f860cca7","modified":1672221080035}],"Category":[{"name":"å¹´ç»ˆæ€»ç»“","_id":"clf15nhsc00043kv73deqgmp3"},{"name":"javascript","_id":"clf15nhss000e3kv7gh6p3hg9"},{"name":"python","_id":"clf15nht0000l3kv7g7038yar"},{"name":"react","_id":"clf15nht4000r3kv7g54j69xu"},{"name":"ä¸€äº›è¶£äº‹çš„ğŸŒŸ","_id":"clf15nht9000w3kv7enid4607"},{"name":"web","_id":"clf15nhte00153kv75dksbeah"}],"Data":[{"_id":"linklist","data":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}],"Page":[{"title":"Â· å…³äº Â·","date":"2021-10-01T11:24:48.000Z","_content":"\n```javascript\nå–œæ¬¢ JavaScript;\nå…´è¶£ python;\nå®³æ€•æ–°ä¸œè¥¿ï¼Œä½†åˆå–œæ¬¢æ–°ä¸œè¥¿;\nçƒ­çˆ±å‰ç«¯ï¼Œæ›´çˆ±å¤§å‰ç«¯;\nå–œæ¬¢ç”Ÿæ´»ï¼Œå¸Œæœ›ç”Ÿæ´»ä¹Ÿå–œæ¬¢æˆ‘ğŸ˜‚\n```\n\n> %E7%83%AD%E7%88%B1%E4%BD%A0%E6%89%80%E7%83%AD%E7%88%B1 ----------- _mySelf_ï¼ˆurl encodedğŸ˜€ï¼‰\n","source":"about/index.md","raw":"---\ntitle: Â· å…³äº Â·\ndate: 2021-10-01 19:24:48\n---\n\n```javascript\nå–œæ¬¢ JavaScript;\nå…´è¶£ python;\nå®³æ€•æ–°ä¸œè¥¿ï¼Œä½†åˆå–œæ¬¢æ–°ä¸œè¥¿;\nçƒ­çˆ±å‰ç«¯ï¼Œæ›´çˆ±å¤§å‰ç«¯;\nå–œæ¬¢ç”Ÿæ´»ï¼Œå¸Œæœ›ç”Ÿæ´»ä¹Ÿå–œæ¬¢æˆ‘ğŸ˜‚\n```\n\n> %E7%83%AD%E7%88%B1%E4%BD%A0%E6%89%80%E7%83%AD%E7%88%B1 ----------- _mySelf_ï¼ˆurl encodedğŸ˜€ï¼‰\n","updated":"2022-12-31T10:26:33.604Z","path":"about/index.html","comments":1,"layout":"page","_id":"clf15nhrw00003kv735ha5y0q","content":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">å–œæ¬¢ JavaScript;</span><br><span class=\"line\">å…´è¶£ python;</span><br><span class=\"line\">å®³æ€•æ–°ä¸œè¥¿ï¼Œä½†åˆå–œæ¬¢æ–°ä¸œè¥¿;</span><br><span class=\"line\">çƒ­çˆ±å‰ç«¯ï¼Œæ›´çˆ±å¤§å‰ç«¯;</span><br><span class=\"line\">å–œæ¬¢ç”Ÿæ´»ï¼Œå¸Œæœ›ç”Ÿæ´»ä¹Ÿå–œæ¬¢æˆ‘ğŸ˜‚</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>%E7%83%AD%E7%88%B1%E4%BD%A0%E6%89%80%E7%83%AD%E7%88%B1 â€”â€”â€”â€“ _mySelf_ï¼ˆurl encodedğŸ˜€ï¼‰</p>\n</blockquote>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":147,"excerpt":"","more":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">å–œæ¬¢ JavaScript;</span><br><span class=\"line\">å…´è¶£ python;</span><br><span class=\"line\">å®³æ€•æ–°ä¸œè¥¿ï¼Œä½†åˆå–œæ¬¢æ–°ä¸œè¥¿;</span><br><span class=\"line\">çƒ­çˆ±å‰ç«¯ï¼Œæ›´çˆ±å¤§å‰ç«¯;</span><br><span class=\"line\">å–œæ¬¢ç”Ÿæ´»ï¼Œå¸Œæœ›ç”Ÿæ´»ä¹Ÿå–œæ¬¢æˆ‘ğŸ˜‚</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>%E7%83%AD%E7%88%B1%E4%BD%A0%E6%89%80%E7%83%AD%E7%88%B1 â€”â€”â€”â€“ _mySelf_ï¼ˆurl encodedğŸ˜€ï¼‰</p>\n</blockquote>\n"},{"title":"categories","date":"2021-10-01T11:23:20.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2021-10-01 19:23:20\ntype: \"categories\"\n---\n","updated":"2022-12-31T10:26:33.605Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clf15nhs600023kv7aqbbgzte","content":"","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":0,"excerpt":"","more":""},{"title":"ä¸‹é¢çš„å„ä½éƒ½æ˜¯å¤§ä½¬","date":"2021-11-08T16:16:21.000Z","type":"links","_content":"","source":"friendsLinks/index.md","raw":"---\ntitle: ä¸‹é¢çš„å„ä½éƒ½æ˜¯å¤§ä½¬\ndate: 2021-11-09 00:16:21\ntype: links\n---\n","updated":"2022-12-31T10:26:33.607Z","path":"friendsLinks/index.html","comments":1,"layout":"page","_id":"clf15nhse00053kv7c3lxfdas","content":"","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":0,"excerpt":"","more":""},{"title":"tags","date":"2021-10-01T11:24:20.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2021-10-01 19:24:20\ntype: \"tags\"\ncomments: false\n---\n","updated":"2022-12-31T10:26:33.613Z","path":"tags/index.html","layout":"page","_id":"clf15nhsh00073kv7hpda0ib3","content":"","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":0,"excerpt":"","more":""}],"Post":[{"title":"2022 å¹´ç»ˆæ€»ç»“","date":"2022-12-31T09:53:46.000Z","_content":"\n2022 å¹´å°±è¦ç»“æŸäº†ï¼Œå›æƒ³è¿™ä¸€å¹´å¯è°“æ˜¯äº”å‘³æ‚é™ˆå•Šã€‚ä¹Ÿæ˜¯ç»å†è®¸å¤šç¬¬ä¸€æ¬¡çš„ä¸€å¹´å§ã€‚\n\n<!-- more -->\n\n## ç”Ÿæ´»\n\nåœ¨è¿™å­¦æœŸå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å¤§ä¸‰ä¸‹ï¼Œç„¶åå¼€å§‹æ‰¾å®ä¹ äº†ã€‚åœ¨æ‰¾å®ä¹ çš„è¿‡ç¨‹ä¸­è¿˜ç®—åå·å§ï¼Œç»å†äº†äººç”Ÿçš„ç¬¬ä¸€æ¬¡é¢è¯•ã€‚å…¶å®æŠ•çš„å…¬å¸ä¸€ä¸ªæ‰‹èƒ½æ•°è¿‡æ¥ã€‚ç„¶åå°±åˆ†åˆ«é¢äº†å­—èŠ‚ã€ç½‘æ˜“ã€èš‚èšã€‚å…¶ä¸­å­—èŠ‚é¢äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯å›½é™…åŒ–ç”µå•†ï¼Œå¦ä¸€æ¬¡å°±æ˜¯æˆ‘ä¸‹åŠå¹´æ‰€å®ä¹ çš„éƒ¨é—¨æ‡‚è½¦å¸äº†ã€‚\n\næ›²æ›²æŠ˜æŠ˜ï¼Œè¿™ä¸€å¹´æœ€ç¾å¥½çš„ä¹Ÿå°±æ˜¯ä¸‹åŠå¹´å®ä¹ åŒ—æ¼‚çš„è¿™ä¸€æ®µæ—¶é—´äº†ï¼Œè·Ÿæˆ‘çš„å®éªŒå®¤åŒå­¦ã€å®¤å‹ã€ä¸€å¼€å§‹ä¸è®¤è¯†çš„åŒæ ¡åŒå­¦ï¼ˆå“ˆå“ˆå“ˆï¼Œè¿™ç§°å‘¼æ„Ÿè§‰æœ‰ç‚¹æ€ªæ€ªçš„ï¼‰ã€‚\n\n### ç§Ÿæˆ¿ç¯‡\n\nå»åŒ—äº¬æ€»å¾—ç§Ÿæˆ¿å§ã€‚æ˜¯çš„ï¼Œç„¶åæˆ‘ä»¬å°±è¢«ä¸­ä»‹...(æ‡‚çš„éƒ½æ‡‚)ã€‚ç¬¬ä¸€æ¬¡ç§Ÿæˆ¿æ˜¯ä¸‰ä¸ªåˆç§Ÿçš„ï¼Œæˆ¿ç§Ÿ 8000 ä¸€æœˆï¼Œé¦–ä»˜ä¸€å…± 4 ä¸‡å¤šå§ï¼Œä¸‰ä¸ªæœˆã€‚å½“æ—¶è¿˜æ˜¯æŒºéœ‡æƒŠçš„ï¼Œç¬¬ä¸€æ¬¡æ‹¿å‡ºå»è¿™ä¹ˆå¤šé’± ğŸ˜‚ã€‚\n\næ€»çš„æ¥è¯´ï¼ŒåŒ—äº¬ç§Ÿæˆ¿æƒ³äº‹å°‘çš„è¯è¿˜æ˜¯èµ°ä¸€äº›å¹³å°ï¼Œæ¯”å¦‚è‡ªå¦‚ä»€ä¹ˆçš„ï¼Œè™½ç„¶è¯´æœ‰é‚£ä¹ˆäº¿ä¸¢ä¸¢è´µã€‚ä½†æ˜¯ä¼šæœ‰ä¸€äº›æœåŠ¡ä¹‹ç±»çš„ï¼Œæ¯”å¦‚æ‰“æ‰«æˆ¿é—´ã€‚å¥½åƒå°±æ‰“æ‰«æˆ¿é—´æœ‰ç”¨ ğŸ¤”ã€‚\n\n### ä¸Šç­ç¯‡\n\n**å›¢é˜Ÿèšé¤**\næ‰‹åŠ¨è¡¥ä¸Š ä¿Šå“¥è·Ÿä¸œé˜³å“¥ ğŸ‘\n\n![team](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311521.JPG)\n\n- åœ°ç‚¹ï¼šåŒ—äº¬å¸‚æµ·æ·€åŒºä¸­åŸ/ä¸­å…´å¤§å¦\n\n- äº¤é€šå·¥å…·ï¼šå¼€æ°´å›¢çš„è‡ªè¡Œè½¦å•Šå“ˆå“ˆå“ˆå“ˆå“ˆ\n\nä¸€ä¸ªèŒåœºå°ç™½ï¼Œåˆå…¥èŒåœºï¼Œæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ ï¼Œä¸è®ºæ˜¯ä¸“ä¸šçš„è¿˜æ˜¯éä¸“ä¸šçš„ã€‚ä»ä¸€ä¸ªæœˆå¼€å§‹çš„é™Œç”Ÿåˆ°åæ¥çš„è½»è½¦ç†Ÿè·¯ã€‚æ”¶è·é¢‡ä¸ºä¸°åšï¼Œåœ¨è¿™é‡Œå¿…é¡»è¦æ„Ÿè°¢ä¸‹æˆ‘çš„ mentorï¼ŒçœŸæ˜¯éå¸¸çš„ niceã€‚\n\næ”¶è·æ»¡æ»¡çš„ gitlab\n\n![gitlab commit](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311520.JPG)\n\nå¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œå®ä¹ ï¼Œæ€»çš„æ¥è¯´ç´¯å¹¶å¿«ä¹ç€ï¼Œé—æ†¾å°±æ˜¯æœªèƒ½ç•™ä¸‹ç»§ç»­å‰è¡Œ ğŸ˜…ã€‚\n\n![waka time](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311502.png)\n\n### å¨±ä¹ç¯‡\n\nè¿™æ³¢å•Šï¼Œè™½ç„¶åŒ—äº¬è·Ÿæˆ‘æƒ³è±¡çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½†è¿˜æ˜¯å¯ä»¥çš„\n\n![è·Ÿæœ‹å‹ä»¬åƒçš„ç¾é£Ÿ](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311522.PNG)\n\nç¬¬ä¸€æ¬¡çœ‹è§äº†â€œå¤§è£¤è¡©â€\n![å¤§è£¤è¡©](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311739.JPG)\n\nå’Œæœ‹å‹ä»¬é€›äº†ä¸€å°ä¼šé¸Ÿå·¢\n![é¸Ÿå·¢](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311740.png)\n\n**å›æƒ³èµ·æ¥çœŸæ˜¯å›å¿†æ»¡æ»¡**\n\n## æ€æƒ³\n\nè¿™æ–¹é¢è¿˜æ˜¯å¾—å¤šæ€è€ƒå§ï¼Œä¹Ÿè¦å­¦ä¼š say noï¼ŒåŒæ—¶è¦æœ‰è‡ªå·±å¾—è§è§£ã€‚\n\n## è§„åˆ’\n\n- åšæŒå†™ä½œï¼Œè¾“å‡ºè´¨é‡æ–‡ç« \n- å­¦ä¹ å›¾å½¢å­¦ï¼Œå‘å±•å¤šé¢†åŸŸ\n- æœ‰æœºä¼šå‘å‡ ä¸ª b ç«™è§†é¢‘ ğŸ¤”\n- positive\n\n## æ€»ç»“\n\n2022 å……æ»¡å›å¿†çš„ä¸€å¹´ï¼Œæ„Ÿè°¢æˆ‘èº«è¾¹çš„æ¯ä¸€ä¸ªäººï¼Œä»–ä»¬æ•™ä¼šäº†æˆ‘è®¸å¤šï¼Œè®©æˆ‘æ˜ç™½äº†è®¸å¤šã€‚ Respectã€‚\n","source":"_posts/2022-å¹´ç»ˆæ€»ç»“.md","raw":"---\ntitle: 2022 å¹´ç»ˆæ€»ç»“\ndate: 2022-12-31 17:53:46\ntags:\ncategories: å¹´ç»ˆæ€»ç»“\n---\n\n2022 å¹´å°±è¦ç»“æŸäº†ï¼Œå›æƒ³è¿™ä¸€å¹´å¯è°“æ˜¯äº”å‘³æ‚é™ˆå•Šã€‚ä¹Ÿæ˜¯ç»å†è®¸å¤šç¬¬ä¸€æ¬¡çš„ä¸€å¹´å§ã€‚\n\n<!-- more -->\n\n## ç”Ÿæ´»\n\nåœ¨è¿™å­¦æœŸå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å¤§ä¸‰ä¸‹ï¼Œç„¶åå¼€å§‹æ‰¾å®ä¹ äº†ã€‚åœ¨æ‰¾å®ä¹ çš„è¿‡ç¨‹ä¸­è¿˜ç®—åå·å§ï¼Œç»å†äº†äººç”Ÿçš„ç¬¬ä¸€æ¬¡é¢è¯•ã€‚å…¶å®æŠ•çš„å…¬å¸ä¸€ä¸ªæ‰‹èƒ½æ•°è¿‡æ¥ã€‚ç„¶åå°±åˆ†åˆ«é¢äº†å­—èŠ‚ã€ç½‘æ˜“ã€èš‚èšã€‚å…¶ä¸­å­—èŠ‚é¢äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯å›½é™…åŒ–ç”µå•†ï¼Œå¦ä¸€æ¬¡å°±æ˜¯æˆ‘ä¸‹åŠå¹´æ‰€å®ä¹ çš„éƒ¨é—¨æ‡‚è½¦å¸äº†ã€‚\n\næ›²æ›²æŠ˜æŠ˜ï¼Œè¿™ä¸€å¹´æœ€ç¾å¥½çš„ä¹Ÿå°±æ˜¯ä¸‹åŠå¹´å®ä¹ åŒ—æ¼‚çš„è¿™ä¸€æ®µæ—¶é—´äº†ï¼Œè·Ÿæˆ‘çš„å®éªŒå®¤åŒå­¦ã€å®¤å‹ã€ä¸€å¼€å§‹ä¸è®¤è¯†çš„åŒæ ¡åŒå­¦ï¼ˆå“ˆå“ˆå“ˆï¼Œè¿™ç§°å‘¼æ„Ÿè§‰æœ‰ç‚¹æ€ªæ€ªçš„ï¼‰ã€‚\n\n### ç§Ÿæˆ¿ç¯‡\n\nå»åŒ—äº¬æ€»å¾—ç§Ÿæˆ¿å§ã€‚æ˜¯çš„ï¼Œç„¶åæˆ‘ä»¬å°±è¢«ä¸­ä»‹...(æ‡‚çš„éƒ½æ‡‚)ã€‚ç¬¬ä¸€æ¬¡ç§Ÿæˆ¿æ˜¯ä¸‰ä¸ªåˆç§Ÿçš„ï¼Œæˆ¿ç§Ÿ 8000 ä¸€æœˆï¼Œé¦–ä»˜ä¸€å…± 4 ä¸‡å¤šå§ï¼Œä¸‰ä¸ªæœˆã€‚å½“æ—¶è¿˜æ˜¯æŒºéœ‡æƒŠçš„ï¼Œç¬¬ä¸€æ¬¡æ‹¿å‡ºå»è¿™ä¹ˆå¤šé’± ğŸ˜‚ã€‚\n\næ€»çš„æ¥è¯´ï¼ŒåŒ—äº¬ç§Ÿæˆ¿æƒ³äº‹å°‘çš„è¯è¿˜æ˜¯èµ°ä¸€äº›å¹³å°ï¼Œæ¯”å¦‚è‡ªå¦‚ä»€ä¹ˆçš„ï¼Œè™½ç„¶è¯´æœ‰é‚£ä¹ˆäº¿ä¸¢ä¸¢è´µã€‚ä½†æ˜¯ä¼šæœ‰ä¸€äº›æœåŠ¡ä¹‹ç±»çš„ï¼Œæ¯”å¦‚æ‰“æ‰«æˆ¿é—´ã€‚å¥½åƒå°±æ‰“æ‰«æˆ¿é—´æœ‰ç”¨ ğŸ¤”ã€‚\n\n### ä¸Šç­ç¯‡\n\n**å›¢é˜Ÿèšé¤**\næ‰‹åŠ¨è¡¥ä¸Š ä¿Šå“¥è·Ÿä¸œé˜³å“¥ ğŸ‘\n\n![team](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311521.JPG)\n\n- åœ°ç‚¹ï¼šåŒ—äº¬å¸‚æµ·æ·€åŒºä¸­åŸ/ä¸­å…´å¤§å¦\n\n- äº¤é€šå·¥å…·ï¼šå¼€æ°´å›¢çš„è‡ªè¡Œè½¦å•Šå“ˆå“ˆå“ˆå“ˆå“ˆ\n\nä¸€ä¸ªèŒåœºå°ç™½ï¼Œåˆå…¥èŒåœºï¼Œæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ ï¼Œä¸è®ºæ˜¯ä¸“ä¸šçš„è¿˜æ˜¯éä¸“ä¸šçš„ã€‚ä»ä¸€ä¸ªæœˆå¼€å§‹çš„é™Œç”Ÿåˆ°åæ¥çš„è½»è½¦ç†Ÿè·¯ã€‚æ”¶è·é¢‡ä¸ºä¸°åšï¼Œåœ¨è¿™é‡Œå¿…é¡»è¦æ„Ÿè°¢ä¸‹æˆ‘çš„ mentorï¼ŒçœŸæ˜¯éå¸¸çš„ niceã€‚\n\næ”¶è·æ»¡æ»¡çš„ gitlab\n\n![gitlab commit](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311520.JPG)\n\nå¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œå®ä¹ ï¼Œæ€»çš„æ¥è¯´ç´¯å¹¶å¿«ä¹ç€ï¼Œé—æ†¾å°±æ˜¯æœªèƒ½ç•™ä¸‹ç»§ç»­å‰è¡Œ ğŸ˜…ã€‚\n\n![waka time](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311502.png)\n\n### å¨±ä¹ç¯‡\n\nè¿™æ³¢å•Šï¼Œè™½ç„¶åŒ—äº¬è·Ÿæˆ‘æƒ³è±¡çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½†è¿˜æ˜¯å¯ä»¥çš„\n\n![è·Ÿæœ‹å‹ä»¬åƒçš„ç¾é£Ÿ](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311522.PNG)\n\nç¬¬ä¸€æ¬¡çœ‹è§äº†â€œå¤§è£¤è¡©â€\n![å¤§è£¤è¡©](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311739.JPG)\n\nå’Œæœ‹å‹ä»¬é€›äº†ä¸€å°ä¼šé¸Ÿå·¢\n![é¸Ÿå·¢](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311740.png)\n\n**å›æƒ³èµ·æ¥çœŸæ˜¯å›å¿†æ»¡æ»¡**\n\n## æ€æƒ³\n\nè¿™æ–¹é¢è¿˜æ˜¯å¾—å¤šæ€è€ƒå§ï¼Œä¹Ÿè¦å­¦ä¼š say noï¼ŒåŒæ—¶è¦æœ‰è‡ªå·±å¾—è§è§£ã€‚\n\n## è§„åˆ’\n\n- åšæŒå†™ä½œï¼Œè¾“å‡ºè´¨é‡æ–‡ç« \n- å­¦ä¹ å›¾å½¢å­¦ï¼Œå‘å±•å¤šé¢†åŸŸ\n- æœ‰æœºä¼šå‘å‡ ä¸ª b ç«™è§†é¢‘ ğŸ¤”\n- positive\n\n## æ€»ç»“\n\n2022 å……æ»¡å›å¿†çš„ä¸€å¹´ï¼Œæ„Ÿè°¢æˆ‘èº«è¾¹çš„æ¯ä¸€ä¸ªäººï¼Œä»–ä»¬æ•™ä¼šäº†æˆ‘è®¸å¤šï¼Œè®©æˆ‘æ˜ç™½äº†è®¸å¤šã€‚ Respectã€‚\n","slug":"2022-å¹´ç»ˆæ€»ç»“","published":1,"updated":"2022-12-31T10:26:33.579Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhs000013kv7ao0tdmjr","content":"<p>2022 å¹´å°±è¦ç»“æŸäº†ï¼Œå›æƒ³è¿™ä¸€å¹´å¯è°“æ˜¯äº”å‘³æ‚é™ˆå•Šã€‚ä¹Ÿæ˜¯ç»å†è®¸å¤šç¬¬ä¸€æ¬¡çš„ä¸€å¹´å§ã€‚</p>\n<span id=\"more\"></span>\n\n<h2 id=\"ç”Ÿæ´»\"><a href=\"#ç”Ÿæ´»\" class=\"headerlink\" title=\"ç”Ÿæ´»\"></a>ç”Ÿæ´»</h2><p>åœ¨è¿™å­¦æœŸå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å¤§ä¸‰ä¸‹ï¼Œç„¶åå¼€å§‹æ‰¾å®ä¹ äº†ã€‚åœ¨æ‰¾å®ä¹ çš„è¿‡ç¨‹ä¸­è¿˜ç®—åå·å§ï¼Œç»å†äº†äººç”Ÿçš„ç¬¬ä¸€æ¬¡é¢è¯•ã€‚å…¶å®æŠ•çš„å…¬å¸ä¸€ä¸ªæ‰‹èƒ½æ•°è¿‡æ¥ã€‚ç„¶åå°±åˆ†åˆ«é¢äº†å­—èŠ‚ã€ç½‘æ˜“ã€èš‚èšã€‚å…¶ä¸­å­—èŠ‚é¢äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯å›½é™…åŒ–ç”µå•†ï¼Œå¦ä¸€æ¬¡å°±æ˜¯æˆ‘ä¸‹åŠå¹´æ‰€å®ä¹ çš„éƒ¨é—¨æ‡‚è½¦å¸äº†ã€‚</p>\n<p>æ›²æ›²æŠ˜æŠ˜ï¼Œè¿™ä¸€å¹´æœ€ç¾å¥½çš„ä¹Ÿå°±æ˜¯ä¸‹åŠå¹´å®ä¹ åŒ—æ¼‚çš„è¿™ä¸€æ®µæ—¶é—´äº†ï¼Œè·Ÿæˆ‘çš„å®éªŒå®¤åŒå­¦ã€å®¤å‹ã€ä¸€å¼€å§‹ä¸è®¤è¯†çš„åŒæ ¡åŒå­¦ï¼ˆå“ˆå“ˆå“ˆï¼Œè¿™ç§°å‘¼æ„Ÿè§‰æœ‰ç‚¹æ€ªæ€ªçš„ï¼‰ã€‚</p>\n<h3 id=\"ç§Ÿæˆ¿ç¯‡\"><a href=\"#ç§Ÿæˆ¿ç¯‡\" class=\"headerlink\" title=\"ç§Ÿæˆ¿ç¯‡\"></a>ç§Ÿæˆ¿ç¯‡</h3><p>å»åŒ—äº¬æ€»å¾—ç§Ÿæˆ¿å§ã€‚æ˜¯çš„ï¼Œç„¶åæˆ‘ä»¬å°±è¢«ä¸­ä»‹â€¦(æ‡‚çš„éƒ½æ‡‚)ã€‚ç¬¬ä¸€æ¬¡ç§Ÿæˆ¿æ˜¯ä¸‰ä¸ªåˆç§Ÿçš„ï¼Œæˆ¿ç§Ÿ 8000 ä¸€æœˆï¼Œé¦–ä»˜ä¸€å…± 4 ä¸‡å¤šå§ï¼Œä¸‰ä¸ªæœˆã€‚å½“æ—¶è¿˜æ˜¯æŒºéœ‡æƒŠçš„ï¼Œç¬¬ä¸€æ¬¡æ‹¿å‡ºå»è¿™ä¹ˆå¤šé’± ğŸ˜‚ã€‚</p>\n<p>æ€»çš„æ¥è¯´ï¼ŒåŒ—äº¬ç§Ÿæˆ¿æƒ³äº‹å°‘çš„è¯è¿˜æ˜¯èµ°ä¸€äº›å¹³å°ï¼Œæ¯”å¦‚è‡ªå¦‚ä»€ä¹ˆçš„ï¼Œè™½ç„¶è¯´æœ‰é‚£ä¹ˆäº¿ä¸¢ä¸¢è´µã€‚ä½†æ˜¯ä¼šæœ‰ä¸€äº›æœåŠ¡ä¹‹ç±»çš„ï¼Œæ¯”å¦‚æ‰“æ‰«æˆ¿é—´ã€‚å¥½åƒå°±æ‰“æ‰«æˆ¿é—´æœ‰ç”¨ ğŸ¤”ã€‚</p>\n<h3 id=\"ä¸Šç­ç¯‡\"><a href=\"#ä¸Šç­ç¯‡\" class=\"headerlink\" title=\"ä¸Šç­ç¯‡\"></a>ä¸Šç­ç¯‡</h3><p><strong>å›¢é˜Ÿèšé¤</strong><br>æ‰‹åŠ¨è¡¥ä¸Š ä¿Šå“¥è·Ÿä¸œé˜³å“¥ ğŸ‘</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311521.JPG\" alt=\"team\"></p>\n<ul>\n<li><p>åœ°ç‚¹ï¼šåŒ—äº¬å¸‚æµ·æ·€åŒºä¸­åŸ/ä¸­å…´å¤§å¦</p>\n</li>\n<li><p>äº¤é€šå·¥å…·ï¼šå¼€æ°´å›¢çš„è‡ªè¡Œè½¦å•Šå“ˆå“ˆå“ˆå“ˆå“ˆ</p>\n</li>\n</ul>\n<p>ä¸€ä¸ªèŒåœºå°ç™½ï¼Œåˆå…¥èŒåœºï¼Œæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ ï¼Œä¸è®ºæ˜¯ä¸“ä¸šçš„è¿˜æ˜¯éä¸“ä¸šçš„ã€‚ä»ä¸€ä¸ªæœˆå¼€å§‹çš„é™Œç”Ÿåˆ°åæ¥çš„è½»è½¦ç†Ÿè·¯ã€‚æ”¶è·é¢‡ä¸ºä¸°åšï¼Œåœ¨è¿™é‡Œå¿…é¡»è¦æ„Ÿè°¢ä¸‹æˆ‘çš„ mentorï¼ŒçœŸæ˜¯éå¸¸çš„ niceã€‚</p>\n<p>æ”¶è·æ»¡æ»¡çš„ gitlab</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311520.JPG\" alt=\"gitlab commit\"></p>\n<p>å¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œå®ä¹ ï¼Œæ€»çš„æ¥è¯´ç´¯å¹¶å¿«ä¹ç€ï¼Œé—æ†¾å°±æ˜¯æœªèƒ½ç•™ä¸‹ç»§ç»­å‰è¡Œ ğŸ˜…ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311502.png\" alt=\"waka time\"></p>\n<h3 id=\"å¨±ä¹ç¯‡\"><a href=\"#å¨±ä¹ç¯‡\" class=\"headerlink\" title=\"å¨±ä¹ç¯‡\"></a>å¨±ä¹ç¯‡</h3><p>è¿™æ³¢å•Šï¼Œè™½ç„¶åŒ—äº¬è·Ÿæˆ‘æƒ³è±¡çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½†è¿˜æ˜¯å¯ä»¥çš„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311522.PNG\" alt=\"è·Ÿæœ‹å‹ä»¬åƒçš„ç¾é£Ÿ\"></p>\n<p>ç¬¬ä¸€æ¬¡çœ‹è§äº†â€œå¤§è£¤è¡©â€<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311739.JPG\" alt=\"å¤§è£¤è¡©\"></p>\n<p>å’Œæœ‹å‹ä»¬é€›äº†ä¸€å°ä¼šé¸Ÿå·¢<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311740.png\" alt=\"é¸Ÿå·¢\"></p>\n<p><strong>å›æƒ³èµ·æ¥çœŸæ˜¯å›å¿†æ»¡æ»¡</strong></p>\n<h2 id=\"æ€æƒ³\"><a href=\"#æ€æƒ³\" class=\"headerlink\" title=\"æ€æƒ³\"></a>æ€æƒ³</h2><p>è¿™æ–¹é¢è¿˜æ˜¯å¾—å¤šæ€è€ƒå§ï¼Œä¹Ÿè¦å­¦ä¼š say noï¼ŒåŒæ—¶è¦æœ‰è‡ªå·±å¾—è§è§£ã€‚</p>\n<h2 id=\"è§„åˆ’\"><a href=\"#è§„åˆ’\" class=\"headerlink\" title=\"è§„åˆ’\"></a>è§„åˆ’</h2><ul>\n<li>åšæŒå†™ä½œï¼Œè¾“å‡ºè´¨é‡æ–‡ç« </li>\n<li>å­¦ä¹ å›¾å½¢å­¦ï¼Œå‘å±•å¤šé¢†åŸŸ</li>\n<li>æœ‰æœºä¼šå‘å‡ ä¸ª b ç«™è§†é¢‘ ğŸ¤”</li>\n<li>positive</li>\n</ul>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>2022 å……æ»¡å›å¿†çš„ä¸€å¹´ï¼Œæ„Ÿè°¢æˆ‘èº«è¾¹çš„æ¯ä¸€ä¸ªäººï¼Œä»–ä»¬æ•™ä¼šäº†æˆ‘è®¸å¤šï¼Œè®©æˆ‘æ˜ç™½äº†è®¸å¤šã€‚ Respectã€‚</p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":761,"excerpt":"<p>2022 å¹´å°±è¦ç»“æŸäº†ï¼Œå›æƒ³è¿™ä¸€å¹´å¯è°“æ˜¯äº”å‘³æ‚é™ˆå•Šã€‚ä¹Ÿæ˜¯ç»å†è®¸å¤šç¬¬ä¸€æ¬¡çš„ä¸€å¹´å§ã€‚</p>","more":"<h2 id=\"ç”Ÿæ´»\"><a href=\"#ç”Ÿæ´»\" class=\"headerlink\" title=\"ç”Ÿæ´»\"></a>ç”Ÿæ´»</h2><p>åœ¨è¿™å­¦æœŸå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å¤§ä¸‰ä¸‹ï¼Œç„¶åå¼€å§‹æ‰¾å®ä¹ äº†ã€‚åœ¨æ‰¾å®ä¹ çš„è¿‡ç¨‹ä¸­è¿˜ç®—åå·å§ï¼Œç»å†äº†äººç”Ÿçš„ç¬¬ä¸€æ¬¡é¢è¯•ã€‚å…¶å®æŠ•çš„å…¬å¸ä¸€ä¸ªæ‰‹èƒ½æ•°è¿‡æ¥ã€‚ç„¶åå°±åˆ†åˆ«é¢äº†å­—èŠ‚ã€ç½‘æ˜“ã€èš‚èšã€‚å…¶ä¸­å­—èŠ‚é¢äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯å›½é™…åŒ–ç”µå•†ï¼Œå¦ä¸€æ¬¡å°±æ˜¯æˆ‘ä¸‹åŠå¹´æ‰€å®ä¹ çš„éƒ¨é—¨æ‡‚è½¦å¸äº†ã€‚</p>\n<p>æ›²æ›²æŠ˜æŠ˜ï¼Œè¿™ä¸€å¹´æœ€ç¾å¥½çš„ä¹Ÿå°±æ˜¯ä¸‹åŠå¹´å®ä¹ åŒ—æ¼‚çš„è¿™ä¸€æ®µæ—¶é—´äº†ï¼Œè·Ÿæˆ‘çš„å®éªŒå®¤åŒå­¦ã€å®¤å‹ã€ä¸€å¼€å§‹ä¸è®¤è¯†çš„åŒæ ¡åŒå­¦ï¼ˆå“ˆå“ˆå“ˆï¼Œè¿™ç§°å‘¼æ„Ÿè§‰æœ‰ç‚¹æ€ªæ€ªçš„ï¼‰ã€‚</p>\n<h3 id=\"ç§Ÿæˆ¿ç¯‡\"><a href=\"#ç§Ÿæˆ¿ç¯‡\" class=\"headerlink\" title=\"ç§Ÿæˆ¿ç¯‡\"></a>ç§Ÿæˆ¿ç¯‡</h3><p>å»åŒ—äº¬æ€»å¾—ç§Ÿæˆ¿å§ã€‚æ˜¯çš„ï¼Œç„¶åæˆ‘ä»¬å°±è¢«ä¸­ä»‹â€¦(æ‡‚çš„éƒ½æ‡‚)ã€‚ç¬¬ä¸€æ¬¡ç§Ÿæˆ¿æ˜¯ä¸‰ä¸ªåˆç§Ÿçš„ï¼Œæˆ¿ç§Ÿ 8000 ä¸€æœˆï¼Œé¦–ä»˜ä¸€å…± 4 ä¸‡å¤šå§ï¼Œä¸‰ä¸ªæœˆã€‚å½“æ—¶è¿˜æ˜¯æŒºéœ‡æƒŠçš„ï¼Œç¬¬ä¸€æ¬¡æ‹¿å‡ºå»è¿™ä¹ˆå¤šé’± ğŸ˜‚ã€‚</p>\n<p>æ€»çš„æ¥è¯´ï¼ŒåŒ—äº¬ç§Ÿæˆ¿æƒ³äº‹å°‘çš„è¯è¿˜æ˜¯èµ°ä¸€äº›å¹³å°ï¼Œæ¯”å¦‚è‡ªå¦‚ä»€ä¹ˆçš„ï¼Œè™½ç„¶è¯´æœ‰é‚£ä¹ˆäº¿ä¸¢ä¸¢è´µã€‚ä½†æ˜¯ä¼šæœ‰ä¸€äº›æœåŠ¡ä¹‹ç±»çš„ï¼Œæ¯”å¦‚æ‰“æ‰«æˆ¿é—´ã€‚å¥½åƒå°±æ‰“æ‰«æˆ¿é—´æœ‰ç”¨ ğŸ¤”ã€‚</p>\n<h3 id=\"ä¸Šç­ç¯‡\"><a href=\"#ä¸Šç­ç¯‡\" class=\"headerlink\" title=\"ä¸Šç­ç¯‡\"></a>ä¸Šç­ç¯‡</h3><p><strong>å›¢é˜Ÿèšé¤</strong><br>æ‰‹åŠ¨è¡¥ä¸Š ä¿Šå“¥è·Ÿä¸œé˜³å“¥ ğŸ‘</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311521.JPG\" alt=\"team\"></p>\n<ul>\n<li><p>åœ°ç‚¹ï¼šåŒ—äº¬å¸‚æµ·æ·€åŒºä¸­åŸ/ä¸­å…´å¤§å¦</p>\n</li>\n<li><p>äº¤é€šå·¥å…·ï¼šå¼€æ°´å›¢çš„è‡ªè¡Œè½¦å•Šå“ˆå“ˆå“ˆå“ˆå“ˆ</p>\n</li>\n</ul>\n<p>ä¸€ä¸ªèŒåœºå°ç™½ï¼Œåˆå…¥èŒåœºï¼Œæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ ï¼Œä¸è®ºæ˜¯ä¸“ä¸šçš„è¿˜æ˜¯éä¸“ä¸šçš„ã€‚ä»ä¸€ä¸ªæœˆå¼€å§‹çš„é™Œç”Ÿåˆ°åæ¥çš„è½»è½¦ç†Ÿè·¯ã€‚æ”¶è·é¢‡ä¸ºä¸°åšï¼Œåœ¨è¿™é‡Œå¿…é¡»è¦æ„Ÿè°¢ä¸‹æˆ‘çš„ mentorï¼ŒçœŸæ˜¯éå¸¸çš„ niceã€‚</p>\n<p>æ”¶è·æ»¡æ»¡çš„ gitlab</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311520.JPG\" alt=\"gitlab commit\"></p>\n<p>å¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œå®ä¹ ï¼Œæ€»çš„æ¥è¯´ç´¯å¹¶å¿«ä¹ç€ï¼Œé—æ†¾å°±æ˜¯æœªèƒ½ç•™ä¸‹ç»§ç»­å‰è¡Œ ğŸ˜…ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311502.png\" alt=\"waka time\"></p>\n<h3 id=\"å¨±ä¹ç¯‡\"><a href=\"#å¨±ä¹ç¯‡\" class=\"headerlink\" title=\"å¨±ä¹ç¯‡\"></a>å¨±ä¹ç¯‡</h3><p>è¿™æ³¢å•Šï¼Œè™½ç„¶åŒ—äº¬è·Ÿæˆ‘æƒ³è±¡çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½†è¿˜æ˜¯å¯ä»¥çš„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311522.PNG\" alt=\"è·Ÿæœ‹å‹ä»¬åƒçš„ç¾é£Ÿ\"></p>\n<p>ç¬¬ä¸€æ¬¡çœ‹è§äº†â€œå¤§è£¤è¡©â€<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311739.JPG\" alt=\"å¤§è£¤è¡©\"></p>\n<p>å’Œæœ‹å‹ä»¬é€›äº†ä¸€å°ä¼šé¸Ÿå·¢<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202212311740.png\" alt=\"é¸Ÿå·¢\"></p>\n<p><strong>å›æƒ³èµ·æ¥çœŸæ˜¯å›å¿†æ»¡æ»¡</strong></p>\n<h2 id=\"æ€æƒ³\"><a href=\"#æ€æƒ³\" class=\"headerlink\" title=\"æ€æƒ³\"></a>æ€æƒ³</h2><p>è¿™æ–¹é¢è¿˜æ˜¯å¾—å¤šæ€è€ƒå§ï¼Œä¹Ÿè¦å­¦ä¼š say noï¼ŒåŒæ—¶è¦æœ‰è‡ªå·±å¾—è§è§£ã€‚</p>\n<h2 id=\"è§„åˆ’\"><a href=\"#è§„åˆ’\" class=\"headerlink\" title=\"è§„åˆ’\"></a>è§„åˆ’</h2><ul>\n<li>åšæŒå†™ä½œï¼Œè¾“å‡ºè´¨é‡æ–‡ç« </li>\n<li>å­¦ä¹ å›¾å½¢å­¦ï¼Œå‘å±•å¤šé¢†åŸŸ</li>\n<li>æœ‰æœºä¼šå‘å‡ ä¸ª b ç«™è§†é¢‘ ğŸ¤”</li>\n<li>positive</li>\n</ul>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>2022 å……æ»¡å›å¿†çš„ä¸€å¹´ï¼Œæ„Ÿè°¢æˆ‘èº«è¾¹çš„æ¯ä¸€ä¸ªäººï¼Œä»–ä»¬æ•™ä¼šäº†æˆ‘è®¸å¤šï¼Œè®©æˆ‘æ˜ç™½äº†è®¸å¤šã€‚ Respectã€‚</p>"},{"title":"2021å¹´ç»ˆæ€»ç»“","date":"2021-12-30T17:44:31.000Z","_content":"\n> æ„Ÿæƒ³ï¼š æ—¶é—´è¿‡å¾—çœŸçš„å¾ˆå¿«ï¼Œè€Œéœ€è¦å­¦ä¹ çš„ä¸œè¥¿ä¸€ç›´åœ¨å˜å¤šï¼Œä»å¤§äºŒåˆ°å¤§ä¸‰çš„ï¼Œæ…¢æ…¢åœ°å°±è§‰å¾—è‡ªå·±æ¥è§¦çš„é¢†åŸŸæ‰€æ¸ºå°ã€‚è€Œè¿™ä¸€å¹´é‡Œæ„Ÿå—æœ€æ·±çš„æ€»è¿˜æ˜¯æ—¶é—´ä¸å¤Ÿçš„æ ·å­ã€‚\n\n---\n\n<!-- more -->\n\n### å­¦ä¹ \n\nåœ¨å­¦ä¹ ä¸Šï¼Œå°½ç®¡ä¸æ˜¯æ‰€æœ‰è¯¾ç¨‹å®‰æ’å¾—å¾ˆå¦¥å½“ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›è¯¾ç¨‹è®©æˆ‘å—ç›Šè‰¯å¤šã€‚è®°å¿†æ¯”è¾ƒæ·±åˆ»å¾—è¿˜æ˜¯æš‘å‡å‰çš„ flutter è¯¾ç¨‹å§ã€‚é‚£ä¸€æ¬¡é¢ä¸´å¾—æŒ‘æˆ˜æ˜¯æœªçŸ¥ã€è¯¾ç¨‹æ—¶é—´çŸ­ã€‚è€Œæœ€ç»ˆçš„ä»»åŠ¡æ˜¯ä½¿ç”¨ flutter å®Œæˆä¸€ä¸ª APPã€‚è€Œæˆ‘åšçš„å°±æ˜¯ä¸€ä¸ªè®°ç¬”è®°çš„ APP äº†[(https://github.com/Jealh-h/lightNote)](https://github.com/Jealh-h/lightNote)ï¼Œå°½ç®¡åŠŸèƒ½ä¸æ˜¯é‚£ä¹ˆå®Œå–„ï¼Œä½†è¿™æ¬¡è®©æˆ‘ä½“éªŒåˆ°äº†å…¨æ ˆå¼€å‘çš„ä¸€äº›å›°éš¾å§ï¼Œå¾—ç›Šäº eggjs æ¡†æ¶èƒ½è®©æˆ‘ä¸€ä¸ªä¸å¤ªæ‡‚åç«¯çš„è½»æ¾ä¸€ç‚¹.......ã€‚æ•°æ®åˆ†æè¿™é—¨è¯¾ä¹ŸæŒºå¥½çš„ï¼Œè‡³å°‘è®©æˆ‘åœ¨æœºå™¨å­¦ä¹ æ–¹é¢èƒ½å¤Ÿè°ƒåº“äº†ï¼Œèƒ½è®­ç»ƒæ¨¡å‹äº†ã€‚ç‰¹åˆ«æ˜¯åœ¨æœ€åçš„æˆ¿ä»·é¢„æµ‹çš„é¡¹ç›®ä¸Šï¼Œä»æ•°æ®è·å–åˆ°æ•°æ®åˆ†æå†åˆ°æ¨¡å‹é¢„æµ‹ï¼Œè¿™ä¸€å¥—ä¸‹æ¥è®©æˆ‘è§‰å¾— python æ›´åŠ å¼ºå¤§äº†ã€‚å…¶æ¬¡å°±æ˜¯æ•°æ®å¯è§†åŒ–äº†ï¼Œè™½ç„¶è¯´ç†è®ºè¯¾ç€å®æœ‰ä¸€ç‚¹æ— èŠï¼Œå¥½åœ¨å®éªŒè¯¾è¿˜æ¯”è¾ƒæœ‰è¶£ï¼Œè¿™æ¬¡è®©æˆ‘ä½“éªŒäº†ä¸€æŠŠ d3js,ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ jquery çš„ä¸€ä¸ªå…„å¼Ÿä¸€æ ·ï¼Œåªä¸è¿‡æ›´åŠ é€‚åˆäºç»˜åˆ¶å›¾å½¢ã€‚æœ€åè¯´è¯´ç¼–è¯‘åŸç†å§ï¼Œè¿™é—¨è¯¾å°±æ„Ÿè§‰æ¯”è¾ƒç¥å¥‡å§ï¼Ÿï¼ä»è¯æ³•åˆ†æåˆ°è¯­æ³•åˆ†æï¼Œå†åˆ°è¯­ä¹‰åˆ†æç­‰ç­‰ã€‚éƒ½æ„Ÿè§‰æœ‰å¾ˆå¼ºçš„ç†è®ºæ”¯æ’‘ã€‚å•å°±å¯¹äºç»™å®šçš„ test æ¥è¯´ï¼Œåšä¸€ä¸ªè¯æ³•åˆ†æã€è¯­æ³•åˆ†æçš„å·¥ä½œé‡å°±æŒºå¤§çš„ï¼ˆæ±‚ NFAã€DFA,æ”¹å†™ LL(1)æ–‡æ³•ç­‰ç­‰ï¼‰ï¼Œå¯è§å“ªäº›è¯­è¨€ä¹‹çˆ¶æ˜¯æœ‰å¤š ğŸ‚ äº†ã€‚\n\n### ç”Ÿæ´»\n\nåœ¨è¿™ä¸€å¹´é‡Œä¾ç„¶é‚£ä¹ˆå–œæ¬¢é€› bi ç«™,å–œæ¬¢å¬éŸ³ä¹ã€‚å°è±¡æœ€æ·±çš„è¿˜æ˜¯ã€ŠåŒåŸä¹‹æˆ˜ã€‹äº†,ä¸€æ–¹é¢æ˜¯æˆ‘å–œæ¬¢çš„ç”»é£ï¼Œä½†æ˜¯å‘¢è¿™å‰§æƒ…ç¡®å®æœ‰ç‚¹è™äº†,è¿™å¤§æ¦‚å°±æ˜¯è§’è‰²è®¾å®šå§ã€‚\n**qq éŸ³ä¹å¹´åº¦æŠ¥å‘Š**\n![qqéŸ³ä¹](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/qqmusic_2021.PNG)\n\n**bilibili å¹´åº¦æŠ¥å‘Š**\n![bilibili](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bilibili_2021.PNG)\n\n### æŠ€æœ¯æ ˆ\n\nåœ¨æŠ€æœ¯æ ˆä¸Šï¼Œå¯¹äº react çš„ä½¿ç”¨æ›´åŠ ç†Ÿæ‚‰äº†ï¼Œå°½ç®¡è‡ªå·±æƒ³ç”¨ vue å†™ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä½†å†™åˆ°ä¸€åŠè¿˜æ˜¯æ”¾å¼ƒäº†ï¼ˆå¯èƒ½é‚£æ—¶å€™è¿˜ä¸çŸ¥é“ä¸€äº›å¼ºå¤§çš„ nodejs æ¡†æ¶å§ï¼‰ã€‚æ‰€ä»¥è¿˜æ˜¯ hexo é¦™å•Šï¼Œå°±è¿™æ ·å‘ç°äº†å†™åšå®¢æ˜¯ä¸€ä»¶å¼ºåŒ–è®°å¿†çš„äº‹æƒ…ã€‚åœ¨è¿™ä¸€å¹´é‡Œï¼Œè™½ç„¶åœ¨çŸ¥è¯†å¹¿åº¦ä¸Šæœ‰äº†æå‡ï¼Œä½†åœ¨æ·±åº¦ä¸Šæ„Ÿè§‰è¿˜å­¦æå‡ã€‚æ¯”è¾ƒçº ç»“çš„è¿˜æ˜¯å¯¹äºä¸€äº›å·¥å…·ä¸çŸ¥åˆ°æ˜¯è¦ä¼šåˆ°ä»€ä¹ˆå±‚åº¦å§ï¼Œæ¯”å¦‚ webpack,vite æ˜¯ä¼šæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œè¿˜æ˜¯èƒ½ç†Ÿç»ƒåœ°å†™å‡ºæ¥ã€‚æš‘æœŸåœ¨å®éªŒå®¤æœŸé—´ï¼ŒæŠŠåŸæœ‰çš„ oj3 ç”± webpack æ„å»ºæ”¹æˆäº† vite,åªèƒ½è¯´ vite çœŸå¿«ã€‚ä½¿ç”¨ react é‡å†™äº†ä¸€ä¸ªä¼šè®®å®¤ç®¡ç†ç³»ç»Ÿç«¯ã€‚è€Œå¯¹äºå¾®ä¿¡å°ç¨‹åºé‚£è¾¹ï¼Œè™½ç„¶æ²¡æœ‰è·å¾—å¥–ï¼Œä½†ä¹Ÿæ”¶è·äº†ä¸€äº›å¼€å‘ç»éªŒå§ã€‚è€Œå¯¹äºä¸€äº›å…¶ä»–çŸ¥è¯†ï¼Œæ¯”å¦‚ rustã€electronã€wasmã€ä»¥åŠæ¸¸æˆå¼€å‘éƒ½æ˜¯å¾ˆæƒ³å­¦çš„ï¼Œä½†éƒ½ä¼šæ„Ÿè§‰è‡ªç”±çš„æ—¶é—´å¤ªå°‘ï¼Œè€Œå­¦ä¹ åˆéœ€è¦è€—è´¹å¤§é‡æ—¶é—´ã€‚æ‰€ä»¥è¿˜éœ€è¦æ§åˆ¶è‡ªå·±ã€è®©è‡ªå·±çæƒœæ—¶é—´å•Šã€‚\n\n### æœŸæœ›\n\nå¸Œæœ›è‡ªå·±è®°å¿†åŠ›å¥½ä¸€ç‚¹ã€‚\næ¯ä¸€å¤©éƒ½è¦å´­æ–°çš„ä¸€ç‚¹ã€‚\nå¯¹æ¸´æœ›çš„äº‹æƒ…æ‰§ç€ä¸€ç‚¹ã€‚\nè®©è‡ªå·±çš„æƒ³æ³•ä¸°å¯Œä¸€ç‚¹ã€‚\n\n**å°±ä¸Šé¢é‚£ä¹ˆäº¿ç‚¹å°±å¤Ÿäº†**\n","source":"_posts/2021å¹´ç»ˆæ€»ç»“.md","raw":"---\ntitle: 2021å¹´ç»ˆæ€»ç»“\ndate: 2021-12-31 01:44:31\ntags:\ncategories: å¹´ç»ˆæ€»ç»“\n---\n\n> æ„Ÿæƒ³ï¼š æ—¶é—´è¿‡å¾—çœŸçš„å¾ˆå¿«ï¼Œè€Œéœ€è¦å­¦ä¹ çš„ä¸œè¥¿ä¸€ç›´åœ¨å˜å¤šï¼Œä»å¤§äºŒåˆ°å¤§ä¸‰çš„ï¼Œæ…¢æ…¢åœ°å°±è§‰å¾—è‡ªå·±æ¥è§¦çš„é¢†åŸŸæ‰€æ¸ºå°ã€‚è€Œè¿™ä¸€å¹´é‡Œæ„Ÿå—æœ€æ·±çš„æ€»è¿˜æ˜¯æ—¶é—´ä¸å¤Ÿçš„æ ·å­ã€‚\n\n---\n\n<!-- more -->\n\n### å­¦ä¹ \n\nåœ¨å­¦ä¹ ä¸Šï¼Œå°½ç®¡ä¸æ˜¯æ‰€æœ‰è¯¾ç¨‹å®‰æ’å¾—å¾ˆå¦¥å½“ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›è¯¾ç¨‹è®©æˆ‘å—ç›Šè‰¯å¤šã€‚è®°å¿†æ¯”è¾ƒæ·±åˆ»å¾—è¿˜æ˜¯æš‘å‡å‰çš„ flutter è¯¾ç¨‹å§ã€‚é‚£ä¸€æ¬¡é¢ä¸´å¾—æŒ‘æˆ˜æ˜¯æœªçŸ¥ã€è¯¾ç¨‹æ—¶é—´çŸ­ã€‚è€Œæœ€ç»ˆçš„ä»»åŠ¡æ˜¯ä½¿ç”¨ flutter å®Œæˆä¸€ä¸ª APPã€‚è€Œæˆ‘åšçš„å°±æ˜¯ä¸€ä¸ªè®°ç¬”è®°çš„ APP äº†[(https://github.com/Jealh-h/lightNote)](https://github.com/Jealh-h/lightNote)ï¼Œå°½ç®¡åŠŸèƒ½ä¸æ˜¯é‚£ä¹ˆå®Œå–„ï¼Œä½†è¿™æ¬¡è®©æˆ‘ä½“éªŒåˆ°äº†å…¨æ ˆå¼€å‘çš„ä¸€äº›å›°éš¾å§ï¼Œå¾—ç›Šäº eggjs æ¡†æ¶èƒ½è®©æˆ‘ä¸€ä¸ªä¸å¤ªæ‡‚åç«¯çš„è½»æ¾ä¸€ç‚¹.......ã€‚æ•°æ®åˆ†æè¿™é—¨è¯¾ä¹ŸæŒºå¥½çš„ï¼Œè‡³å°‘è®©æˆ‘åœ¨æœºå™¨å­¦ä¹ æ–¹é¢èƒ½å¤Ÿè°ƒåº“äº†ï¼Œèƒ½è®­ç»ƒæ¨¡å‹äº†ã€‚ç‰¹åˆ«æ˜¯åœ¨æœ€åçš„æˆ¿ä»·é¢„æµ‹çš„é¡¹ç›®ä¸Šï¼Œä»æ•°æ®è·å–åˆ°æ•°æ®åˆ†æå†åˆ°æ¨¡å‹é¢„æµ‹ï¼Œè¿™ä¸€å¥—ä¸‹æ¥è®©æˆ‘è§‰å¾— python æ›´åŠ å¼ºå¤§äº†ã€‚å…¶æ¬¡å°±æ˜¯æ•°æ®å¯è§†åŒ–äº†ï¼Œè™½ç„¶è¯´ç†è®ºè¯¾ç€å®æœ‰ä¸€ç‚¹æ— èŠï¼Œå¥½åœ¨å®éªŒè¯¾è¿˜æ¯”è¾ƒæœ‰è¶£ï¼Œè¿™æ¬¡è®©æˆ‘ä½“éªŒäº†ä¸€æŠŠ d3js,ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ jquery çš„ä¸€ä¸ªå…„å¼Ÿä¸€æ ·ï¼Œåªä¸è¿‡æ›´åŠ é€‚åˆäºç»˜åˆ¶å›¾å½¢ã€‚æœ€åè¯´è¯´ç¼–è¯‘åŸç†å§ï¼Œè¿™é—¨è¯¾å°±æ„Ÿè§‰æ¯”è¾ƒç¥å¥‡å§ï¼Ÿï¼ä»è¯æ³•åˆ†æåˆ°è¯­æ³•åˆ†æï¼Œå†åˆ°è¯­ä¹‰åˆ†æç­‰ç­‰ã€‚éƒ½æ„Ÿè§‰æœ‰å¾ˆå¼ºçš„ç†è®ºæ”¯æ’‘ã€‚å•å°±å¯¹äºç»™å®šçš„ test æ¥è¯´ï¼Œåšä¸€ä¸ªè¯æ³•åˆ†æã€è¯­æ³•åˆ†æçš„å·¥ä½œé‡å°±æŒºå¤§çš„ï¼ˆæ±‚ NFAã€DFA,æ”¹å†™ LL(1)æ–‡æ³•ç­‰ç­‰ï¼‰ï¼Œå¯è§å“ªäº›è¯­è¨€ä¹‹çˆ¶æ˜¯æœ‰å¤š ğŸ‚ äº†ã€‚\n\n### ç”Ÿæ´»\n\nåœ¨è¿™ä¸€å¹´é‡Œä¾ç„¶é‚£ä¹ˆå–œæ¬¢é€› bi ç«™,å–œæ¬¢å¬éŸ³ä¹ã€‚å°è±¡æœ€æ·±çš„è¿˜æ˜¯ã€ŠåŒåŸä¹‹æˆ˜ã€‹äº†,ä¸€æ–¹é¢æ˜¯æˆ‘å–œæ¬¢çš„ç”»é£ï¼Œä½†æ˜¯å‘¢è¿™å‰§æƒ…ç¡®å®æœ‰ç‚¹è™äº†,è¿™å¤§æ¦‚å°±æ˜¯è§’è‰²è®¾å®šå§ã€‚\n**qq éŸ³ä¹å¹´åº¦æŠ¥å‘Š**\n![qqéŸ³ä¹](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/qqmusic_2021.PNG)\n\n**bilibili å¹´åº¦æŠ¥å‘Š**\n![bilibili](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bilibili_2021.PNG)\n\n### æŠ€æœ¯æ ˆ\n\nåœ¨æŠ€æœ¯æ ˆä¸Šï¼Œå¯¹äº react çš„ä½¿ç”¨æ›´åŠ ç†Ÿæ‚‰äº†ï¼Œå°½ç®¡è‡ªå·±æƒ³ç”¨ vue å†™ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä½†å†™åˆ°ä¸€åŠè¿˜æ˜¯æ”¾å¼ƒäº†ï¼ˆå¯èƒ½é‚£æ—¶å€™è¿˜ä¸çŸ¥é“ä¸€äº›å¼ºå¤§çš„ nodejs æ¡†æ¶å§ï¼‰ã€‚æ‰€ä»¥è¿˜æ˜¯ hexo é¦™å•Šï¼Œå°±è¿™æ ·å‘ç°äº†å†™åšå®¢æ˜¯ä¸€ä»¶å¼ºåŒ–è®°å¿†çš„äº‹æƒ…ã€‚åœ¨è¿™ä¸€å¹´é‡Œï¼Œè™½ç„¶åœ¨çŸ¥è¯†å¹¿åº¦ä¸Šæœ‰äº†æå‡ï¼Œä½†åœ¨æ·±åº¦ä¸Šæ„Ÿè§‰è¿˜å­¦æå‡ã€‚æ¯”è¾ƒçº ç»“çš„è¿˜æ˜¯å¯¹äºä¸€äº›å·¥å…·ä¸çŸ¥åˆ°æ˜¯è¦ä¼šåˆ°ä»€ä¹ˆå±‚åº¦å§ï¼Œæ¯”å¦‚ webpack,vite æ˜¯ä¼šæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œè¿˜æ˜¯èƒ½ç†Ÿç»ƒåœ°å†™å‡ºæ¥ã€‚æš‘æœŸåœ¨å®éªŒå®¤æœŸé—´ï¼ŒæŠŠåŸæœ‰çš„ oj3 ç”± webpack æ„å»ºæ”¹æˆäº† vite,åªèƒ½è¯´ vite çœŸå¿«ã€‚ä½¿ç”¨ react é‡å†™äº†ä¸€ä¸ªä¼šè®®å®¤ç®¡ç†ç³»ç»Ÿç«¯ã€‚è€Œå¯¹äºå¾®ä¿¡å°ç¨‹åºé‚£è¾¹ï¼Œè™½ç„¶æ²¡æœ‰è·å¾—å¥–ï¼Œä½†ä¹Ÿæ”¶è·äº†ä¸€äº›å¼€å‘ç»éªŒå§ã€‚è€Œå¯¹äºä¸€äº›å…¶ä»–çŸ¥è¯†ï¼Œæ¯”å¦‚ rustã€electronã€wasmã€ä»¥åŠæ¸¸æˆå¼€å‘éƒ½æ˜¯å¾ˆæƒ³å­¦çš„ï¼Œä½†éƒ½ä¼šæ„Ÿè§‰è‡ªç”±çš„æ—¶é—´å¤ªå°‘ï¼Œè€Œå­¦ä¹ åˆéœ€è¦è€—è´¹å¤§é‡æ—¶é—´ã€‚æ‰€ä»¥è¿˜éœ€è¦æ§åˆ¶è‡ªå·±ã€è®©è‡ªå·±çæƒœæ—¶é—´å•Šã€‚\n\n### æœŸæœ›\n\nå¸Œæœ›è‡ªå·±è®°å¿†åŠ›å¥½ä¸€ç‚¹ã€‚\næ¯ä¸€å¤©éƒ½è¦å´­æ–°çš„ä¸€ç‚¹ã€‚\nå¯¹æ¸´æœ›çš„äº‹æƒ…æ‰§ç€ä¸€ç‚¹ã€‚\nè®©è‡ªå·±çš„æƒ³æ³•ä¸°å¯Œä¸€ç‚¹ã€‚\n\n**å°±ä¸Šé¢é‚£ä¹ˆäº¿ç‚¹å°±å¤Ÿäº†**\n","slug":"2021å¹´ç»ˆæ€»ç»“","published":1,"updated":"2022-12-31T10:26:33.577Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhs800033kv718e17vs8","content":"<blockquote>\n<p>æ„Ÿæƒ³ï¼š æ—¶é—´è¿‡å¾—çœŸçš„å¾ˆå¿«ï¼Œè€Œéœ€è¦å­¦ä¹ çš„ä¸œè¥¿ä¸€ç›´åœ¨å˜å¤šï¼Œä»å¤§äºŒåˆ°å¤§ä¸‰çš„ï¼Œæ…¢æ…¢åœ°å°±è§‰å¾—è‡ªå·±æ¥è§¦çš„é¢†åŸŸæ‰€æ¸ºå°ã€‚è€Œè¿™ä¸€å¹´é‡Œæ„Ÿå—æœ€æ·±çš„æ€»è¿˜æ˜¯æ—¶é—´ä¸å¤Ÿçš„æ ·å­ã€‚</p>\n</blockquote>\n<hr>\n<span id=\"more\"></span>\n\n<h3 id=\"å­¦ä¹ \"><a href=\"#å­¦ä¹ \" class=\"headerlink\" title=\"å­¦ä¹ \"></a>å­¦ä¹ </h3><p>åœ¨å­¦ä¹ ä¸Šï¼Œå°½ç®¡ä¸æ˜¯æ‰€æœ‰è¯¾ç¨‹å®‰æ’å¾—å¾ˆå¦¥å½“ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›è¯¾ç¨‹è®©æˆ‘å—ç›Šè‰¯å¤šã€‚è®°å¿†æ¯”è¾ƒæ·±åˆ»å¾—è¿˜æ˜¯æš‘å‡å‰çš„ flutter è¯¾ç¨‹å§ã€‚é‚£ä¸€æ¬¡é¢ä¸´å¾—æŒ‘æˆ˜æ˜¯æœªçŸ¥ã€è¯¾ç¨‹æ—¶é—´çŸ­ã€‚è€Œæœ€ç»ˆçš„ä»»åŠ¡æ˜¯ä½¿ç”¨ flutter å®Œæˆä¸€ä¸ª APPã€‚è€Œæˆ‘åšçš„å°±æ˜¯ä¸€ä¸ªè®°ç¬”è®°çš„ APP äº†<a href=\"https://github.com/Jealh-h/lightNote\">(https://github.com/Jealh-h/lightNote)</a>ï¼Œå°½ç®¡åŠŸèƒ½ä¸æ˜¯é‚£ä¹ˆå®Œå–„ï¼Œä½†è¿™æ¬¡è®©æˆ‘ä½“éªŒåˆ°äº†å…¨æ ˆå¼€å‘çš„ä¸€äº›å›°éš¾å§ï¼Œå¾—ç›Šäº eggjs æ¡†æ¶èƒ½è®©æˆ‘ä¸€ä¸ªä¸å¤ªæ‡‚åç«¯çš„è½»æ¾ä¸€ç‚¹â€¦â€¦.ã€‚æ•°æ®åˆ†æè¿™é—¨è¯¾ä¹ŸæŒºå¥½çš„ï¼Œè‡³å°‘è®©æˆ‘åœ¨æœºå™¨å­¦ä¹ æ–¹é¢èƒ½å¤Ÿè°ƒåº“äº†ï¼Œèƒ½è®­ç»ƒæ¨¡å‹äº†ã€‚ç‰¹åˆ«æ˜¯åœ¨æœ€åçš„æˆ¿ä»·é¢„æµ‹çš„é¡¹ç›®ä¸Šï¼Œä»æ•°æ®è·å–åˆ°æ•°æ®åˆ†æå†åˆ°æ¨¡å‹é¢„æµ‹ï¼Œè¿™ä¸€å¥—ä¸‹æ¥è®©æˆ‘è§‰å¾— python æ›´åŠ å¼ºå¤§äº†ã€‚å…¶æ¬¡å°±æ˜¯æ•°æ®å¯è§†åŒ–äº†ï¼Œè™½ç„¶è¯´ç†è®ºè¯¾ç€å®æœ‰ä¸€ç‚¹æ— èŠï¼Œå¥½åœ¨å®éªŒè¯¾è¿˜æ¯”è¾ƒæœ‰è¶£ï¼Œè¿™æ¬¡è®©æˆ‘ä½“éªŒäº†ä¸€æŠŠ d3js,ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ jquery çš„ä¸€ä¸ªå…„å¼Ÿä¸€æ ·ï¼Œåªä¸è¿‡æ›´åŠ é€‚åˆäºç»˜åˆ¶å›¾å½¢ã€‚æœ€åè¯´è¯´ç¼–è¯‘åŸç†å§ï¼Œè¿™é—¨è¯¾å°±æ„Ÿè§‰æ¯”è¾ƒç¥å¥‡å§ï¼Ÿï¼ä»è¯æ³•åˆ†æåˆ°è¯­æ³•åˆ†æï¼Œå†åˆ°è¯­ä¹‰åˆ†æç­‰ç­‰ã€‚éƒ½æ„Ÿè§‰æœ‰å¾ˆå¼ºçš„ç†è®ºæ”¯æ’‘ã€‚å•å°±å¯¹äºç»™å®šçš„ test æ¥è¯´ï¼Œåšä¸€ä¸ªè¯æ³•åˆ†æã€è¯­æ³•åˆ†æçš„å·¥ä½œé‡å°±æŒºå¤§çš„ï¼ˆæ±‚ NFAã€DFA,æ”¹å†™ LL(1)æ–‡æ³•ç­‰ç­‰ï¼‰ï¼Œå¯è§å“ªäº›è¯­è¨€ä¹‹çˆ¶æ˜¯æœ‰å¤š ğŸ‚ äº†ã€‚</p>\n<h3 id=\"ç”Ÿæ´»\"><a href=\"#ç”Ÿæ´»\" class=\"headerlink\" title=\"ç”Ÿæ´»\"></a>ç”Ÿæ´»</h3><p>åœ¨è¿™ä¸€å¹´é‡Œä¾ç„¶é‚£ä¹ˆå–œæ¬¢é€› bi ç«™,å–œæ¬¢å¬éŸ³ä¹ã€‚å°è±¡æœ€æ·±çš„è¿˜æ˜¯ã€ŠåŒåŸä¹‹æˆ˜ã€‹äº†,ä¸€æ–¹é¢æ˜¯æˆ‘å–œæ¬¢çš„ç”»é£ï¼Œä½†æ˜¯å‘¢è¿™å‰§æƒ…ç¡®å®æœ‰ç‚¹è™äº†,è¿™å¤§æ¦‚å°±æ˜¯è§’è‰²è®¾å®šå§ã€‚<br><strong>qq éŸ³ä¹å¹´åº¦æŠ¥å‘Š</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/qqmusic_2021.PNG\" alt=\"qqéŸ³ä¹\"></p>\n<p><strong>bilibili å¹´åº¦æŠ¥å‘Š</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bilibili_2021.PNG\" alt=\"bilibili\"></p>\n<h3 id=\"æŠ€æœ¯æ ˆ\"><a href=\"#æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"æŠ€æœ¯æ ˆ\"></a>æŠ€æœ¯æ ˆ</h3><p>åœ¨æŠ€æœ¯æ ˆä¸Šï¼Œå¯¹äº react çš„ä½¿ç”¨æ›´åŠ ç†Ÿæ‚‰äº†ï¼Œå°½ç®¡è‡ªå·±æƒ³ç”¨ vue å†™ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä½†å†™åˆ°ä¸€åŠè¿˜æ˜¯æ”¾å¼ƒäº†ï¼ˆå¯èƒ½é‚£æ—¶å€™è¿˜ä¸çŸ¥é“ä¸€äº›å¼ºå¤§çš„ nodejs æ¡†æ¶å§ï¼‰ã€‚æ‰€ä»¥è¿˜æ˜¯ hexo é¦™å•Šï¼Œå°±è¿™æ ·å‘ç°äº†å†™åšå®¢æ˜¯ä¸€ä»¶å¼ºåŒ–è®°å¿†çš„äº‹æƒ…ã€‚åœ¨è¿™ä¸€å¹´é‡Œï¼Œè™½ç„¶åœ¨çŸ¥è¯†å¹¿åº¦ä¸Šæœ‰äº†æå‡ï¼Œä½†åœ¨æ·±åº¦ä¸Šæ„Ÿè§‰è¿˜å­¦æå‡ã€‚æ¯”è¾ƒçº ç»“çš„è¿˜æ˜¯å¯¹äºä¸€äº›å·¥å…·ä¸çŸ¥åˆ°æ˜¯è¦ä¼šåˆ°ä»€ä¹ˆå±‚åº¦å§ï¼Œæ¯”å¦‚ webpack,vite æ˜¯ä¼šæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œè¿˜æ˜¯èƒ½ç†Ÿç»ƒåœ°å†™å‡ºæ¥ã€‚æš‘æœŸåœ¨å®éªŒå®¤æœŸé—´ï¼ŒæŠŠåŸæœ‰çš„ oj3 ç”± webpack æ„å»ºæ”¹æˆäº† vite,åªèƒ½è¯´ vite çœŸå¿«ã€‚ä½¿ç”¨ react é‡å†™äº†ä¸€ä¸ªä¼šè®®å®¤ç®¡ç†ç³»ç»Ÿç«¯ã€‚è€Œå¯¹äºå¾®ä¿¡å°ç¨‹åºé‚£è¾¹ï¼Œè™½ç„¶æ²¡æœ‰è·å¾—å¥–ï¼Œä½†ä¹Ÿæ”¶è·äº†ä¸€äº›å¼€å‘ç»éªŒå§ã€‚è€Œå¯¹äºä¸€äº›å…¶ä»–çŸ¥è¯†ï¼Œæ¯”å¦‚ rustã€electronã€wasmã€ä»¥åŠæ¸¸æˆå¼€å‘éƒ½æ˜¯å¾ˆæƒ³å­¦çš„ï¼Œä½†éƒ½ä¼šæ„Ÿè§‰è‡ªç”±çš„æ—¶é—´å¤ªå°‘ï¼Œè€Œå­¦ä¹ åˆéœ€è¦è€—è´¹å¤§é‡æ—¶é—´ã€‚æ‰€ä»¥è¿˜éœ€è¦æ§åˆ¶è‡ªå·±ã€è®©è‡ªå·±çæƒœæ—¶é—´å•Šã€‚</p>\n<h3 id=\"æœŸæœ›\"><a href=\"#æœŸæœ›\" class=\"headerlink\" title=\"æœŸæœ›\"></a>æœŸæœ›</h3><p>å¸Œæœ›è‡ªå·±è®°å¿†åŠ›å¥½ä¸€ç‚¹ã€‚<br>æ¯ä¸€å¤©éƒ½è¦å´­æ–°çš„ä¸€ç‚¹ã€‚<br>å¯¹æ¸´æœ›çš„äº‹æƒ…æ‰§ç€ä¸€ç‚¹ã€‚<br>è®©è‡ªå·±çš„æƒ³æ³•ä¸°å¯Œä¸€ç‚¹ã€‚</p>\n<p><strong>å°±ä¸Šé¢é‚£ä¹ˆäº¿ç‚¹å°±å¤Ÿäº†</strong></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":1127,"excerpt":"<blockquote>\n<p>æ„Ÿæƒ³ï¼š æ—¶é—´è¿‡å¾—çœŸçš„å¾ˆå¿«ï¼Œè€Œéœ€è¦å­¦ä¹ çš„ä¸œè¥¿ä¸€ç›´åœ¨å˜å¤šï¼Œä»å¤§äºŒåˆ°å¤§ä¸‰çš„ï¼Œæ…¢æ…¢åœ°å°±è§‰å¾—è‡ªå·±æ¥è§¦çš„é¢†åŸŸæ‰€æ¸ºå°ã€‚è€Œè¿™ä¸€å¹´é‡Œæ„Ÿå—æœ€æ·±çš„æ€»è¿˜æ˜¯æ—¶é—´ä¸å¤Ÿçš„æ ·å­ã€‚</p>\n</blockquote>\n<hr>","more":"<h3 id=\"å­¦ä¹ \"><a href=\"#å­¦ä¹ \" class=\"headerlink\" title=\"å­¦ä¹ \"></a>å­¦ä¹ </h3><p>åœ¨å­¦ä¹ ä¸Šï¼Œå°½ç®¡ä¸æ˜¯æ‰€æœ‰è¯¾ç¨‹å®‰æ’å¾—å¾ˆå¦¥å½“ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›è¯¾ç¨‹è®©æˆ‘å—ç›Šè‰¯å¤šã€‚è®°å¿†æ¯”è¾ƒæ·±åˆ»å¾—è¿˜æ˜¯æš‘å‡å‰çš„ flutter è¯¾ç¨‹å§ã€‚é‚£ä¸€æ¬¡é¢ä¸´å¾—æŒ‘æˆ˜æ˜¯æœªçŸ¥ã€è¯¾ç¨‹æ—¶é—´çŸ­ã€‚è€Œæœ€ç»ˆçš„ä»»åŠ¡æ˜¯ä½¿ç”¨ flutter å®Œæˆä¸€ä¸ª APPã€‚è€Œæˆ‘åšçš„å°±æ˜¯ä¸€ä¸ªè®°ç¬”è®°çš„ APP äº†<a href=\"https://github.com/Jealh-h/lightNote\">(https://github.com/Jealh-h/lightNote)</a>ï¼Œå°½ç®¡åŠŸèƒ½ä¸æ˜¯é‚£ä¹ˆå®Œå–„ï¼Œä½†è¿™æ¬¡è®©æˆ‘ä½“éªŒåˆ°äº†å…¨æ ˆå¼€å‘çš„ä¸€äº›å›°éš¾å§ï¼Œå¾—ç›Šäº eggjs æ¡†æ¶èƒ½è®©æˆ‘ä¸€ä¸ªä¸å¤ªæ‡‚åç«¯çš„è½»æ¾ä¸€ç‚¹â€¦â€¦.ã€‚æ•°æ®åˆ†æè¿™é—¨è¯¾ä¹ŸæŒºå¥½çš„ï¼Œè‡³å°‘è®©æˆ‘åœ¨æœºå™¨å­¦ä¹ æ–¹é¢èƒ½å¤Ÿè°ƒåº“äº†ï¼Œèƒ½è®­ç»ƒæ¨¡å‹äº†ã€‚ç‰¹åˆ«æ˜¯åœ¨æœ€åçš„æˆ¿ä»·é¢„æµ‹çš„é¡¹ç›®ä¸Šï¼Œä»æ•°æ®è·å–åˆ°æ•°æ®åˆ†æå†åˆ°æ¨¡å‹é¢„æµ‹ï¼Œè¿™ä¸€å¥—ä¸‹æ¥è®©æˆ‘è§‰å¾— python æ›´åŠ å¼ºå¤§äº†ã€‚å…¶æ¬¡å°±æ˜¯æ•°æ®å¯è§†åŒ–äº†ï¼Œè™½ç„¶è¯´ç†è®ºè¯¾ç€å®æœ‰ä¸€ç‚¹æ— èŠï¼Œå¥½åœ¨å®éªŒè¯¾è¿˜æ¯”è¾ƒæœ‰è¶£ï¼Œè¿™æ¬¡è®©æˆ‘ä½“éªŒäº†ä¸€æŠŠ d3js,ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ jquery çš„ä¸€ä¸ªå…„å¼Ÿä¸€æ ·ï¼Œåªä¸è¿‡æ›´åŠ é€‚åˆäºç»˜åˆ¶å›¾å½¢ã€‚æœ€åè¯´è¯´ç¼–è¯‘åŸç†å§ï¼Œè¿™é—¨è¯¾å°±æ„Ÿè§‰æ¯”è¾ƒç¥å¥‡å§ï¼Ÿï¼ä»è¯æ³•åˆ†æåˆ°è¯­æ³•åˆ†æï¼Œå†åˆ°è¯­ä¹‰åˆ†æç­‰ç­‰ã€‚éƒ½æ„Ÿè§‰æœ‰å¾ˆå¼ºçš„ç†è®ºæ”¯æ’‘ã€‚å•å°±å¯¹äºç»™å®šçš„ test æ¥è¯´ï¼Œåšä¸€ä¸ªè¯æ³•åˆ†æã€è¯­æ³•åˆ†æçš„å·¥ä½œé‡å°±æŒºå¤§çš„ï¼ˆæ±‚ NFAã€DFA,æ”¹å†™ LL(1)æ–‡æ³•ç­‰ç­‰ï¼‰ï¼Œå¯è§å“ªäº›è¯­è¨€ä¹‹çˆ¶æ˜¯æœ‰å¤š ğŸ‚ äº†ã€‚</p>\n<h3 id=\"ç”Ÿæ´»\"><a href=\"#ç”Ÿæ´»\" class=\"headerlink\" title=\"ç”Ÿæ´»\"></a>ç”Ÿæ´»</h3><p>åœ¨è¿™ä¸€å¹´é‡Œä¾ç„¶é‚£ä¹ˆå–œæ¬¢é€› bi ç«™,å–œæ¬¢å¬éŸ³ä¹ã€‚å°è±¡æœ€æ·±çš„è¿˜æ˜¯ã€ŠåŒåŸä¹‹æˆ˜ã€‹äº†,ä¸€æ–¹é¢æ˜¯æˆ‘å–œæ¬¢çš„ç”»é£ï¼Œä½†æ˜¯å‘¢è¿™å‰§æƒ…ç¡®å®æœ‰ç‚¹è™äº†,è¿™å¤§æ¦‚å°±æ˜¯è§’è‰²è®¾å®šå§ã€‚<br><strong>qq éŸ³ä¹å¹´åº¦æŠ¥å‘Š</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/qqmusic_2021.PNG\" alt=\"qqéŸ³ä¹\"></p>\n<p><strong>bilibili å¹´åº¦æŠ¥å‘Š</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bilibili_2021.PNG\" alt=\"bilibili\"></p>\n<h3 id=\"æŠ€æœ¯æ ˆ\"><a href=\"#æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"æŠ€æœ¯æ ˆ\"></a>æŠ€æœ¯æ ˆ</h3><p>åœ¨æŠ€æœ¯æ ˆä¸Šï¼Œå¯¹äº react çš„ä½¿ç”¨æ›´åŠ ç†Ÿæ‚‰äº†ï¼Œå°½ç®¡è‡ªå·±æƒ³ç”¨ vue å†™ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä½†å†™åˆ°ä¸€åŠè¿˜æ˜¯æ”¾å¼ƒäº†ï¼ˆå¯èƒ½é‚£æ—¶å€™è¿˜ä¸çŸ¥é“ä¸€äº›å¼ºå¤§çš„ nodejs æ¡†æ¶å§ï¼‰ã€‚æ‰€ä»¥è¿˜æ˜¯ hexo é¦™å•Šï¼Œå°±è¿™æ ·å‘ç°äº†å†™åšå®¢æ˜¯ä¸€ä»¶å¼ºåŒ–è®°å¿†çš„äº‹æƒ…ã€‚åœ¨è¿™ä¸€å¹´é‡Œï¼Œè™½ç„¶åœ¨çŸ¥è¯†å¹¿åº¦ä¸Šæœ‰äº†æå‡ï¼Œä½†åœ¨æ·±åº¦ä¸Šæ„Ÿè§‰è¿˜å­¦æå‡ã€‚æ¯”è¾ƒçº ç»“çš„è¿˜æ˜¯å¯¹äºä¸€äº›å·¥å…·ä¸çŸ¥åˆ°æ˜¯è¦ä¼šåˆ°ä»€ä¹ˆå±‚åº¦å§ï¼Œæ¯”å¦‚ webpack,vite æ˜¯ä¼šæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œè¿˜æ˜¯èƒ½ç†Ÿç»ƒåœ°å†™å‡ºæ¥ã€‚æš‘æœŸåœ¨å®éªŒå®¤æœŸé—´ï¼ŒæŠŠåŸæœ‰çš„ oj3 ç”± webpack æ„å»ºæ”¹æˆäº† vite,åªèƒ½è¯´ vite çœŸå¿«ã€‚ä½¿ç”¨ react é‡å†™äº†ä¸€ä¸ªä¼šè®®å®¤ç®¡ç†ç³»ç»Ÿç«¯ã€‚è€Œå¯¹äºå¾®ä¿¡å°ç¨‹åºé‚£è¾¹ï¼Œè™½ç„¶æ²¡æœ‰è·å¾—å¥–ï¼Œä½†ä¹Ÿæ”¶è·äº†ä¸€äº›å¼€å‘ç»éªŒå§ã€‚è€Œå¯¹äºä¸€äº›å…¶ä»–çŸ¥è¯†ï¼Œæ¯”å¦‚ rustã€electronã€wasmã€ä»¥åŠæ¸¸æˆå¼€å‘éƒ½æ˜¯å¾ˆæƒ³å­¦çš„ï¼Œä½†éƒ½ä¼šæ„Ÿè§‰è‡ªç”±çš„æ—¶é—´å¤ªå°‘ï¼Œè€Œå­¦ä¹ åˆéœ€è¦è€—è´¹å¤§é‡æ—¶é—´ã€‚æ‰€ä»¥è¿˜éœ€è¦æ§åˆ¶è‡ªå·±ã€è®©è‡ªå·±çæƒœæ—¶é—´å•Šã€‚</p>\n<h3 id=\"æœŸæœ›\"><a href=\"#æœŸæœ›\" class=\"headerlink\" title=\"æœŸæœ›\"></a>æœŸæœ›</h3><p>å¸Œæœ›è‡ªå·±è®°å¿†åŠ›å¥½ä¸€ç‚¹ã€‚<br>æ¯ä¸€å¤©éƒ½è¦å´­æ–°çš„ä¸€ç‚¹ã€‚<br>å¯¹æ¸´æœ›çš„äº‹æƒ…æ‰§ç€ä¸€ç‚¹ã€‚<br>è®©è‡ªå·±çš„æƒ³æ³•ä¸°å¯Œä¸€ç‚¹ã€‚</p>\n<p><strong>å°±ä¸Šé¢é‚£ä¹ˆäº¿ç‚¹å°±å¤Ÿäº†</strong></p>"},{"title":"JavaScript çš„éšå¼è½¬æ¢","date":"2023-03-09T13:28:10.000Z","_content":"\nå¯¹äº JavaScript ä¸­çš„ä¸€äº›è¿ç®—ç¬¦ï¼ˆå¦‚ï¼š==ï¼‰æ¥è¯´æ˜¯æ¯”è¾ƒè¿·æƒ‘çš„ã€‚å®ƒä»¬äº§ç”Ÿçš„ç»“æœæœ‰æ—¶ä¼šè®©æˆ‘ä»¬å˜å¾—æ··æ·†ï¼Œé‚£è¿™ä¸€åˆ‡çš„èƒŒåå°±æ˜¯â€œéšå¼è½¬æ¢â€åœ¨ä½œç¥Ÿäº†ã€‚\n\n## å‰ç½®\n\n### Number å¼ºåˆ¶è½¬æ¢\n\n|   target   |                       number                       |\n| :--------: | :------------------------------------------------: |\n| undefined  |                        NaN                         |\n|    null    |                         0                          |\n| true/false |                        1/0                         |\n|   string   |                  è§£æå¤±è´¥è¿”å› NaN                  |\n|   BigInt   |                     TypeError                      |\n|   Symbol   |                     TypeError                      |\n|   Object   | [@@toPrimitive](\"number\") â†’ valueOf() â†’ toString() |\n\n**string è§£æå¤±è´¥ï¼š**\n\n- å¿½ç•¥å‰å¯¼ä¸å°¾éšçš„ç©ºæ ¼/è¡Œç»ˆæ­¢ç¬¦\n- å‰å¯¼ 0 ä¸ä¼šè¯†åˆ«ä¸ºå…«è¿›åˆ¶æ–‡æœ¬\n- +å’Œ-å…è®¸åœ¨å­—ç¬¦ä¸²å¼€å¤´ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œåé¢ä¸èƒ½è·Ÿç©ºæ ¼\n- Infinity å’Œ -Infinity å½“ä½œå­—é¢é‡\n- ç©ºä¸²æˆ–å…¨ä¸ºç©ºæ ¼è§£ææˆ 0\n- ä¸èƒ½å«æ•°å­—åˆ†å‰²ç¬¦\n\n<!-- more -->\n\n### å¼ºåˆ¶ boolean è½¬æ¢\n\n|              target               | Boolean |\n| :-------------------------------: | :-----: |\n|              0 / -0               |  false  |\n|               null                |  false  |\n|                NaN                |  false  |\n|             undefined             |  false  |\n|                \"\"                 |  false  |\n| Object / \"anything but not empty\" |  true   |\n\n### å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\n\nå¤æ‚æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹æœ‰ä»¥ä¸‹è§„åˆ™ï¼š\n\n- å¼ºåˆ¶åŸå§‹å€¼è½¬æ¢ï¼š[@@toPrimitive](\"default\") â†’ valueOf() â†’ toString()\n- å¼ºåˆ¶æ•°å­—ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ number ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ BigInt ç±»å‹è½¬æ¢ï¼š[@@toPrimitive](\"number\") â†’ valueOf() â†’ toString()\n- å¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼š[@@toPrimitive](\"string\") â†’ toString() â†’ valueOf()\n- Date å’Œ Symbol å¯¹è±¡æ˜¯å”¯ä¸€é‡å†™ [@@toPrimitive] æ–¹æ³•çš„å¯¹è±¡ã€‚Date.prototype[@@toPrimitive] å°† \"default\" hint è§†ä¸º \"string\"ï¼Œè€Œ Symbol.prototype[@@toPrimitive] å¿½ç•¥ hint å¹¶å§‹ç»ˆè¿”å›ä¸€ä¸ª symbolã€‚\n\nå…¶ä¸­ [@@toPrimitive] ä¸ºä¸€ä¸ªå†…ç½®çš„ Symbol å±æ€§ï¼Œå…¶éƒ¨ç½²æ–¹å¼ä¸ºï¼š\n\n```typescript\nconst obj = {\n  [Symbol.toPrimitive](hint) {\n    if (hint === \"number\") {\n      return 10;\n    }\n    if (hint === \"string\") {\n      return \"hello\";\n    }\n    // 'default'\n    return true;\n  },\n};\n\n// é‚£ä¹ˆå½“é‡åˆ°åŸå§‹ç±»å‹è½¬æ¢æ—¶å°±ç›¸å½“äºè‡ªå®šä¹‰è½¬åŒ–äº†\nconst num = +obj;\n// hintä¸º number, ç»“æœï¼š 10\n```\n\n## æ“ä½œç¬¦\n\n### ==\n\né¦–å½“å…¶å†²çš„è‚¯å®šæ˜¯ â€==â€œï¼Œ æƒ³å¿…å…¶å·²ç»è‡­åæ˜­è‘—äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒçš„ä¸€äº›å‘å‘å§ ğŸ˜€ã€‚\n\n```typescript\n{} == []\nnull == undefined\nnew String(\"str\") == true\n```\n\né¦–å…ˆï¼Œæˆ‘ä»¬æ˜ç¡®ä¸€ä¸‹ == çš„è§„åˆ™ï¼Œé‚£ä¹ˆå°±éå¸¸å®¹æ˜“å»åˆ¤æ–­ç»“æœäº†ï¼Œå…¶è§„åˆ™ä¸ºï¼š\n\n1. <span id=\"same primitve\">ç›¸åŒç±»å‹</span>ï¼š\n\n- Object ç±»å‹ï¼šæ¯”è¾ƒå¼•ç”¨åœ°å€\n- Number: æœ‰ NaN åˆ™è¿”å› false, +0 ä¸ -0 ç›¸ç­‰ï¼Œæ“ä½œæ•°ç›¸ç­‰åˆ™è¿”å› trueã€‚\n- Stringï¼šåªæœ‰å½“ä¸¤ä¸ªæ“ä½œæ•°å…·æœ‰ç›¸åŒçš„å­—ç¬¦ä¸”é¡ºåºç›¸åŒæ—¶æ‰è¿”å› trueã€‚\n- Booleanï¼šä»…å½“æ“ä½œæ•°éƒ½ä¸º true æˆ–éƒ½ä¸º false æ—¶è¿”å› trueã€‚\n- BigIntï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å€¼ç›¸åŒæ—¶è¿”å› trueã€‚\n- Symbolï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å¼•ç”¨ç›¸åŒçš„ç¬¦å·æ—¶è¿”å› trueã€‚\n- null: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚\n- undefined: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚\n\n2. å…¶ä¸­ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯åŸºæœ¬ç±»å‹ã€‚ä¼šæŒ‰ç…§**<a href=\"#å‰ç½®\">å‰ç½®</a>**çš„è§„åˆ™è¿›è¡Œè½¬æ¢æˆåŸºæœ¬ç±»å‹ã€‚\n\n3. è¿™æ—¶éƒ½æ˜¯**åŸºæœ¬ç±»å‹**äº†ï¼Œé‚£ä¹ˆæœ‰å¦‚ä¸‹è§„åˆ™ã€‚\n\n- éƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼ŒæŒ‰ç…§<a href=\"#same primitve\">è§„åˆ™ 1</a>è¿›è¡Œå¯¹æ¯”ã€‚\n- å…¶ä¸­ä¸€ä¸ªæ˜¯ Symbol, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œè¿”å› falseã€‚\n- å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™å°† boolean è½¬æ¢æˆæ•°å­—ã€‚\n- Number ä¸ String å¯¹æ¯”ï¼šä½¿ç”¨ä¸ <a href=\"#Number å¼ºåˆ¶è½¬æ¢\">Number() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•</a>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚è½¬æ¢å¤±è´¥å°†å¯¼è‡´ NaNï¼Œè¿™å°†ä¿è¯ç›¸ç­‰æ˜¯ falseã€‚\n- Number ä¸ BigInt å¯¹æ¯”ï¼šæŒ‰æ•°å€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ•°å€¼ä¸º Â±âˆ æˆ– NaNï¼Œè¿”å› falseã€‚\n- String ä¸ BigInt å¯¹æ¯”ï¼šä½¿ç”¨ä¸ BigInt() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º BigIntã€‚å¦‚æœè½¬æ¢å¤±è´¥ï¼Œè¿”å› falseã€‚\n\n#### å›åˆ°ä¸Šé¢˜\n\n```typescript\n{} == []\n// ç›¸åŒç±»å‹éƒ½æ˜¯ Object, æ¯”è¾ƒå¼•ç”¨åœ°å€ï¼Œå› æ­¤è¿”å› false\n\nnull == undefined\n// null ä¸ undefined è¿”å› true\n\nnew String(\"str\") == true\n// ä¸åŒç±»å‹\n// å…ˆå°† new String(\"str\") è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼ˆå¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼‰å¾—åˆ°ï¼š\n// \"str\" == true\n//å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean ç±»å‹ï¼Œè½¬æˆ number\n// \"str\" == 1\n// å°† string è£…æ¢æˆ number\n// NaN == 1\n// æœ€åï¼šfalse\n```\n\n### +\n\n**åœ¨æ±‚å€¼æ—¶ï¼Œå®ƒé¦–å…ˆå°†ä¸¤ä¸ªæ“ä½œæ•°å¼ºåˆ¶è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹ã€‚ç„¶åï¼Œæ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹**:\n\n- å¤šä¸ªå€¼è¿ç®—ï¼Œè¿›è¡Œç›¸åŠ æ“ä½œï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªæ•°è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ã€‚\n- å¤šä¸ªå€¼è¿ç®—ï¼Œéƒ½æ˜¯ BigInt, æ‰§è¡Œ BigInt åŠ æ³•ï¼Œä¸€æ–¹æ˜¯ BigInt,å¦ä¸€ä¸ªä¸æ˜¯ï¼ŒæŠ›å‡º TypeErrorã€‚\n- å¤šä¸ªå€¼è¿ç®—ï¼Œæ²¡æœ‰ Stringã€BigInt, éƒ½è½¬ä¸ºæ•°å­—ã€‚\n- å•å€¼è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—\n\n#### ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®— ğŸ˜\n\n```typescript\n{} + [] + {} + []\n// è¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯ {} ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ\n// + [] + {} + []\n// å‰éƒ¨åˆ†å°±ç›¸å½“äºå•ç›®è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—ç±»å‹ []--valueOf-->[]--toString-->''--toNumber-->0\n// 0 + {} + []\n// å…ˆè½¬æ¢æˆåŸºæœ¬ç±»å‹\n// 0 + '[object Object]' + []\n// '0[object Object]' + []\n// è½¬æ¢æˆåŸºæœ¬ç±»å‹\n// '0[object Object]' + ''\n// æ‹¼æ¥\n//'0[object Object]'\n\ntrue + 1\n// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†\n// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—\n// 1 + 1\n// 2\n\nNaN + 1\n// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†\n// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—\n// NaN + 1\n// NaN\n\n[] + {}\n// è£…æ¢æˆåŸºæœ¬ç±»å‹\n// '' + '[object Object]'\n// [object Object]\n\n{} + []\n// åŒæ ·çš„å‘å°±æ˜¯ {} ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ\n// + []\n// è¿™é‡Œæˆäº†å•ç›®è¿ç®—ï¼Œå°†åé¢çš„è½¬æ¢ä¸ºæ•°å€¼\n// 0\n\nï¼ˆ{}ï¼‰ + []\n// è¿™ç§æƒ…å†µå°±ä¸ [] + {} ç±»ä¼¼äº†\n// '[object Object]'\n\n// {} + {}\n// å‰é¢è¯†åˆ«ä¸º block\n// + {}\n// å•ç›®è¿ç®—ã€‚è½¬æ¢æˆæ•°å­—\n// {} --valueOf-->{}--toString-->'[object Object]'--toNumber-->NaN\n// NaN\n\n// [] + []\n// è½¬æ¢æˆåŸºæœ¬ç±»å‹\n// '' + ''\n// æ‹¼æ¥\n// ''\n\n\n```\n\n### -\n\n- ä¸¤ä¸ªæ“ä½œæ•°ï¼šå°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºæ•°å€¼ï¼Œå¹¶æ ¹æ®ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹æ‰§è¡Œæ•°å­—å‡æ³•æˆ– BigInt å‡æ³•ã€‚å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œåˆ™æŠ›å‡º TypeErrorã€‚\n- ä¸€ä¸ªæ“ä½œæ•°ï¼šæ•°å­—åˆ™å–åï¼Œå¦åˆ™è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚\n\n#### çœ‹çœ‹ä¾‹é¢˜\n\n```typescript\n[] - {};\n// è½¬æˆæ•°å­—\n// [] --valueOf--ã€‹ [] --toString--ã€‹ \"\" --toNumber--ã€‹ 0\n// {}--valueOf--ã€‹ {}--toString--ã€‹ '[object Object]'--toNumber--ã€‹ NaN\n// 0 - NaN\n// NaN\n```\n\n### !\n\n- è¿ç®—ç¬¦å°†çœŸå€¼æˆ–å‡å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ç›¸åå€¼\n- å½“ä¸éå¸ƒå°”å€¼ä½¿ç”¨æ—¶ï¼Œå¦‚æœå…¶æ“ä½œæ•°å¯ä»¥è½¬åŒ–ä¸º trueï¼Œåˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚\n\n#### !!\n\nåŒéè¿ç®—ç¬¦ï¼Œå°†è¿ç®—å€¼è½¬æ¢æˆç›¸åº”çš„ boolean ç±»å‹ã€‚\n\n#### çœ‹çœ‹ä¾‹é¢˜\n\n```typescript\n![];\n// å°† [] è½¬æˆ boolean, æ ¹æ®å¼ºåˆ¶Booleanè½¬æ¢(Objectç±»å‹ï¼‰ï¼š[] --> true\n// !true\n// false\n```\n\n### > / <\n\n**æ‰€æœ‰çš„æ¯”è¾ƒæ“ä½œç¬¦éƒ½æ˜¯å…ˆå¼ºåˆ¶è½¬åŒ–å·¦æ“ä½œæ•°å†å¼ºåˆ¶è½¬åŒ–å³æ“ä½œæ•°ã€‚**\né¦–å…ˆï¼Œé€šè¿‡ä¾æ¬¡è°ƒç”¨å…¶ [@@toPrimitive]ï¼ˆä»¥ \"number\" ä½œä¸ºæç¤ºï¼‰ã€valueOf() å’Œ toString() æ–¹æ³•ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚å·¦è¾¹çš„æ“ä½œæ•°æ€»æ˜¯åœ¨å³è¾¹çš„æ“ä½œæ•°ä¹‹å‰è¢«å¼ºåˆ¶è½¬æ¢ã€‚\n\n- å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ ¹æ®å®ƒä»¬æ‰€åŒ…å«çš„ Unicode ç ä½çš„å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒã€‚\n- å¦åˆ™ï¼Œå°è¯•å°†éæ•°å€¼ç±»å‹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ã€‚\n- å¦‚æœä¸€ä¸ªä¸º NaN, è¿”å› falseã€‚\n\n#### çœ‹çœ‹ä¾‹é¢˜\n\n```typescript\n\"a\" < 3;\n// å…ˆå°†å·¦è¾¹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹\n// NaN < 3\n// æœ‰ä¸€ä¸ªä¸ºNaN, è¿”å› false\n// false\n\n0 < [];\n// å·¦è¾¹ä¸ºæ•°å­—ç±»å‹ï¼Œå°†å³è¾¹è½¬æ¢ä¸ºæ•°å­—ç±»å‹\n// [] --toString--> '' --toNumber--> 0\n// 0 < 0\n// false\n```\n\n## æ€»ç»“\n\néšå¼è½¬æ¢çš„è§„åˆ™éå¸¸å¤šï¼Œä½†éƒ½æ˜¯å‘åŸºæœ¬ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥ç†è§£<a href=\"#å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\">å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹</a>æ¯”è¾ƒé‡è¦ï¼Œç‰¹åˆ«çš„è¿˜éœ€è¦æ³¨æ„ {} è¯†åˆ«ä¸ºä¸€ä¸ª block çš„æƒ…å†µã€‚\n\n## Reference\n\n- <https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality>\n- <https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2>\n- <https://www.zhihu.com/question/45478070>\n","source":"_posts/JavaScript-çš„éšå¼è½¬æ¢.md","raw":"---\ntitle: JavaScript çš„éšå¼è½¬æ¢\ndate: 2023-03-09 21:28:10\ntags: éšå¼è½¬æ¢\ncategories: javascript\n---\n\nå¯¹äº JavaScript ä¸­çš„ä¸€äº›è¿ç®—ç¬¦ï¼ˆå¦‚ï¼š==ï¼‰æ¥è¯´æ˜¯æ¯”è¾ƒè¿·æƒ‘çš„ã€‚å®ƒä»¬äº§ç”Ÿçš„ç»“æœæœ‰æ—¶ä¼šè®©æˆ‘ä»¬å˜å¾—æ··æ·†ï¼Œé‚£è¿™ä¸€åˆ‡çš„èƒŒåå°±æ˜¯â€œéšå¼è½¬æ¢â€åœ¨ä½œç¥Ÿäº†ã€‚\n\n## å‰ç½®\n\n### Number å¼ºåˆ¶è½¬æ¢\n\n|   target   |                       number                       |\n| :--------: | :------------------------------------------------: |\n| undefined  |                        NaN                         |\n|    null    |                         0                          |\n| true/false |                        1/0                         |\n|   string   |                  è§£æå¤±è´¥è¿”å› NaN                  |\n|   BigInt   |                     TypeError                      |\n|   Symbol   |                     TypeError                      |\n|   Object   | [@@toPrimitive](\"number\") â†’ valueOf() â†’ toString() |\n\n**string è§£æå¤±è´¥ï¼š**\n\n- å¿½ç•¥å‰å¯¼ä¸å°¾éšçš„ç©ºæ ¼/è¡Œç»ˆæ­¢ç¬¦\n- å‰å¯¼ 0 ä¸ä¼šè¯†åˆ«ä¸ºå…«è¿›åˆ¶æ–‡æœ¬\n- +å’Œ-å…è®¸åœ¨å­—ç¬¦ä¸²å¼€å¤´ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œåé¢ä¸èƒ½è·Ÿç©ºæ ¼\n- Infinity å’Œ -Infinity å½“ä½œå­—é¢é‡\n- ç©ºä¸²æˆ–å…¨ä¸ºç©ºæ ¼è§£ææˆ 0\n- ä¸èƒ½å«æ•°å­—åˆ†å‰²ç¬¦\n\n<!-- more -->\n\n### å¼ºåˆ¶ boolean è½¬æ¢\n\n|              target               | Boolean |\n| :-------------------------------: | :-----: |\n|              0 / -0               |  false  |\n|               null                |  false  |\n|                NaN                |  false  |\n|             undefined             |  false  |\n|                \"\"                 |  false  |\n| Object / \"anything but not empty\" |  true   |\n\n### å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\n\nå¤æ‚æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹æœ‰ä»¥ä¸‹è§„åˆ™ï¼š\n\n- å¼ºåˆ¶åŸå§‹å€¼è½¬æ¢ï¼š[@@toPrimitive](\"default\") â†’ valueOf() â†’ toString()\n- å¼ºåˆ¶æ•°å­—ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ number ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ BigInt ç±»å‹è½¬æ¢ï¼š[@@toPrimitive](\"number\") â†’ valueOf() â†’ toString()\n- å¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼š[@@toPrimitive](\"string\") â†’ toString() â†’ valueOf()\n- Date å’Œ Symbol å¯¹è±¡æ˜¯å”¯ä¸€é‡å†™ [@@toPrimitive] æ–¹æ³•çš„å¯¹è±¡ã€‚Date.prototype[@@toPrimitive] å°† \"default\" hint è§†ä¸º \"string\"ï¼Œè€Œ Symbol.prototype[@@toPrimitive] å¿½ç•¥ hint å¹¶å§‹ç»ˆè¿”å›ä¸€ä¸ª symbolã€‚\n\nå…¶ä¸­ [@@toPrimitive] ä¸ºä¸€ä¸ªå†…ç½®çš„ Symbol å±æ€§ï¼Œå…¶éƒ¨ç½²æ–¹å¼ä¸ºï¼š\n\n```typescript\nconst obj = {\n  [Symbol.toPrimitive](hint) {\n    if (hint === \"number\") {\n      return 10;\n    }\n    if (hint === \"string\") {\n      return \"hello\";\n    }\n    // 'default'\n    return true;\n  },\n};\n\n// é‚£ä¹ˆå½“é‡åˆ°åŸå§‹ç±»å‹è½¬æ¢æ—¶å°±ç›¸å½“äºè‡ªå®šä¹‰è½¬åŒ–äº†\nconst num = +obj;\n// hintä¸º number, ç»“æœï¼š 10\n```\n\n## æ“ä½œç¬¦\n\n### ==\n\né¦–å½“å…¶å†²çš„è‚¯å®šæ˜¯ â€==â€œï¼Œ æƒ³å¿…å…¶å·²ç»è‡­åæ˜­è‘—äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒçš„ä¸€äº›å‘å‘å§ ğŸ˜€ã€‚\n\n```typescript\n{} == []\nnull == undefined\nnew String(\"str\") == true\n```\n\né¦–å…ˆï¼Œæˆ‘ä»¬æ˜ç¡®ä¸€ä¸‹ == çš„è§„åˆ™ï¼Œé‚£ä¹ˆå°±éå¸¸å®¹æ˜“å»åˆ¤æ–­ç»“æœäº†ï¼Œå…¶è§„åˆ™ä¸ºï¼š\n\n1. <span id=\"same primitve\">ç›¸åŒç±»å‹</span>ï¼š\n\n- Object ç±»å‹ï¼šæ¯”è¾ƒå¼•ç”¨åœ°å€\n- Number: æœ‰ NaN åˆ™è¿”å› false, +0 ä¸ -0 ç›¸ç­‰ï¼Œæ“ä½œæ•°ç›¸ç­‰åˆ™è¿”å› trueã€‚\n- Stringï¼šåªæœ‰å½“ä¸¤ä¸ªæ“ä½œæ•°å…·æœ‰ç›¸åŒçš„å­—ç¬¦ä¸”é¡ºåºç›¸åŒæ—¶æ‰è¿”å› trueã€‚\n- Booleanï¼šä»…å½“æ“ä½œæ•°éƒ½ä¸º true æˆ–éƒ½ä¸º false æ—¶è¿”å› trueã€‚\n- BigIntï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å€¼ç›¸åŒæ—¶è¿”å› trueã€‚\n- Symbolï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å¼•ç”¨ç›¸åŒçš„ç¬¦å·æ—¶è¿”å› trueã€‚\n- null: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚\n- undefined: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚\n\n2. å…¶ä¸­ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯åŸºæœ¬ç±»å‹ã€‚ä¼šæŒ‰ç…§**<a href=\"#å‰ç½®\">å‰ç½®</a>**çš„è§„åˆ™è¿›è¡Œè½¬æ¢æˆåŸºæœ¬ç±»å‹ã€‚\n\n3. è¿™æ—¶éƒ½æ˜¯**åŸºæœ¬ç±»å‹**äº†ï¼Œé‚£ä¹ˆæœ‰å¦‚ä¸‹è§„åˆ™ã€‚\n\n- éƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼ŒæŒ‰ç…§<a href=\"#same primitve\">è§„åˆ™ 1</a>è¿›è¡Œå¯¹æ¯”ã€‚\n- å…¶ä¸­ä¸€ä¸ªæ˜¯ Symbol, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œè¿”å› falseã€‚\n- å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™å°† boolean è½¬æ¢æˆæ•°å­—ã€‚\n- Number ä¸ String å¯¹æ¯”ï¼šä½¿ç”¨ä¸ <a href=\"#Number å¼ºåˆ¶è½¬æ¢\">Number() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•</a>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚è½¬æ¢å¤±è´¥å°†å¯¼è‡´ NaNï¼Œè¿™å°†ä¿è¯ç›¸ç­‰æ˜¯ falseã€‚\n- Number ä¸ BigInt å¯¹æ¯”ï¼šæŒ‰æ•°å€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ•°å€¼ä¸º Â±âˆ æˆ– NaNï¼Œè¿”å› falseã€‚\n- String ä¸ BigInt å¯¹æ¯”ï¼šä½¿ç”¨ä¸ BigInt() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º BigIntã€‚å¦‚æœè½¬æ¢å¤±è´¥ï¼Œè¿”å› falseã€‚\n\n#### å›åˆ°ä¸Šé¢˜\n\n```typescript\n{} == []\n// ç›¸åŒç±»å‹éƒ½æ˜¯ Object, æ¯”è¾ƒå¼•ç”¨åœ°å€ï¼Œå› æ­¤è¿”å› false\n\nnull == undefined\n// null ä¸ undefined è¿”å› true\n\nnew String(\"str\") == true\n// ä¸åŒç±»å‹\n// å…ˆå°† new String(\"str\") è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼ˆå¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼‰å¾—åˆ°ï¼š\n// \"str\" == true\n//å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean ç±»å‹ï¼Œè½¬æˆ number\n// \"str\" == 1\n// å°† string è£…æ¢æˆ number\n// NaN == 1\n// æœ€åï¼šfalse\n```\n\n### +\n\n**åœ¨æ±‚å€¼æ—¶ï¼Œå®ƒé¦–å…ˆå°†ä¸¤ä¸ªæ“ä½œæ•°å¼ºåˆ¶è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹ã€‚ç„¶åï¼Œæ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹**:\n\n- å¤šä¸ªå€¼è¿ç®—ï¼Œè¿›è¡Œç›¸åŠ æ“ä½œï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªæ•°è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ã€‚\n- å¤šä¸ªå€¼è¿ç®—ï¼Œéƒ½æ˜¯ BigInt, æ‰§è¡Œ BigInt åŠ æ³•ï¼Œä¸€æ–¹æ˜¯ BigInt,å¦ä¸€ä¸ªä¸æ˜¯ï¼ŒæŠ›å‡º TypeErrorã€‚\n- å¤šä¸ªå€¼è¿ç®—ï¼Œæ²¡æœ‰ Stringã€BigInt, éƒ½è½¬ä¸ºæ•°å­—ã€‚\n- å•å€¼è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—\n\n#### ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®— ğŸ˜\n\n```typescript\n{} + [] + {} + []\n// è¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯ {} ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ\n// + [] + {} + []\n// å‰éƒ¨åˆ†å°±ç›¸å½“äºå•ç›®è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—ç±»å‹ []--valueOf-->[]--toString-->''--toNumber-->0\n// 0 + {} + []\n// å…ˆè½¬æ¢æˆåŸºæœ¬ç±»å‹\n// 0 + '[object Object]' + []\n// '0[object Object]' + []\n// è½¬æ¢æˆåŸºæœ¬ç±»å‹\n// '0[object Object]' + ''\n// æ‹¼æ¥\n//'0[object Object]'\n\ntrue + 1\n// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†\n// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—\n// 1 + 1\n// 2\n\nNaN + 1\n// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†\n// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—\n// NaN + 1\n// NaN\n\n[] + {}\n// è£…æ¢æˆåŸºæœ¬ç±»å‹\n// '' + '[object Object]'\n// [object Object]\n\n{} + []\n// åŒæ ·çš„å‘å°±æ˜¯ {} ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ\n// + []\n// è¿™é‡Œæˆäº†å•ç›®è¿ç®—ï¼Œå°†åé¢çš„è½¬æ¢ä¸ºæ•°å€¼\n// 0\n\nï¼ˆ{}ï¼‰ + []\n// è¿™ç§æƒ…å†µå°±ä¸ [] + {} ç±»ä¼¼äº†\n// '[object Object]'\n\n// {} + {}\n// å‰é¢è¯†åˆ«ä¸º block\n// + {}\n// å•ç›®è¿ç®—ã€‚è½¬æ¢æˆæ•°å­—\n// {} --valueOf-->{}--toString-->'[object Object]'--toNumber-->NaN\n// NaN\n\n// [] + []\n// è½¬æ¢æˆåŸºæœ¬ç±»å‹\n// '' + ''\n// æ‹¼æ¥\n// ''\n\n\n```\n\n### -\n\n- ä¸¤ä¸ªæ“ä½œæ•°ï¼šå°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºæ•°å€¼ï¼Œå¹¶æ ¹æ®ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹æ‰§è¡Œæ•°å­—å‡æ³•æˆ– BigInt å‡æ³•ã€‚å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œåˆ™æŠ›å‡º TypeErrorã€‚\n- ä¸€ä¸ªæ“ä½œæ•°ï¼šæ•°å­—åˆ™å–åï¼Œå¦åˆ™è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚\n\n#### çœ‹çœ‹ä¾‹é¢˜\n\n```typescript\n[] - {};\n// è½¬æˆæ•°å­—\n// [] --valueOf--ã€‹ [] --toString--ã€‹ \"\" --toNumber--ã€‹ 0\n// {}--valueOf--ã€‹ {}--toString--ã€‹ '[object Object]'--toNumber--ã€‹ NaN\n// 0 - NaN\n// NaN\n```\n\n### !\n\n- è¿ç®—ç¬¦å°†çœŸå€¼æˆ–å‡å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ç›¸åå€¼\n- å½“ä¸éå¸ƒå°”å€¼ä½¿ç”¨æ—¶ï¼Œå¦‚æœå…¶æ“ä½œæ•°å¯ä»¥è½¬åŒ–ä¸º trueï¼Œåˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚\n\n#### !!\n\nåŒéè¿ç®—ç¬¦ï¼Œå°†è¿ç®—å€¼è½¬æ¢æˆç›¸åº”çš„ boolean ç±»å‹ã€‚\n\n#### çœ‹çœ‹ä¾‹é¢˜\n\n```typescript\n![];\n// å°† [] è½¬æˆ boolean, æ ¹æ®å¼ºåˆ¶Booleanè½¬æ¢(Objectç±»å‹ï¼‰ï¼š[] --> true\n// !true\n// false\n```\n\n### > / <\n\n**æ‰€æœ‰çš„æ¯”è¾ƒæ“ä½œç¬¦éƒ½æ˜¯å…ˆå¼ºåˆ¶è½¬åŒ–å·¦æ“ä½œæ•°å†å¼ºåˆ¶è½¬åŒ–å³æ“ä½œæ•°ã€‚**\né¦–å…ˆï¼Œé€šè¿‡ä¾æ¬¡è°ƒç”¨å…¶ [@@toPrimitive]ï¼ˆä»¥ \"number\" ä½œä¸ºæç¤ºï¼‰ã€valueOf() å’Œ toString() æ–¹æ³•ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚å·¦è¾¹çš„æ“ä½œæ•°æ€»æ˜¯åœ¨å³è¾¹çš„æ“ä½œæ•°ä¹‹å‰è¢«å¼ºåˆ¶è½¬æ¢ã€‚\n\n- å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ ¹æ®å®ƒä»¬æ‰€åŒ…å«çš„ Unicode ç ä½çš„å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒã€‚\n- å¦åˆ™ï¼Œå°è¯•å°†éæ•°å€¼ç±»å‹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ã€‚\n- å¦‚æœä¸€ä¸ªä¸º NaN, è¿”å› falseã€‚\n\n#### çœ‹çœ‹ä¾‹é¢˜\n\n```typescript\n\"a\" < 3;\n// å…ˆå°†å·¦è¾¹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹\n// NaN < 3\n// æœ‰ä¸€ä¸ªä¸ºNaN, è¿”å› false\n// false\n\n0 < [];\n// å·¦è¾¹ä¸ºæ•°å­—ç±»å‹ï¼Œå°†å³è¾¹è½¬æ¢ä¸ºæ•°å­—ç±»å‹\n// [] --toString--> '' --toNumber--> 0\n// 0 < 0\n// false\n```\n\n## æ€»ç»“\n\néšå¼è½¬æ¢çš„è§„åˆ™éå¸¸å¤šï¼Œä½†éƒ½æ˜¯å‘åŸºæœ¬ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥ç†è§£<a href=\"#å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\">å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹</a>æ¯”è¾ƒé‡è¦ï¼Œç‰¹åˆ«çš„è¿˜éœ€è¦æ³¨æ„ {} è¯†åˆ«ä¸ºä¸€ä¸ª block çš„æƒ…å†µã€‚\n\n## Reference\n\n- <https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality>\n- <https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2>\n- <https://www.zhihu.com/question/45478070>\n","slug":"JavaScript-çš„éšå¼è½¬æ¢","published":1,"updated":"2023-03-09T13:37:57.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsf00063kv7fjnc4t5m","content":"<p>å¯¹äº JavaScript ä¸­çš„ä¸€äº›è¿ç®—ç¬¦ï¼ˆå¦‚ï¼š==ï¼‰æ¥è¯´æ˜¯æ¯”è¾ƒè¿·æƒ‘çš„ã€‚å®ƒä»¬äº§ç”Ÿçš„ç»“æœæœ‰æ—¶ä¼šè®©æˆ‘ä»¬å˜å¾—æ··æ·†ï¼Œé‚£è¿™ä¸€åˆ‡çš„èƒŒåå°±æ˜¯â€œéšå¼è½¬æ¢â€åœ¨ä½œç¥Ÿäº†ã€‚</p>\n<h2 id=\"å‰ç½®\"><a href=\"#å‰ç½®\" class=\"headerlink\" title=\"å‰ç½®\"></a>å‰ç½®</h2><h3 id=\"Number-å¼ºåˆ¶è½¬æ¢\"><a href=\"#Number-å¼ºåˆ¶è½¬æ¢\" class=\"headerlink\" title=\"Number å¼ºåˆ¶è½¬æ¢\"></a>Number å¼ºåˆ¶è½¬æ¢</h3><table>\n<thead>\n<tr>\n<th align=\"center\">target</th>\n<th align=\"center\">number</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">undefined</td>\n<td align=\"center\">NaN</td>\n</tr>\n<tr>\n<td align=\"center\">null</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">true/false</td>\n<td align=\"center\">1/0</td>\n</tr>\n<tr>\n<td align=\"center\">string</td>\n<td align=\"center\">è§£æå¤±è´¥è¿”å› NaN</td>\n</tr>\n<tr>\n<td align=\"center\">BigInt</td>\n<td align=\"center\">TypeError</td>\n</tr>\n<tr>\n<td align=\"center\">Symbol</td>\n<td align=\"center\">TypeError</td>\n</tr>\n<tr>\n<td align=\"center\">Object</td>\n<td align=\"center\"><a href=\"%22number%22\">@@toPrimitive</a> â†’ valueOf() â†’ toString()</td>\n</tr>\n</tbody></table>\n<p><strong>string è§£æå¤±è´¥ï¼š</strong></p>\n<ul>\n<li>å¿½ç•¥å‰å¯¼ä¸å°¾éšçš„ç©ºæ ¼/è¡Œç»ˆæ­¢ç¬¦</li>\n<li>å‰å¯¼ 0 ä¸ä¼šè¯†åˆ«ä¸ºå…«è¿›åˆ¶æ–‡æœ¬</li>\n<li>+å’Œ-å…è®¸åœ¨å­—ç¬¦ä¸²å¼€å¤´ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œåé¢ä¸èƒ½è·Ÿç©ºæ ¼</li>\n<li>Infinity å’Œ -Infinity å½“ä½œå­—é¢é‡</li>\n<li>ç©ºä¸²æˆ–å…¨ä¸ºç©ºæ ¼è§£ææˆ 0</li>\n<li>ä¸èƒ½å«æ•°å­—åˆ†å‰²ç¬¦</li>\n</ul>\n<span id=\"more\"></span>\n\n<h3 id=\"å¼ºåˆ¶-boolean-è½¬æ¢\"><a href=\"#å¼ºåˆ¶-boolean-è½¬æ¢\" class=\"headerlink\" title=\"å¼ºåˆ¶ boolean è½¬æ¢\"></a>å¼ºåˆ¶ boolean è½¬æ¢</h3><table>\n<thead>\n<tr>\n<th align=\"center\">target</th>\n<th align=\"center\">Boolean</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">0 / -0</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">null</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">NaN</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">undefined</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">â€œâ€</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">Object / â€œanything but not emptyâ€</td>\n<td align=\"center\">true</td>\n</tr>\n</tbody></table>\n<h3 id=\"å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\"><a href=\"#å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\" class=\"headerlink\" title=\"å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\"></a>å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹</h3><p>å¤æ‚æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹æœ‰ä»¥ä¸‹è§„åˆ™ï¼š</p>\n<ul>\n<li>å¼ºåˆ¶åŸå§‹å€¼è½¬æ¢ï¼š<a href=\"%22default%22\">@@toPrimitive</a> â†’ valueOf() â†’ toString()</li>\n<li>å¼ºåˆ¶æ•°å­—ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ number ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ BigInt ç±»å‹è½¬æ¢ï¼š<a href=\"%22number%22\">@@toPrimitive</a> â†’ valueOf() â†’ toString()</li>\n<li>å¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼š<a href=\"%22string%22\">@@toPrimitive</a> â†’ toString() â†’ valueOf()</li>\n<li>Date å’Œ Symbol å¯¹è±¡æ˜¯å”¯ä¸€é‡å†™ [@@toPrimitive] æ–¹æ³•çš„å¯¹è±¡ã€‚Date.prototype[@@toPrimitive] å°† â€œdefaultâ€ hint è§†ä¸º â€œstringâ€ï¼Œè€Œ Symbol.prototype[@@toPrimitive] å¿½ç•¥ hint å¹¶å§‹ç»ˆè¿”å›ä¸€ä¸ª symbolã€‚</li>\n</ul>\n<p>å…¶ä¸­ [@@toPrimitive] ä¸ºä¸€ä¸ªå†…ç½®çš„ Symbol å±æ€§ï¼Œå…¶éƒ¨ç½²æ–¹å¼ä¸ºï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint === <span class=\"string\">&quot;number&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// &#x27;default&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚£ä¹ˆå½“é‡åˆ°åŸå§‹ç±»å‹è½¬æ¢æ—¶å°±ç›¸å½“äºè‡ªå®šä¹‰è½¬åŒ–äº†</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num = +obj;</span><br><span class=\"line\"><span class=\"comment\">// hintä¸º number, ç»“æœï¼š 10</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ“ä½œç¬¦\"><a href=\"#æ“ä½œç¬¦\" class=\"headerlink\" title=\"æ“ä½œç¬¦\"></a>æ“ä½œç¬¦</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"==\"></a>==</h3><p>é¦–å½“å…¶å†²çš„è‚¯å®šæ˜¯ â€==â€œï¼Œ æƒ³å¿…å…¶å·²ç»è‡­åæ˜­è‘—äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒçš„ä¸€äº›å‘å‘å§ ğŸ˜€ã€‚</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#125; == []</span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&quot;str&quot;</span>) == <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ˜ç¡®ä¸€ä¸‹ == çš„è§„åˆ™ï¼Œé‚£ä¹ˆå°±éå¸¸å®¹æ˜“å»åˆ¤æ–­ç»“æœäº†ï¼Œå…¶è§„åˆ™ä¸ºï¼š</p>\n<ol>\n<li><span id=\"same primitve\">ç›¸åŒç±»å‹</span>ï¼š</li>\n</ol>\n<ul>\n<li>Object ç±»å‹ï¼šæ¯”è¾ƒå¼•ç”¨åœ°å€</li>\n<li>Number: æœ‰ NaN åˆ™è¿”å› false, +0 ä¸ -0 ç›¸ç­‰ï¼Œæ“ä½œæ•°ç›¸ç­‰åˆ™è¿”å› trueã€‚</li>\n<li>Stringï¼šåªæœ‰å½“ä¸¤ä¸ªæ“ä½œæ•°å…·æœ‰ç›¸åŒçš„å­—ç¬¦ä¸”é¡ºåºç›¸åŒæ—¶æ‰è¿”å› trueã€‚</li>\n<li>Booleanï¼šä»…å½“æ“ä½œæ•°éƒ½ä¸º true æˆ–éƒ½ä¸º false æ—¶è¿”å› trueã€‚</li>\n<li>BigIntï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å€¼ç›¸åŒæ—¶è¿”å› trueã€‚</li>\n<li>Symbolï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å¼•ç”¨ç›¸åŒçš„ç¬¦å·æ—¶è¿”å› trueã€‚</li>\n<li>null: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚</li>\n<li>undefined: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚</li>\n</ul>\n<ol start=\"2\">\n<li><p>å…¶ä¸­ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯åŸºæœ¬ç±»å‹ã€‚ä¼šæŒ‰ç…§**<a href=\"#å‰ç½®\">å‰ç½®</a>**çš„è§„åˆ™è¿›è¡Œè½¬æ¢æˆåŸºæœ¬ç±»å‹ã€‚</p>\n</li>\n<li><p>è¿™æ—¶éƒ½æ˜¯<strong>åŸºæœ¬ç±»å‹</strong>äº†ï¼Œé‚£ä¹ˆæœ‰å¦‚ä¸‹è§„åˆ™ã€‚</p>\n</li>\n</ol>\n<ul>\n<li>éƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼ŒæŒ‰ç…§<a href=\"#same primitve\">è§„åˆ™ 1</a>è¿›è¡Œå¯¹æ¯”ã€‚</li>\n<li>å…¶ä¸­ä¸€ä¸ªæ˜¯ Symbol, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œè¿”å› falseã€‚</li>\n<li>å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™å°† boolean è½¬æ¢æˆæ•°å­—ã€‚</li>\n<li>Number ä¸ String å¯¹æ¯”ï¼šä½¿ç”¨ä¸ <a href=\"#Number å¼ºåˆ¶è½¬æ¢\">Number() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•</a>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚è½¬æ¢å¤±è´¥å°†å¯¼è‡´ NaNï¼Œè¿™å°†ä¿è¯ç›¸ç­‰æ˜¯ falseã€‚</li>\n<li>Number ä¸ BigInt å¯¹æ¯”ï¼šæŒ‰æ•°å€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ•°å€¼ä¸º Â±âˆ æˆ– NaNï¼Œè¿”å› falseã€‚</li>\n<li>String ä¸ BigInt å¯¹æ¯”ï¼šä½¿ç”¨ä¸ BigInt() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º BigIntã€‚å¦‚æœè½¬æ¢å¤±è´¥ï¼Œè¿”å› falseã€‚</li>\n</ul>\n<h4 id=\"å›åˆ°ä¸Šé¢˜\"><a href=\"#å›åˆ°ä¸Šé¢˜\" class=\"headerlink\" title=\"å›åˆ°ä¸Šé¢˜\"></a>å›åˆ°ä¸Šé¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#125; == []</span><br><span class=\"line\"><span class=\"comment\">// ç›¸åŒç±»å‹éƒ½æ˜¯ Object, æ¯”è¾ƒå¼•ç”¨åœ°å€ï¼Œå› æ­¤è¿”å› false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span></span><br><span class=\"line\"><span class=\"comment\">// null ä¸ undefined è¿”å› true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&quot;str&quot;</span>) == <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸åŒç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// å…ˆå°† new String(&quot;str&quot;) è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼ˆå¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼‰å¾—åˆ°ï¼š</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;str&quot; == true</span></span><br><span class=\"line\"><span class=\"comment\">//å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean ç±»å‹ï¼Œè½¬æˆ number</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;str&quot; == 1</span></span><br><span class=\"line\"><span class=\"comment\">// å°† string è£…æ¢æˆ number</span></span><br><span class=\"line\"><span class=\"comment\">// NaN == 1</span></span><br><span class=\"line\"><span class=\"comment\">// æœ€åï¼šfalse</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+\"></a>+</h3><p><strong>åœ¨æ±‚å€¼æ—¶ï¼Œå®ƒé¦–å…ˆå°†ä¸¤ä¸ªæ“ä½œæ•°å¼ºåˆ¶è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹ã€‚ç„¶åï¼Œæ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹</strong>:</p>\n<ul>\n<li>å¤šä¸ªå€¼è¿ç®—ï¼Œè¿›è¡Œç›¸åŠ æ“ä½œï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªæ•°è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ã€‚</li>\n<li>å¤šä¸ªå€¼è¿ç®—ï¼Œéƒ½æ˜¯ BigInt, æ‰§è¡Œ BigInt åŠ æ³•ï¼Œä¸€æ–¹æ˜¯ BigInt,å¦ä¸€ä¸ªä¸æ˜¯ï¼ŒæŠ›å‡º TypeErrorã€‚</li>\n<li>å¤šä¸ªå€¼è¿ç®—ï¼Œæ²¡æœ‰ Stringã€BigInt, éƒ½è½¬ä¸ºæ•°å­—ã€‚</li>\n<li>å•å€¼è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—</li>\n</ul>\n<h4 id=\"ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®—-ğŸ˜\"><a href=\"#ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®—-ğŸ˜\" class=\"headerlink\" title=\"ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®— ğŸ˜\"></a>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®— ğŸ˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#125; + [] + &#123;&#125; + []</span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯ &#123;&#125; ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"comment\">// + [] + &#123;&#125; + []</span></span><br><span class=\"line\"><span class=\"comment\">// å‰éƒ¨åˆ†å°±ç›¸å½“äºå•ç›®è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—ç±»å‹ []--valueOf--&gt;[]--toString--&gt;&#x27;&#x27;--toNumber--&gt;0</span></span><br><span class=\"line\"><span class=\"comment\">// 0 + &#123;&#125; + []</span></span><br><span class=\"line\"><span class=\"comment\">// å…ˆè½¬æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// 0 + &#x27;[object Object]&#x27; + []</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;0[object Object]&#x27; + []</span></span><br><span class=\"line\"><span class=\"comment\">// è½¬æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;0[object Object]&#x27; + &#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// æ‹¼æ¥</span></span><br><span class=\"line\"><span class=\"comment\">//&#x27;0[object Object]&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">true</span> + <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"comment\">// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// 1 + 1</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">NaN</span> + <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"comment\">// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// NaN + 1</span></span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\">[] + &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// è£…æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;&#x27; + &#x27;[object Object]&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// [object Object]</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&#125; + []</span><br><span class=\"line\"><span class=\"comment\">// åŒæ ·çš„å‘å°±æ˜¯ &#123;&#125; ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"comment\">// + []</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œæˆäº†å•ç›®è¿ç®—ï¼Œå°†åé¢çš„è½¬æ¢ä¸ºæ•°å€¼</span></span><br><span class=\"line\"><span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">ï¼ˆ&#123;&#125;ï¼‰ + []</span><br><span class=\"line\"><span class=\"comment\">// è¿™ç§æƒ…å†µå°±ä¸ [] + &#123;&#125; ç±»ä¼¼äº†</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;[object Object]&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;&#125; + &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// å‰é¢è¯†åˆ«ä¸º block</span></span><br><span class=\"line\"><span class=\"comment\">// + &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// å•ç›®è¿ç®—ã€‚è½¬æ¢æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// &#123;&#125; --valueOf--&gt;&#123;&#125;--toString--&gt;&#x27;[object Object]&#x27;--toNumber--&gt;NaN</span></span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [] + []</span></span><br><span class=\"line\"><span class=\"comment\">// è½¬æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;&#x27; + &#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// æ‹¼æ¥</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"-\"></a>-</h3><ul>\n<li>ä¸¤ä¸ªæ“ä½œæ•°ï¼šå°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºæ•°å€¼ï¼Œå¹¶æ ¹æ®ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹æ‰§è¡Œæ•°å­—å‡æ³•æˆ– BigInt å‡æ³•ã€‚å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œåˆ™æŠ›å‡º TypeErrorã€‚</li>\n<li>ä¸€ä¸ªæ“ä½œæ•°ï¼šæ•°å­—åˆ™å–åï¼Œå¦åˆ™è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚</li>\n</ul>\n<h4 id=\"çœ‹çœ‹ä¾‹é¢˜\"><a href=\"#çœ‹çœ‹ä¾‹é¢˜\" class=\"headerlink\" title=\"çœ‹çœ‹ä¾‹é¢˜\"></a>çœ‹çœ‹ä¾‹é¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[] - &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// è½¬æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// [] --valueOf--ã€‹ [] --toString--ã€‹ &quot;&quot; --toNumber--ã€‹ 0</span></span><br><span class=\"line\"><span class=\"comment\">// &#123;&#125;--valueOf--ã€‹ &#123;&#125;--toString--ã€‹ &#x27;[object Object]&#x27;--toNumber--ã€‹ NaN</span></span><br><span class=\"line\"><span class=\"comment\">// 0 - NaN</span></span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"!\"></a>!</h3><ul>\n<li>è¿ç®—ç¬¦å°†çœŸå€¼æˆ–å‡å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ç›¸åå€¼</li>\n<li>å½“ä¸éå¸ƒå°”å€¼ä½¿ç”¨æ—¶ï¼Œå¦‚æœå…¶æ“ä½œæ•°å¯ä»¥è½¬åŒ–ä¸º trueï¼Œåˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚</li>\n</ul>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"!!\"></a>!!</h4><p>åŒéè¿ç®—ç¬¦ï¼Œå°†è¿ç®—å€¼è½¬æ¢æˆç›¸åº”çš„ boolean ç±»å‹ã€‚</p>\n<h4 id=\"çœ‹çœ‹ä¾‹é¢˜-1\"><a href=\"#çœ‹çœ‹ä¾‹é¢˜-1\" class=\"headerlink\" title=\"çœ‹çœ‹ä¾‹é¢˜\"></a>çœ‹çœ‹ä¾‹é¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![];</span><br><span class=\"line\"><span class=\"comment\">// å°† [] è½¬æˆ boolean, æ ¹æ®å¼ºåˆ¶Booleanè½¬æ¢(Objectç±»å‹ï¼‰ï¼š[] --&gt; true</span></span><br><span class=\"line\"><span class=\"comment\">// !true</span></span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"gt-lt\"><a href=\"#gt-lt\" class=\"headerlink\" title=\"&gt; / &lt;\"></a>&gt; / &lt;</h3><p><strong>æ‰€æœ‰çš„æ¯”è¾ƒæ“ä½œç¬¦éƒ½æ˜¯å…ˆå¼ºåˆ¶è½¬åŒ–å·¦æ“ä½œæ•°å†å¼ºåˆ¶è½¬åŒ–å³æ“ä½œæ•°ã€‚</strong><br>é¦–å…ˆï¼Œé€šè¿‡ä¾æ¬¡è°ƒç”¨å…¶ [@@toPrimitive]ï¼ˆä»¥ â€œnumberâ€ ä½œä¸ºæç¤ºï¼‰ã€valueOf() å’Œ toString() æ–¹æ³•ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚å·¦è¾¹çš„æ“ä½œæ•°æ€»æ˜¯åœ¨å³è¾¹çš„æ“ä½œæ•°ä¹‹å‰è¢«å¼ºåˆ¶è½¬æ¢ã€‚</p>\n<ul>\n<li>å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ ¹æ®å®ƒä»¬æ‰€åŒ…å«çš„ Unicode ç ä½çš„å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒã€‚</li>\n<li>å¦åˆ™ï¼Œå°è¯•å°†éæ•°å€¼ç±»å‹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ã€‚</li>\n<li>å¦‚æœä¸€ä¸ªä¸º NaN, è¿”å› falseã€‚</li>\n</ul>\n<h4 id=\"çœ‹çœ‹ä¾‹é¢˜-2\"><a href=\"#çœ‹çœ‹ä¾‹é¢˜-2\" class=\"headerlink\" title=\"çœ‹çœ‹ä¾‹é¢˜\"></a>çœ‹çœ‹ä¾‹é¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;a&quot;</span> &lt; <span class=\"number\">3</span>;</span><br><span class=\"line\"><span class=\"comment\">// å…ˆå°†å·¦è¾¹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// NaN &lt; 3</span></span><br><span class=\"line\"><span class=\"comment\">// æœ‰ä¸€ä¸ªä¸ºNaN, è¿”å› false</span></span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span> &lt; [];</span><br><span class=\"line\"><span class=\"comment\">// å·¦è¾¹ä¸ºæ•°å­—ç±»å‹ï¼Œå°†å³è¾¹è½¬æ¢ä¸ºæ•°å­—ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// [] --toString--&gt; &#x27;&#x27; --toNumber--&gt; 0</span></span><br><span class=\"line\"><span class=\"comment\">// 0 &lt; 0</span></span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>éšå¼è½¬æ¢çš„è§„åˆ™éå¸¸å¤šï¼Œä½†éƒ½æ˜¯å‘åŸºæœ¬ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥ç†è§£<a href=\"#å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\">å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹</a>æ¯”è¾ƒé‡è¦ï¼Œç‰¹åˆ«çš„è¿˜éœ€è¦æ³¨æ„ {} è¯†åˆ«ä¸ºä¸€ä¸ª block çš„æƒ…å†µã€‚</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality\">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2\">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2</a></li>\n<li><a href=\"https://www.zhihu.com/question/45478070\">https://www.zhihu.com/question/45478070</a></li>\n</ul>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":4518,"excerpt":"<p>å¯¹äº JavaScript ä¸­çš„ä¸€äº›è¿ç®—ç¬¦ï¼ˆå¦‚ï¼š==ï¼‰æ¥è¯´æ˜¯æ¯”è¾ƒè¿·æƒ‘çš„ã€‚å®ƒä»¬äº§ç”Ÿçš„ç»“æœæœ‰æ—¶ä¼šè®©æˆ‘ä»¬å˜å¾—æ··æ·†ï¼Œé‚£è¿™ä¸€åˆ‡çš„èƒŒåå°±æ˜¯â€œéšå¼è½¬æ¢â€åœ¨ä½œç¥Ÿäº†ã€‚</p>\n<h2 id=\"å‰ç½®\"><a href=\"#å‰ç½®\" class=\"headerlink\" title=\"å‰ç½®\"></a>å‰ç½®</h2><h3 id=\"Number-å¼ºåˆ¶è½¬æ¢\"><a href=\"#Number-å¼ºåˆ¶è½¬æ¢\" class=\"headerlink\" title=\"Number å¼ºåˆ¶è½¬æ¢\"></a>Number å¼ºåˆ¶è½¬æ¢</h3><table>\n<thead>\n<tr>\n<th align=\"center\">target</th>\n<th align=\"center\">number</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">undefined</td>\n<td align=\"center\">NaN</td>\n</tr>\n<tr>\n<td align=\"center\">null</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">true/false</td>\n<td align=\"center\">1/0</td>\n</tr>\n<tr>\n<td align=\"center\">string</td>\n<td align=\"center\">è§£æå¤±è´¥è¿”å› NaN</td>\n</tr>\n<tr>\n<td align=\"center\">BigInt</td>\n<td align=\"center\">TypeError</td>\n</tr>\n<tr>\n<td align=\"center\">Symbol</td>\n<td align=\"center\">TypeError</td>\n</tr>\n<tr>\n<td align=\"center\">Object</td>\n<td align=\"center\"><a href=\"%22number%22\">@@toPrimitive</a> â†’ valueOf() â†’ toString()</td>\n</tr>\n</tbody></table>\n<p><strong>string è§£æå¤±è´¥ï¼š</strong></p>\n<ul>\n<li>å¿½ç•¥å‰å¯¼ä¸å°¾éšçš„ç©ºæ ¼/è¡Œç»ˆæ­¢ç¬¦</li>\n<li>å‰å¯¼ 0 ä¸ä¼šè¯†åˆ«ä¸ºå…«è¿›åˆ¶æ–‡æœ¬</li>\n<li>+å’Œ-å…è®¸åœ¨å­—ç¬¦ä¸²å¼€å¤´ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œåé¢ä¸èƒ½è·Ÿç©ºæ ¼</li>\n<li>Infinity å’Œ -Infinity å½“ä½œå­—é¢é‡</li>\n<li>ç©ºä¸²æˆ–å…¨ä¸ºç©ºæ ¼è§£ææˆ 0</li>\n<li>ä¸èƒ½å«æ•°å­—åˆ†å‰²ç¬¦</li>\n</ul>","more":"<h3 id=\"å¼ºåˆ¶-boolean-è½¬æ¢\"><a href=\"#å¼ºåˆ¶-boolean-è½¬æ¢\" class=\"headerlink\" title=\"å¼ºåˆ¶ boolean è½¬æ¢\"></a>å¼ºåˆ¶ boolean è½¬æ¢</h3><table>\n<thead>\n<tr>\n<th align=\"center\">target</th>\n<th align=\"center\">Boolean</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">0 / -0</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">null</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">NaN</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">undefined</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">â€œâ€</td>\n<td align=\"center\">false</td>\n</tr>\n<tr>\n<td align=\"center\">Object / â€œanything but not emptyâ€</td>\n<td align=\"center\">true</td>\n</tr>\n</tbody></table>\n<h3 id=\"å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\"><a href=\"#å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\" class=\"headerlink\" title=\"å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\"></a>å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹</h3><p>å¤æ‚æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹æœ‰ä»¥ä¸‹è§„åˆ™ï¼š</p>\n<ul>\n<li>å¼ºåˆ¶åŸå§‹å€¼è½¬æ¢ï¼š<a href=\"%22default%22\">@@toPrimitive</a> â†’ valueOf() â†’ toString()</li>\n<li>å¼ºåˆ¶æ•°å­—ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ number ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ BigInt ç±»å‹è½¬æ¢ï¼š<a href=\"%22number%22\">@@toPrimitive</a> â†’ valueOf() â†’ toString()</li>\n<li>å¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼š<a href=\"%22string%22\">@@toPrimitive</a> â†’ toString() â†’ valueOf()</li>\n<li>Date å’Œ Symbol å¯¹è±¡æ˜¯å”¯ä¸€é‡å†™ [@@toPrimitive] æ–¹æ³•çš„å¯¹è±¡ã€‚Date.prototype[@@toPrimitive] å°† â€œdefaultâ€ hint è§†ä¸º â€œstringâ€ï¼Œè€Œ Symbol.prototype[@@toPrimitive] å¿½ç•¥ hint å¹¶å§‹ç»ˆè¿”å›ä¸€ä¸ª symbolã€‚</li>\n</ul>\n<p>å…¶ä¸­ [@@toPrimitive] ä¸ºä¸€ä¸ªå†…ç½®çš„ Symbol å±æ€§ï¼Œå…¶éƒ¨ç½²æ–¹å¼ä¸ºï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint === <span class=\"string\">&quot;number&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// &#x27;default&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚£ä¹ˆå½“é‡åˆ°åŸå§‹ç±»å‹è½¬æ¢æ—¶å°±ç›¸å½“äºè‡ªå®šä¹‰è½¬åŒ–äº†</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num = +obj;</span><br><span class=\"line\"><span class=\"comment\">// hintä¸º number, ç»“æœï¼š 10</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ“ä½œç¬¦\"><a href=\"#æ“ä½œç¬¦\" class=\"headerlink\" title=\"æ“ä½œç¬¦\"></a>æ“ä½œç¬¦</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"==\"></a>==</h3><p>é¦–å½“å…¶å†²çš„è‚¯å®šæ˜¯ â€==â€œï¼Œ æƒ³å¿…å…¶å·²ç»è‡­åæ˜­è‘—äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒçš„ä¸€äº›å‘å‘å§ ğŸ˜€ã€‚</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#125; == []</span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&quot;str&quot;</span>) == <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ˜ç¡®ä¸€ä¸‹ == çš„è§„åˆ™ï¼Œé‚£ä¹ˆå°±éå¸¸å®¹æ˜“å»åˆ¤æ–­ç»“æœäº†ï¼Œå…¶è§„åˆ™ä¸ºï¼š</p>\n<ol>\n<li><span id=\"same primitve\">ç›¸åŒç±»å‹</span>ï¼š</li>\n</ol>\n<ul>\n<li>Object ç±»å‹ï¼šæ¯”è¾ƒå¼•ç”¨åœ°å€</li>\n<li>Number: æœ‰ NaN åˆ™è¿”å› false, +0 ä¸ -0 ç›¸ç­‰ï¼Œæ“ä½œæ•°ç›¸ç­‰åˆ™è¿”å› trueã€‚</li>\n<li>Stringï¼šåªæœ‰å½“ä¸¤ä¸ªæ“ä½œæ•°å…·æœ‰ç›¸åŒçš„å­—ç¬¦ä¸”é¡ºåºç›¸åŒæ—¶æ‰è¿”å› trueã€‚</li>\n<li>Booleanï¼šä»…å½“æ“ä½œæ•°éƒ½ä¸º true æˆ–éƒ½ä¸º false æ—¶è¿”å› trueã€‚</li>\n<li>BigIntï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å€¼ç›¸åŒæ—¶è¿”å› trueã€‚</li>\n<li>Symbolï¼šä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å¼•ç”¨ç›¸åŒçš„ç¬¦å·æ—¶è¿”å› trueã€‚</li>\n<li>null: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚</li>\n<li>undefined: å¦ä¸€ä¸ªæ•°ä¸º undefined æˆ– null æ‰è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚</li>\n</ul>\n<ol start=\"2\">\n<li><p>å…¶ä¸­ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯åŸºæœ¬ç±»å‹ã€‚ä¼šæŒ‰ç…§**<a href=\"#å‰ç½®\">å‰ç½®</a>**çš„è§„åˆ™è¿›è¡Œè½¬æ¢æˆåŸºæœ¬ç±»å‹ã€‚</p>\n</li>\n<li><p>è¿™æ—¶éƒ½æ˜¯<strong>åŸºæœ¬ç±»å‹</strong>äº†ï¼Œé‚£ä¹ˆæœ‰å¦‚ä¸‹è§„åˆ™ã€‚</p>\n</li>\n</ol>\n<ul>\n<li>éƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼ŒæŒ‰ç…§<a href=\"#same primitve\">è§„åˆ™ 1</a>è¿›è¡Œå¯¹æ¯”ã€‚</li>\n<li>å…¶ä¸­ä¸€ä¸ªæ˜¯ Symbol, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œè¿”å› falseã€‚</li>\n<li>å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean, å¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™å°† boolean è½¬æ¢æˆæ•°å­—ã€‚</li>\n<li>Number ä¸ String å¯¹æ¯”ï¼šä½¿ç”¨ä¸ <a href=\"#Number å¼ºåˆ¶è½¬æ¢\">Number() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•</a>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚è½¬æ¢å¤±è´¥å°†å¯¼è‡´ NaNï¼Œè¿™å°†ä¿è¯ç›¸ç­‰æ˜¯ falseã€‚</li>\n<li>Number ä¸ BigInt å¯¹æ¯”ï¼šæŒ‰æ•°å€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ•°å€¼ä¸º Â±âˆ æˆ– NaNï¼Œè¿”å› falseã€‚</li>\n<li>String ä¸ BigInt å¯¹æ¯”ï¼šä½¿ç”¨ä¸ BigInt() æ„é€ å‡½æ•°ç›¸åŒçš„ç®—æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º BigIntã€‚å¦‚æœè½¬æ¢å¤±è´¥ï¼Œè¿”å› falseã€‚</li>\n</ul>\n<h4 id=\"å›åˆ°ä¸Šé¢˜\"><a href=\"#å›åˆ°ä¸Šé¢˜\" class=\"headerlink\" title=\"å›åˆ°ä¸Šé¢˜\"></a>å›åˆ°ä¸Šé¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#125; == []</span><br><span class=\"line\"><span class=\"comment\">// ç›¸åŒç±»å‹éƒ½æ˜¯ Object, æ¯”è¾ƒå¼•ç”¨åœ°å€ï¼Œå› æ­¤è¿”å› false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span></span><br><span class=\"line\"><span class=\"comment\">// null ä¸ undefined è¿”å› true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&quot;str&quot;</span>) == <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸åŒç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// å…ˆå°† new String(&quot;str&quot;) è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼ˆå¼ºåˆ¶å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ï¼‰å¾—åˆ°ï¼š</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;str&quot; == true</span></span><br><span class=\"line\"><span class=\"comment\">//å…¶ä¸­ä¸€ä¸ªæ˜¯ boolean ç±»å‹ï¼Œè½¬æˆ number</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;str&quot; == 1</span></span><br><span class=\"line\"><span class=\"comment\">// å°† string è£…æ¢æˆ number</span></span><br><span class=\"line\"><span class=\"comment\">// NaN == 1</span></span><br><span class=\"line\"><span class=\"comment\">// æœ€åï¼šfalse</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+\"></a>+</h3><p><strong>åœ¨æ±‚å€¼æ—¶ï¼Œå®ƒé¦–å…ˆå°†ä¸¤ä¸ªæ“ä½œæ•°å¼ºåˆ¶è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹ã€‚ç„¶åï¼Œæ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹</strong>:</p>\n<ul>\n<li>å¤šä¸ªå€¼è¿ç®—ï¼Œè¿›è¡Œç›¸åŠ æ“ä½œï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šå°†å¦ä¸€ä¸ªæ•°è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ã€‚</li>\n<li>å¤šä¸ªå€¼è¿ç®—ï¼Œéƒ½æ˜¯ BigInt, æ‰§è¡Œ BigInt åŠ æ³•ï¼Œä¸€æ–¹æ˜¯ BigInt,å¦ä¸€ä¸ªä¸æ˜¯ï¼ŒæŠ›å‡º TypeErrorã€‚</li>\n<li>å¤šä¸ªå€¼è¿ç®—ï¼Œæ²¡æœ‰ Stringã€BigInt, éƒ½è½¬ä¸ºæ•°å­—ã€‚</li>\n<li>å•å€¼è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—</li>\n</ul>\n<h4 id=\"ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®—-ğŸ˜\"><a href=\"#ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®—-ğŸ˜\" class=\"headerlink\" title=\"ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®— ğŸ˜\"></a>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„è¿ç®— ğŸ˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#125; + [] + &#123;&#125; + []</span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯ &#123;&#125; ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"comment\">// + [] + &#123;&#125; + []</span></span><br><span class=\"line\"><span class=\"comment\">// å‰éƒ¨åˆ†å°±ç›¸å½“äºå•ç›®è¿ç®—ï¼Œè½¬æ¢æˆæ•°å­—ç±»å‹ []--valueOf--&gt;[]--toString--&gt;&#x27;&#x27;--toNumber--&gt;0</span></span><br><span class=\"line\"><span class=\"comment\">// 0 + &#123;&#125; + []</span></span><br><span class=\"line\"><span class=\"comment\">// å…ˆè½¬æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// 0 + &#x27;[object Object]&#x27; + []</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;0[object Object]&#x27; + []</span></span><br><span class=\"line\"><span class=\"comment\">// è½¬æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;0[object Object]&#x27; + &#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// æ‹¼æ¥</span></span><br><span class=\"line\"><span class=\"comment\">//&#x27;0[object Object]&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">true</span> + <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"comment\">// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// 1 + 1</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">NaN</span> + <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"comment\">// å·²ç»éƒ½æ˜¯åŸºæœ¬ç±»å‹äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æ²¡æœ‰ Stringã€BigIntï¼Œéƒ½è½¬æ¢æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// NaN + 1</span></span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\">[] + &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// è£…æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;&#x27; + &#x27;[object Object]&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// [object Object]</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;&#125; + []</span><br><span class=\"line\"><span class=\"comment\">// åŒæ ·çš„å‘å°±æ˜¯ &#123;&#125; ä¼šè¯†åˆ«ä¸ºä¸€ä¸ª block, ç„¶åå°±æˆäº†ä¸‹é¢è¿™ç§æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"comment\">// + []</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œæˆäº†å•ç›®è¿ç®—ï¼Œå°†åé¢çš„è½¬æ¢ä¸ºæ•°å€¼</span></span><br><span class=\"line\"><span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">ï¼ˆ&#123;&#125;ï¼‰ + []</span><br><span class=\"line\"><span class=\"comment\">// è¿™ç§æƒ…å†µå°±ä¸ [] + &#123;&#125; ç±»ä¼¼äº†</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;[object Object]&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;&#125; + &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// å‰é¢è¯†åˆ«ä¸º block</span></span><br><span class=\"line\"><span class=\"comment\">// + &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// å•ç›®è¿ç®—ã€‚è½¬æ¢æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// &#123;&#125; --valueOf--&gt;&#123;&#125;--toString--&gt;&#x27;[object Object]&#x27;--toNumber--&gt;NaN</span></span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [] + []</span></span><br><span class=\"line\"><span class=\"comment\">// è½¬æ¢æˆåŸºæœ¬ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;&#x27; + &#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// æ‹¼æ¥</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"-\"></a>-</h3><ul>\n<li>ä¸¤ä¸ªæ“ä½œæ•°ï¼šå°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºæ•°å€¼ï¼Œå¹¶æ ¹æ®ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹æ‰§è¡Œæ•°å­—å‡æ³•æˆ– BigInt å‡æ³•ã€‚å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œåˆ™æŠ›å‡º TypeErrorã€‚</li>\n<li>ä¸€ä¸ªæ“ä½œæ•°ï¼šæ•°å­—åˆ™å–åï¼Œå¦åˆ™è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚</li>\n</ul>\n<h4 id=\"çœ‹çœ‹ä¾‹é¢˜\"><a href=\"#çœ‹çœ‹ä¾‹é¢˜\" class=\"headerlink\" title=\"çœ‹çœ‹ä¾‹é¢˜\"></a>çœ‹çœ‹ä¾‹é¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[] - &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// è½¬æˆæ•°å­—</span></span><br><span class=\"line\"><span class=\"comment\">// [] --valueOf--ã€‹ [] --toString--ã€‹ &quot;&quot; --toNumber--ã€‹ 0</span></span><br><span class=\"line\"><span class=\"comment\">// &#123;&#125;--valueOf--ã€‹ &#123;&#125;--toString--ã€‹ &#x27;[object Object]&#x27;--toNumber--ã€‹ NaN</span></span><br><span class=\"line\"><span class=\"comment\">// 0 - NaN</span></span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"!\"></a>!</h3><ul>\n<li>è¿ç®—ç¬¦å°†çœŸå€¼æˆ–å‡å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ç›¸åå€¼</li>\n<li>å½“ä¸éå¸ƒå°”å€¼ä½¿ç”¨æ—¶ï¼Œå¦‚æœå…¶æ“ä½œæ•°å¯ä»¥è½¬åŒ–ä¸º trueï¼Œåˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚</li>\n</ul>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"!!\"></a>!!</h4><p>åŒéè¿ç®—ç¬¦ï¼Œå°†è¿ç®—å€¼è½¬æ¢æˆç›¸åº”çš„ boolean ç±»å‹ã€‚</p>\n<h4 id=\"çœ‹çœ‹ä¾‹é¢˜-1\"><a href=\"#çœ‹çœ‹ä¾‹é¢˜-1\" class=\"headerlink\" title=\"çœ‹çœ‹ä¾‹é¢˜\"></a>çœ‹çœ‹ä¾‹é¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![];</span><br><span class=\"line\"><span class=\"comment\">// å°† [] è½¬æˆ boolean, æ ¹æ®å¼ºåˆ¶Booleanè½¬æ¢(Objectç±»å‹ï¼‰ï¼š[] --&gt; true</span></span><br><span class=\"line\"><span class=\"comment\">// !true</span></span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"gt-lt\"><a href=\"#gt-lt\" class=\"headerlink\" title=\"&gt; / &lt;\"></a>&gt; / &lt;</h3><p><strong>æ‰€æœ‰çš„æ¯”è¾ƒæ“ä½œç¬¦éƒ½æ˜¯å…ˆå¼ºåˆ¶è½¬åŒ–å·¦æ“ä½œæ•°å†å¼ºåˆ¶è½¬åŒ–å³æ“ä½œæ•°ã€‚</strong><br>é¦–å…ˆï¼Œé€šè¿‡ä¾æ¬¡è°ƒç”¨å…¶ [@@toPrimitive]ï¼ˆä»¥ â€œnumberâ€ ä½œä¸ºæç¤ºï¼‰ã€valueOf() å’Œ toString() æ–¹æ³•ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚å·¦è¾¹çš„æ“ä½œæ•°æ€»æ˜¯åœ¨å³è¾¹çš„æ“ä½œæ•°ä¹‹å‰è¢«å¼ºåˆ¶è½¬æ¢ã€‚</p>\n<ul>\n<li>å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ ¹æ®å®ƒä»¬æ‰€åŒ…å«çš„ Unicode ç ä½çš„å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒã€‚</li>\n<li>å¦åˆ™ï¼Œå°è¯•å°†éæ•°å€¼ç±»å‹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹ã€‚</li>\n<li>å¦‚æœä¸€ä¸ªä¸º NaN, è¿”å› falseã€‚</li>\n</ul>\n<h4 id=\"çœ‹çœ‹ä¾‹é¢˜-2\"><a href=\"#çœ‹çœ‹ä¾‹é¢˜-2\" class=\"headerlink\" title=\"çœ‹çœ‹ä¾‹é¢˜\"></a>çœ‹çœ‹ä¾‹é¢˜</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;a&quot;</span> &lt; <span class=\"number\">3</span>;</span><br><span class=\"line\"><span class=\"comment\">// å…ˆå°†å·¦è¾¹è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// NaN &lt; 3</span></span><br><span class=\"line\"><span class=\"comment\">// æœ‰ä¸€ä¸ªä¸ºNaN, è¿”å› false</span></span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span> &lt; [];</span><br><span class=\"line\"><span class=\"comment\">// å·¦è¾¹ä¸ºæ•°å­—ç±»å‹ï¼Œå°†å³è¾¹è½¬æ¢ä¸ºæ•°å­—ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// [] --toString--&gt; &#x27;&#x27; --toNumber--&gt; 0</span></span><br><span class=\"line\"><span class=\"comment\">// 0 &lt; 0</span></span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>éšå¼è½¬æ¢çš„è§„åˆ™éå¸¸å¤šï¼Œä½†éƒ½æ˜¯å‘åŸºæœ¬ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥ç†è§£<a href=\"#å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹\">å¤æ‚ç±»å‹è½¬æ¢æˆåŸå§‹ç±»å‹</a>æ¯”è¾ƒé‡è¦ï¼Œç‰¹åˆ«çš„è¿˜éœ€è¦æ³¨æ„ {} è¯†åˆ«ä¸ºä¸€ä¸ª block çš„æƒ…å†µã€‚</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality\">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2\">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2</a></li>\n<li><a href=\"https://www.zhihu.com/question/45478070\">https://www.zhihu.com/question/45478070</a></li>\n</ul>"},{"title":"Scroll å¼€å‘å°è®°","date":"2022-09-11T14:32:31.000Z","_content":"\n> èƒŒæ™¯ï¼šä¸€æ¬¡å·¦æ»‘åŠ è½½æ›´å¤šçš„çš„äº¤äº’å¼€å‘\n\n## å¡«å‘å¼€å§‹\n\nåœ¨æœ€å¼€å§‹æ—¶ï¼Œæˆ‘å¾—åˆ°äº†ä¸€ä¸ªæç¤ºï¼Œå·¦æ»‘åŠ è½½æ›´å¤šç±»ä¼¼ä¸‹æ‹‰åˆ·æ–°ã€‚æƒ³äº†æƒ³ï¼Œå¥½å®¶ä¼™ï¼Œä¸å°±æ˜¯æŠŠä¸‹æ‹‰åˆ·æ–°æ¨ªè¿‡æ¥å˜›ï¼Œç¢°å·§ä¸‹æ‹‰åˆ·æ–°è¿˜æ˜¯å‰å‡ å¤©æ–°å¢çš„ä¸€ä¸ªç»„ä»¶ï¼Œè¿™å›å¯ä»¥å€Ÿé‰´å€Ÿé‰´äº† ğŸ˜ã€‚OK å¼€å¹²ï¼\n\n<!-- more -->\n\n## ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\n\nåœ¨æŸ¥çœ‹ç»„ä»¶çš„æºç åï¼Œå‘ç°ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡å…¶å®æ¯”è¾ƒç®€å•ã€‚è¿™é‡Œä½¿ç”¨äº† @use-gesture/react ç”¨åœ¨æ‰‹åŠ¿ä¸Šçš„ç»‘å®šï¼Œreact-spring ç”¨ä½œåŠ¨ç”»çš„å®ç°ã€‚ä¸‹é¢å°±ç®€å•ä»‹ç»ä¸‹å…¶è®¾è®¡æ€è·¯ã€‚\n\né¦–å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜\n\n- ä»€ä¹ˆæ—¶å€™è§¦å‘åˆ·æ–° æˆ–è€…ä»€ä¹ˆæ—¶å€™è°ƒç”¨æ‰‹åŠ¿ï¼Ÿ\n- scroll å®¹å™¨æ»šåŠ¨æ—¶ä¸æ‰‹åŠ¿å†²çªã€‚\n- ä¸‹æ‹‰çš„é˜ˆå€¼ã€å›å¼¹åŠ¨ç”»\n1. ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶åœ¨è®¾è®¡æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯æµè§ˆå™¨åŸç”Ÿæ»šåŠ¨åŠ ä¸Šè‡ªå®šä¹‰ç”¨æˆ·æ‰‹åŠ¿äº‹ä»¶ã€‚è¿™æ ·æˆ‘ä»¬å¾ˆå®¹æ˜“åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è§¦å‘æ‰‹åŠ¿äº‹ä»¶äº†ã€‚å…¶ç­”æ¡ˆæ˜¯ï¼šåˆ¤æ–­ dom èŠ‚ç‚¹çš„ scrollTopï¼Œå½“ scrollTop ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»åˆ°é¡¶äº†ï¼Œç„¶ååœ¨å¾€ä¸‹æ‹‰æ—¶ï¼Œå°±å¼€å§‹è§¦å‘æ‰‹åŠ¿ï¼Œå½“æ‰‹åŠ¿ä¸‹æ‹‰çš„è·ç¦»è¶…è¿‡æŸä¸ªé˜ˆå€¼æ—¶ï¼Œå³å˜ä¸ºäº†å¯åˆ·æ–°çš„çŠ¶æ€ï¼Œæ¾æ‰‹åï¼Œç›´æ¥è§¦å‘ä¸‹æ‹‰å›è°ƒã€‚\n\n2. ä»é—®é¢˜ 1 çš„ç­”æ¡ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆåˆç†åœ°è§„é¿åŸç”Ÿæ»šåŠ¨ä¸æ‰‹åŠ¿ä¸‹æ‹‰çš„å†²çªï¼ŒåŠ scrollTop ä¸ä¸º 0 æ—¶ï¼Œä¸ä¼šè§¦å‘æ‰‹åŠ¿äº‹ä»¶ã€‚\n\n3. é€šè¿‡ use-gesture/react ä¸­çš„ rubberbandIfOutOfBounds å‡½æ•°åˆ›å»ºä¸€ä¸ªå¼¹ç°§æ•ˆæœï¼Œå›å¼¹åŠ¨ç”»å‘¢ï¼Œè¿™ä¸ªç»„ä»¶é‡‡ç”¨çš„æ˜¯è®¾ç½® loading çš„ height æ¥å®ç°ï¼Œè™½ç„¶å¯ä»¥ï¼Œä½†æˆ‘ç†è§£è¿™ç§åŠ¨æ€é«˜åº¦ä¸æ˜¯å¤ªé€‚åˆè¿™ç§æ»šåŠ¨åœºæ™¯ã€‚å› æ­¤åé¢ç»è¿‡å„ç§å®éªŒï¼ˆè¸©å‘ï¼‰åï¼Œä¸¢å¼ƒäº†è¿™ç§æ”¹å˜é«˜åº¦ï¼ˆå®½åº¦ï¼‰çš„æ–¹å¼å±•ç¤º loadingã€‚\n\n> å¤§æ¦‚çš„ä¸€ä¸ªæ¡†æ¶å›¾\n\n![img_1](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-01%2018.42.03.png)\n\n## æ¨ªæ»‘å®è·µ\næ¨ªæ»‘å¤šç®€å•å‘¢ï¼ŒæŠŠç«–ç€çš„æ¨ªè¿‡æ¥å°±æ˜¯äº† ğŸ˜Šã€‚å“ˆå“ˆï¼Œç¡®å®æ˜¯è¿™æ ·çš„ã€‚\n\n### Version 1\n\nåŸºæœ¬å¥—è·¯ï¼š\n- overflowï¼šhidden\n- transformï¼štranslate3d\nåŸºäºä»¥ä¸Šå¥—è·¯ï¼Œç¬¬ä¸€ç‰ˆæ²¡æœ‰é‡‡ç”¨æµè§ˆå™¨çš„åŸç”Ÿæ»šåŠ¨ï¼Œç„¶åå…¨ç¨‹è§¦å‘æ‰‹åŠ¿äº‹ä»¶ï¼Œé€šè¿‡æ‰‹åŠ¿äº‹ä»¶æ§åˆ¶ react-spring çš„åŠ¨ç”»å‚æ•°ï¼Œå®ç°æ¨¡æ‹Ÿæ»šåŠ¨ã€‚æ˜¾ç„¶ï¼Œæ¨¡æ‹Ÿæ»šåŠ¨çš„æ•ˆæœä¸æ˜¯å¤ªå¥½ï¼Œå…¶åŸå› åœ¨äºæ»šåŠ¨é€Ÿç‡å˜åŒ–ã€æ»šåŠ¨æƒ¯æ€§ç­‰æ¯”è¾ƒéš¾æ§åˆ¶ï¼ˆå®é™…åŸå› ï¼šğŸ¥¬ ğŸ¶ï¼‰ã€‚\nä¸‹é¢æ¥çœ‹ä¸€ä¸‹åˆç‰ˆæ•ˆæœ:\n\n![img_2](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-01-2022%2019-11-16.gif)\n\nç›®æµ‹æ•ˆæœè¿˜è¡Œï¼Œä½†æ˜¯åœ¨çœŸæœºè°ƒè¯•ä¸Šå°±æ¯”è¾ƒæ‹‰èƒ¯äº†ï¼Œåœ¨çœŸæœºä¸Šï¼Œå®é™…ç§»åŠ¨çš„è·ç¦»æ˜¯æ‰‹æŒ‡ä¸€åŠ¨çš„è·ç¦»ï¼Œæ‰€ä»¥æ˜¯éå¸¸çš„æ…¢å¹¶ä¸”æ¯ä¸€æ¬¡æ»šåŠ¨çš„è·ç¦»ã€é€Ÿåº¦è¿™äº›æ¯”è¾ƒå—é™ã€‚\n\n### Version 2\n\nå‚è€ƒ picker ç»„ä»¶ï¼Œåšä¸€ä¸ªæ»šåŠ¨æƒ¯æ€§ã€‚è¿™ç§æ»šåŠ¨å¯¹åº”çš„æ˜¯æ¯ä¸€æ¬¡ç§»åŠ¨ï¼Œç»ˆç‚¹ä½ç½®éƒ½æ˜¯ä¸€ä¸ªæ•´æ•°ä½ç½®ï¼ˆæœ€ç»ˆç§»åŠ¨åæ ‡æ˜¯ï¼š index * itemWidth æˆ–è€… itemHeightï¼‰ã€‚\n\n### Version 3\næ€è·¯ï¼šåŸç”Ÿæ»šåŠ¨ç»“åˆæ‰‹åŠ¿ï¼Œè¿™æ¬¾è®¾è®¡æ¯”è¾ƒåˆç†ï¼ŒåŸç”Ÿæ»šåŠ¨æ”¹å–„äº†é€Ÿåº¦é—®é¢˜ï¼Œæ¨ªå‘é•¿åˆ—è¡¨åœ¨æ»šåŠ¨æ—¶ï¼Œåªæœ‰åˆ°æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶æ‰è§¦å‘æ•´ä½“å®¹å™¨çš„ç§»åŠ¨ï¼Œç„¶åéœ²å‡º loadã€‚\næ³¨æ„ï¼šåŸç”Ÿæ»šåŠ¨é‡‡ç”¨ overflowï¼šautoã€‚åœ¨æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶ï¼Œè§¦å‘æ‰‹åŠ¿ï¼Œéœ€è¦è®¾ç½® overflowï¼šhiddenï¼Œä¸ç„¶å°±ä¼šå‘ç”Ÿæ»šåŠ¨é‡å ï¼ˆåŸç”Ÿçš„åœ¨æ»šåŠ¨ã€æ‰‹åŠ¿ä¹Ÿåœ¨ç§»åŠ¨ï¼‰ã€‚\n\n![img_3](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-02%2020.17.02.png)\n\nçœ‹ä¼¼å¯ç”¨äº†ï¼Œç„¶è€Œ ios æœ‰ä¸ªå‘ç‚¹ï¼ŒåŸç”Ÿæ»šåŠ¨å…·æœ‰æƒ¯æ€§å›å¼¹ï¼Œæ‰€ä»¥ï¼Œå½“ä½ æ‹‡æŒ‡å¿«é€Ÿå·¦æ»‘æ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸ªæ»šåŠ¨å›å¼¹ã€‚è¿™ä¸ªå›å¼¹ä¸ä¼šå°† load éœ²å‡ºæ¥ï¼Œåè€Œéœ²å‡ºçš„æ˜¯ä¸€ä¸ªç™½åº•ã€‚\n\n## èƒ½ç”¨å¾…æ”¹å–„\n\nå¦‚æ ‡é¢˜æ‰€è¯´ï¼Œæœ€ç»ˆç‰ˆåªæ˜¯ä¸€ä¸ªèƒ½ç”¨çš„ç‰ˆæœ¬ã€‚å„ç§åŸå› ï¼Œé€‰æ‹©å°† load æ”¾åœ¨äº†åŸç”Ÿ scroll é‡Œé¢äº†ï¼ˆé‡Œå¤–å·®åˆ«ä¸å¤§ ğŸ˜…ï¼‰ã€‚\n\n![img_3](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-02-2022%2021-05-15.gif)\n\nå¾…ä¼˜åŒ–çš„ç‚¹\n\n- åŸç”Ÿæ»šåŠ¨ä¸èƒ½æœ‰å›å¼¹æ•ˆæœï¼Œå¦‚æœéœ€è¦å¢åŠ å›å¼¹æ•ˆæœï¼Œéœ€è¦æ‰‹åŠ¨æ¨¡æ‹Ÿæ»šåŠ¨ï¼Œç„¶åå†æ·»åŠ å›å¼¹ã€‚(iosç‰¹å®šçš„è¾¹ç•Œå¼¹ç°§æ•ˆæœä¸èƒ½ç¦æ­¢)\n- è¾¹ç•Œ drag ä¸æµç•…ï¼Œæœ‰å¾…æ”¹è¿›ã€‚","source":"_posts/Scroll-å¼€å‘å°è®°.md","raw":"---\ntitle: Scroll å¼€å‘å°è®°\ndate: 2022-09-11 22:32:31\ntags:\n---\n\n> èƒŒæ™¯ï¼šä¸€æ¬¡å·¦æ»‘åŠ è½½æ›´å¤šçš„çš„äº¤äº’å¼€å‘\n\n## å¡«å‘å¼€å§‹\n\nåœ¨æœ€å¼€å§‹æ—¶ï¼Œæˆ‘å¾—åˆ°äº†ä¸€ä¸ªæç¤ºï¼Œå·¦æ»‘åŠ è½½æ›´å¤šç±»ä¼¼ä¸‹æ‹‰åˆ·æ–°ã€‚æƒ³äº†æƒ³ï¼Œå¥½å®¶ä¼™ï¼Œä¸å°±æ˜¯æŠŠä¸‹æ‹‰åˆ·æ–°æ¨ªè¿‡æ¥å˜›ï¼Œç¢°å·§ä¸‹æ‹‰åˆ·æ–°è¿˜æ˜¯å‰å‡ å¤©æ–°å¢çš„ä¸€ä¸ªç»„ä»¶ï¼Œè¿™å›å¯ä»¥å€Ÿé‰´å€Ÿé‰´äº† ğŸ˜ã€‚OK å¼€å¹²ï¼\n\n<!-- more -->\n\n## ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\n\nåœ¨æŸ¥çœ‹ç»„ä»¶çš„æºç åï¼Œå‘ç°ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡å…¶å®æ¯”è¾ƒç®€å•ã€‚è¿™é‡Œä½¿ç”¨äº† @use-gesture/react ç”¨åœ¨æ‰‹åŠ¿ä¸Šçš„ç»‘å®šï¼Œreact-spring ç”¨ä½œåŠ¨ç”»çš„å®ç°ã€‚ä¸‹é¢å°±ç®€å•ä»‹ç»ä¸‹å…¶è®¾è®¡æ€è·¯ã€‚\n\né¦–å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜\n\n- ä»€ä¹ˆæ—¶å€™è§¦å‘åˆ·æ–° æˆ–è€…ä»€ä¹ˆæ—¶å€™è°ƒç”¨æ‰‹åŠ¿ï¼Ÿ\n- scroll å®¹å™¨æ»šåŠ¨æ—¶ä¸æ‰‹åŠ¿å†²çªã€‚\n- ä¸‹æ‹‰çš„é˜ˆå€¼ã€å›å¼¹åŠ¨ç”»\n1. ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶åœ¨è®¾è®¡æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯æµè§ˆå™¨åŸç”Ÿæ»šåŠ¨åŠ ä¸Šè‡ªå®šä¹‰ç”¨æˆ·æ‰‹åŠ¿äº‹ä»¶ã€‚è¿™æ ·æˆ‘ä»¬å¾ˆå®¹æ˜“åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è§¦å‘æ‰‹åŠ¿äº‹ä»¶äº†ã€‚å…¶ç­”æ¡ˆæ˜¯ï¼šåˆ¤æ–­ dom èŠ‚ç‚¹çš„ scrollTopï¼Œå½“ scrollTop ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»åˆ°é¡¶äº†ï¼Œç„¶ååœ¨å¾€ä¸‹æ‹‰æ—¶ï¼Œå°±å¼€å§‹è§¦å‘æ‰‹åŠ¿ï¼Œå½“æ‰‹åŠ¿ä¸‹æ‹‰çš„è·ç¦»è¶…è¿‡æŸä¸ªé˜ˆå€¼æ—¶ï¼Œå³å˜ä¸ºäº†å¯åˆ·æ–°çš„çŠ¶æ€ï¼Œæ¾æ‰‹åï¼Œç›´æ¥è§¦å‘ä¸‹æ‹‰å›è°ƒã€‚\n\n2. ä»é—®é¢˜ 1 çš„ç­”æ¡ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆåˆç†åœ°è§„é¿åŸç”Ÿæ»šåŠ¨ä¸æ‰‹åŠ¿ä¸‹æ‹‰çš„å†²çªï¼ŒåŠ scrollTop ä¸ä¸º 0 æ—¶ï¼Œä¸ä¼šè§¦å‘æ‰‹åŠ¿äº‹ä»¶ã€‚\n\n3. é€šè¿‡ use-gesture/react ä¸­çš„ rubberbandIfOutOfBounds å‡½æ•°åˆ›å»ºä¸€ä¸ªå¼¹ç°§æ•ˆæœï¼Œå›å¼¹åŠ¨ç”»å‘¢ï¼Œè¿™ä¸ªç»„ä»¶é‡‡ç”¨çš„æ˜¯è®¾ç½® loading çš„ height æ¥å®ç°ï¼Œè™½ç„¶å¯ä»¥ï¼Œä½†æˆ‘ç†è§£è¿™ç§åŠ¨æ€é«˜åº¦ä¸æ˜¯å¤ªé€‚åˆè¿™ç§æ»šåŠ¨åœºæ™¯ã€‚å› æ­¤åé¢ç»è¿‡å„ç§å®éªŒï¼ˆè¸©å‘ï¼‰åï¼Œä¸¢å¼ƒäº†è¿™ç§æ”¹å˜é«˜åº¦ï¼ˆå®½åº¦ï¼‰çš„æ–¹å¼å±•ç¤º loadingã€‚\n\n> å¤§æ¦‚çš„ä¸€ä¸ªæ¡†æ¶å›¾\n\n![img_1](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-01%2018.42.03.png)\n\n## æ¨ªæ»‘å®è·µ\næ¨ªæ»‘å¤šç®€å•å‘¢ï¼ŒæŠŠç«–ç€çš„æ¨ªè¿‡æ¥å°±æ˜¯äº† ğŸ˜Šã€‚å“ˆå“ˆï¼Œç¡®å®æ˜¯è¿™æ ·çš„ã€‚\n\n### Version 1\n\nåŸºæœ¬å¥—è·¯ï¼š\n- overflowï¼šhidden\n- transformï¼štranslate3d\nåŸºäºä»¥ä¸Šå¥—è·¯ï¼Œç¬¬ä¸€ç‰ˆæ²¡æœ‰é‡‡ç”¨æµè§ˆå™¨çš„åŸç”Ÿæ»šåŠ¨ï¼Œç„¶åå…¨ç¨‹è§¦å‘æ‰‹åŠ¿äº‹ä»¶ï¼Œé€šè¿‡æ‰‹åŠ¿äº‹ä»¶æ§åˆ¶ react-spring çš„åŠ¨ç”»å‚æ•°ï¼Œå®ç°æ¨¡æ‹Ÿæ»šåŠ¨ã€‚æ˜¾ç„¶ï¼Œæ¨¡æ‹Ÿæ»šåŠ¨çš„æ•ˆæœä¸æ˜¯å¤ªå¥½ï¼Œå…¶åŸå› åœ¨äºæ»šåŠ¨é€Ÿç‡å˜åŒ–ã€æ»šåŠ¨æƒ¯æ€§ç­‰æ¯”è¾ƒéš¾æ§åˆ¶ï¼ˆå®é™…åŸå› ï¼šğŸ¥¬ ğŸ¶ï¼‰ã€‚\nä¸‹é¢æ¥çœ‹ä¸€ä¸‹åˆç‰ˆæ•ˆæœ:\n\n![img_2](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-01-2022%2019-11-16.gif)\n\nç›®æµ‹æ•ˆæœè¿˜è¡Œï¼Œä½†æ˜¯åœ¨çœŸæœºè°ƒè¯•ä¸Šå°±æ¯”è¾ƒæ‹‰èƒ¯äº†ï¼Œåœ¨çœŸæœºä¸Šï¼Œå®é™…ç§»åŠ¨çš„è·ç¦»æ˜¯æ‰‹æŒ‡ä¸€åŠ¨çš„è·ç¦»ï¼Œæ‰€ä»¥æ˜¯éå¸¸çš„æ…¢å¹¶ä¸”æ¯ä¸€æ¬¡æ»šåŠ¨çš„è·ç¦»ã€é€Ÿåº¦è¿™äº›æ¯”è¾ƒå—é™ã€‚\n\n### Version 2\n\nå‚è€ƒ picker ç»„ä»¶ï¼Œåšä¸€ä¸ªæ»šåŠ¨æƒ¯æ€§ã€‚è¿™ç§æ»šåŠ¨å¯¹åº”çš„æ˜¯æ¯ä¸€æ¬¡ç§»åŠ¨ï¼Œç»ˆç‚¹ä½ç½®éƒ½æ˜¯ä¸€ä¸ªæ•´æ•°ä½ç½®ï¼ˆæœ€ç»ˆç§»åŠ¨åæ ‡æ˜¯ï¼š index * itemWidth æˆ–è€… itemHeightï¼‰ã€‚\n\n### Version 3\næ€è·¯ï¼šåŸç”Ÿæ»šåŠ¨ç»“åˆæ‰‹åŠ¿ï¼Œè¿™æ¬¾è®¾è®¡æ¯”è¾ƒåˆç†ï¼ŒåŸç”Ÿæ»šåŠ¨æ”¹å–„äº†é€Ÿåº¦é—®é¢˜ï¼Œæ¨ªå‘é•¿åˆ—è¡¨åœ¨æ»šåŠ¨æ—¶ï¼Œåªæœ‰åˆ°æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶æ‰è§¦å‘æ•´ä½“å®¹å™¨çš„ç§»åŠ¨ï¼Œç„¶åéœ²å‡º loadã€‚\næ³¨æ„ï¼šåŸç”Ÿæ»šåŠ¨é‡‡ç”¨ overflowï¼šautoã€‚åœ¨æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶ï¼Œè§¦å‘æ‰‹åŠ¿ï¼Œéœ€è¦è®¾ç½® overflowï¼šhiddenï¼Œä¸ç„¶å°±ä¼šå‘ç”Ÿæ»šåŠ¨é‡å ï¼ˆåŸç”Ÿçš„åœ¨æ»šåŠ¨ã€æ‰‹åŠ¿ä¹Ÿåœ¨ç§»åŠ¨ï¼‰ã€‚\n\n![img_3](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-02%2020.17.02.png)\n\nçœ‹ä¼¼å¯ç”¨äº†ï¼Œç„¶è€Œ ios æœ‰ä¸ªå‘ç‚¹ï¼ŒåŸç”Ÿæ»šåŠ¨å…·æœ‰æƒ¯æ€§å›å¼¹ï¼Œæ‰€ä»¥ï¼Œå½“ä½ æ‹‡æŒ‡å¿«é€Ÿå·¦æ»‘æ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸ªæ»šåŠ¨å›å¼¹ã€‚è¿™ä¸ªå›å¼¹ä¸ä¼šå°† load éœ²å‡ºæ¥ï¼Œåè€Œéœ²å‡ºçš„æ˜¯ä¸€ä¸ªç™½åº•ã€‚\n\n## èƒ½ç”¨å¾…æ”¹å–„\n\nå¦‚æ ‡é¢˜æ‰€è¯´ï¼Œæœ€ç»ˆç‰ˆåªæ˜¯ä¸€ä¸ªèƒ½ç”¨çš„ç‰ˆæœ¬ã€‚å„ç§åŸå› ï¼Œé€‰æ‹©å°† load æ”¾åœ¨äº†åŸç”Ÿ scroll é‡Œé¢äº†ï¼ˆé‡Œå¤–å·®åˆ«ä¸å¤§ ğŸ˜…ï¼‰ã€‚\n\n![img_3](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-02-2022%2021-05-15.gif)\n\nå¾…ä¼˜åŒ–çš„ç‚¹\n\n- åŸç”Ÿæ»šåŠ¨ä¸èƒ½æœ‰å›å¼¹æ•ˆæœï¼Œå¦‚æœéœ€è¦å¢åŠ å›å¼¹æ•ˆæœï¼Œéœ€è¦æ‰‹åŠ¨æ¨¡æ‹Ÿæ»šåŠ¨ï¼Œç„¶åå†æ·»åŠ å›å¼¹ã€‚(iosç‰¹å®šçš„è¾¹ç•Œå¼¹ç°§æ•ˆæœä¸èƒ½ç¦æ­¢)\n- è¾¹ç•Œ drag ä¸æµç•…ï¼Œæœ‰å¾…æ”¹è¿›ã€‚","slug":"Scroll-å¼€å‘å°è®°","published":1,"updated":"2022-12-31T10:26:33.580Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsi00083kv76qchab2h","content":"<blockquote>\n<p>èƒŒæ™¯ï¼šä¸€æ¬¡å·¦æ»‘åŠ è½½æ›´å¤šçš„çš„äº¤äº’å¼€å‘</p>\n</blockquote>\n<h2 id=\"å¡«å‘å¼€å§‹\"><a href=\"#å¡«å‘å¼€å§‹\" class=\"headerlink\" title=\"å¡«å‘å¼€å§‹\"></a>å¡«å‘å¼€å§‹</h2><p>åœ¨æœ€å¼€å§‹æ—¶ï¼Œæˆ‘å¾—åˆ°äº†ä¸€ä¸ªæç¤ºï¼Œå·¦æ»‘åŠ è½½æ›´å¤šç±»ä¼¼ä¸‹æ‹‰åˆ·æ–°ã€‚æƒ³äº†æƒ³ï¼Œå¥½å®¶ä¼™ï¼Œä¸å°±æ˜¯æŠŠä¸‹æ‹‰åˆ·æ–°æ¨ªè¿‡æ¥å˜›ï¼Œç¢°å·§ä¸‹æ‹‰åˆ·æ–°è¿˜æ˜¯å‰å‡ å¤©æ–°å¢çš„ä¸€ä¸ªç»„ä»¶ï¼Œè¿™å›å¯ä»¥å€Ÿé‰´å€Ÿé‰´äº† ğŸ˜ã€‚OK å¼€å¹²ï¼</p>\n<span id=\"more\"></span>\n\n<h2 id=\"ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\"><a href=\"#ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\" class=\"headerlink\" title=\"ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\"></a>ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡</h2><p>åœ¨æŸ¥çœ‹ç»„ä»¶çš„æºç åï¼Œå‘ç°ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡å…¶å®æ¯”è¾ƒç®€å•ã€‚è¿™é‡Œä½¿ç”¨äº† @use-gesture/react ç”¨åœ¨æ‰‹åŠ¿ä¸Šçš„ç»‘å®šï¼Œreact-spring ç”¨ä½œåŠ¨ç”»çš„å®ç°ã€‚ä¸‹é¢å°±ç®€å•ä»‹ç»ä¸‹å…¶è®¾è®¡æ€è·¯ã€‚</p>\n<p>é¦–å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜</p>\n<ul>\n<li>ä»€ä¹ˆæ—¶å€™è§¦å‘åˆ·æ–° æˆ–è€…ä»€ä¹ˆæ—¶å€™è°ƒç”¨æ‰‹åŠ¿ï¼Ÿ</li>\n<li>scroll å®¹å™¨æ»šåŠ¨æ—¶ä¸æ‰‹åŠ¿å†²çªã€‚</li>\n<li>ä¸‹æ‹‰çš„é˜ˆå€¼ã€å›å¼¹åŠ¨ç”»</li>\n</ul>\n<ol>\n<li><p>ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶åœ¨è®¾è®¡æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯æµè§ˆå™¨åŸç”Ÿæ»šåŠ¨åŠ ä¸Šè‡ªå®šä¹‰ç”¨æˆ·æ‰‹åŠ¿äº‹ä»¶ã€‚è¿™æ ·æˆ‘ä»¬å¾ˆå®¹æ˜“åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è§¦å‘æ‰‹åŠ¿äº‹ä»¶äº†ã€‚å…¶ç­”æ¡ˆæ˜¯ï¼šåˆ¤æ–­ dom èŠ‚ç‚¹çš„ scrollTopï¼Œå½“ scrollTop ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»åˆ°é¡¶äº†ï¼Œç„¶ååœ¨å¾€ä¸‹æ‹‰æ—¶ï¼Œå°±å¼€å§‹è§¦å‘æ‰‹åŠ¿ï¼Œå½“æ‰‹åŠ¿ä¸‹æ‹‰çš„è·ç¦»è¶…è¿‡æŸä¸ªé˜ˆå€¼æ—¶ï¼Œå³å˜ä¸ºäº†å¯åˆ·æ–°çš„çŠ¶æ€ï¼Œæ¾æ‰‹åï¼Œç›´æ¥è§¦å‘ä¸‹æ‹‰å›è°ƒã€‚</p>\n</li>\n<li><p>ä»é—®é¢˜ 1 çš„ç­”æ¡ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆåˆç†åœ°è§„é¿åŸç”Ÿæ»šåŠ¨ä¸æ‰‹åŠ¿ä¸‹æ‹‰çš„å†²çªï¼ŒåŠ scrollTop ä¸ä¸º 0 æ—¶ï¼Œä¸ä¼šè§¦å‘æ‰‹åŠ¿äº‹ä»¶ã€‚</p>\n</li>\n<li><p>é€šè¿‡ use-gesture/react ä¸­çš„ rubberbandIfOutOfBounds å‡½æ•°åˆ›å»ºä¸€ä¸ªå¼¹ç°§æ•ˆæœï¼Œå›å¼¹åŠ¨ç”»å‘¢ï¼Œè¿™ä¸ªç»„ä»¶é‡‡ç”¨çš„æ˜¯è®¾ç½® loading çš„ height æ¥å®ç°ï¼Œè™½ç„¶å¯ä»¥ï¼Œä½†æˆ‘ç†è§£è¿™ç§åŠ¨æ€é«˜åº¦ä¸æ˜¯å¤ªé€‚åˆè¿™ç§æ»šåŠ¨åœºæ™¯ã€‚å› æ­¤åé¢ç»è¿‡å„ç§å®éªŒï¼ˆè¸©å‘ï¼‰åï¼Œä¸¢å¼ƒäº†è¿™ç§æ”¹å˜é«˜åº¦ï¼ˆå®½åº¦ï¼‰çš„æ–¹å¼å±•ç¤º loadingã€‚</p>\n</li>\n</ol>\n<blockquote>\n<p>å¤§æ¦‚çš„ä¸€ä¸ªæ¡†æ¶å›¾</p>\n</blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-01%2018.42.03.png\" alt=\"img_1\"></p>\n<h2 id=\"æ¨ªæ»‘å®è·µ\"><a href=\"#æ¨ªæ»‘å®è·µ\" class=\"headerlink\" title=\"æ¨ªæ»‘å®è·µ\"></a>æ¨ªæ»‘å®è·µ</h2><p>æ¨ªæ»‘å¤šç®€å•å‘¢ï¼ŒæŠŠç«–ç€çš„æ¨ªè¿‡æ¥å°±æ˜¯äº† ğŸ˜Šã€‚å“ˆå“ˆï¼Œç¡®å®æ˜¯è¿™æ ·çš„ã€‚</p>\n<h3 id=\"Version-1\"><a href=\"#Version-1\" class=\"headerlink\" title=\"Version 1\"></a>Version 1</h3><p>åŸºæœ¬å¥—è·¯ï¼š</p>\n<ul>\n<li>overflowï¼šhidden</li>\n<li>transformï¼štranslate3d<br>åŸºäºä»¥ä¸Šå¥—è·¯ï¼Œç¬¬ä¸€ç‰ˆæ²¡æœ‰é‡‡ç”¨æµè§ˆå™¨çš„åŸç”Ÿæ»šåŠ¨ï¼Œç„¶åå…¨ç¨‹è§¦å‘æ‰‹åŠ¿äº‹ä»¶ï¼Œé€šè¿‡æ‰‹åŠ¿äº‹ä»¶æ§åˆ¶ react-spring çš„åŠ¨ç”»å‚æ•°ï¼Œå®ç°æ¨¡æ‹Ÿæ»šåŠ¨ã€‚æ˜¾ç„¶ï¼Œæ¨¡æ‹Ÿæ»šåŠ¨çš„æ•ˆæœä¸æ˜¯å¤ªå¥½ï¼Œå…¶åŸå› åœ¨äºæ»šåŠ¨é€Ÿç‡å˜åŒ–ã€æ»šåŠ¨æƒ¯æ€§ç­‰æ¯”è¾ƒéš¾æ§åˆ¶ï¼ˆå®é™…åŸå› ï¼šğŸ¥¬ ğŸ¶ï¼‰ã€‚<br>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹åˆç‰ˆæ•ˆæœ:</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-01-2022%2019-11-16.gif\" alt=\"img_2\"></p>\n<p>ç›®æµ‹æ•ˆæœè¿˜è¡Œï¼Œä½†æ˜¯åœ¨çœŸæœºè°ƒè¯•ä¸Šå°±æ¯”è¾ƒæ‹‰èƒ¯äº†ï¼Œåœ¨çœŸæœºä¸Šï¼Œå®é™…ç§»åŠ¨çš„è·ç¦»æ˜¯æ‰‹æŒ‡ä¸€åŠ¨çš„è·ç¦»ï¼Œæ‰€ä»¥æ˜¯éå¸¸çš„æ…¢å¹¶ä¸”æ¯ä¸€æ¬¡æ»šåŠ¨çš„è·ç¦»ã€é€Ÿåº¦è¿™äº›æ¯”è¾ƒå—é™ã€‚</p>\n<h3 id=\"Version-2\"><a href=\"#Version-2\" class=\"headerlink\" title=\"Version 2\"></a>Version 2</h3><p>å‚è€ƒ picker ç»„ä»¶ï¼Œåšä¸€ä¸ªæ»šåŠ¨æƒ¯æ€§ã€‚è¿™ç§æ»šåŠ¨å¯¹åº”çš„æ˜¯æ¯ä¸€æ¬¡ç§»åŠ¨ï¼Œç»ˆç‚¹ä½ç½®éƒ½æ˜¯ä¸€ä¸ªæ•´æ•°ä½ç½®ï¼ˆæœ€ç»ˆç§»åŠ¨åæ ‡æ˜¯ï¼š index * itemWidth æˆ–è€… itemHeightï¼‰ã€‚</p>\n<h3 id=\"Version-3\"><a href=\"#Version-3\" class=\"headerlink\" title=\"Version 3\"></a>Version 3</h3><p>æ€è·¯ï¼šåŸç”Ÿæ»šåŠ¨ç»“åˆæ‰‹åŠ¿ï¼Œè¿™æ¬¾è®¾è®¡æ¯”è¾ƒåˆç†ï¼ŒåŸç”Ÿæ»šåŠ¨æ”¹å–„äº†é€Ÿåº¦é—®é¢˜ï¼Œæ¨ªå‘é•¿åˆ—è¡¨åœ¨æ»šåŠ¨æ—¶ï¼Œåªæœ‰åˆ°æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶æ‰è§¦å‘æ•´ä½“å®¹å™¨çš„ç§»åŠ¨ï¼Œç„¶åéœ²å‡º loadã€‚<br>æ³¨æ„ï¼šåŸç”Ÿæ»šåŠ¨é‡‡ç”¨ overflowï¼šautoã€‚åœ¨æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶ï¼Œè§¦å‘æ‰‹åŠ¿ï¼Œéœ€è¦è®¾ç½® overflowï¼šhiddenï¼Œä¸ç„¶å°±ä¼šå‘ç”Ÿæ»šåŠ¨é‡å ï¼ˆåŸç”Ÿçš„åœ¨æ»šåŠ¨ã€æ‰‹åŠ¿ä¹Ÿåœ¨ç§»åŠ¨ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-02%2020.17.02.png\" alt=\"img_3\"></p>\n<p>çœ‹ä¼¼å¯ç”¨äº†ï¼Œç„¶è€Œ ios æœ‰ä¸ªå‘ç‚¹ï¼ŒåŸç”Ÿæ»šåŠ¨å…·æœ‰æƒ¯æ€§å›å¼¹ï¼Œæ‰€ä»¥ï¼Œå½“ä½ æ‹‡æŒ‡å¿«é€Ÿå·¦æ»‘æ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸ªæ»šåŠ¨å›å¼¹ã€‚è¿™ä¸ªå›å¼¹ä¸ä¼šå°† load éœ²å‡ºæ¥ï¼Œåè€Œéœ²å‡ºçš„æ˜¯ä¸€ä¸ªç™½åº•ã€‚</p>\n<h2 id=\"èƒ½ç”¨å¾…æ”¹å–„\"><a href=\"#èƒ½ç”¨å¾…æ”¹å–„\" class=\"headerlink\" title=\"èƒ½ç”¨å¾…æ”¹å–„\"></a>èƒ½ç”¨å¾…æ”¹å–„</h2><p>å¦‚æ ‡é¢˜æ‰€è¯´ï¼Œæœ€ç»ˆç‰ˆåªæ˜¯ä¸€ä¸ªèƒ½ç”¨çš„ç‰ˆæœ¬ã€‚å„ç§åŸå› ï¼Œé€‰æ‹©å°† load æ”¾åœ¨äº†åŸç”Ÿ scroll é‡Œé¢äº†ï¼ˆé‡Œå¤–å·®åˆ«ä¸å¤§ ğŸ˜…ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-02-2022%2021-05-15.gif\" alt=\"img_3\"></p>\n<p>å¾…ä¼˜åŒ–çš„ç‚¹</p>\n<ul>\n<li>åŸç”Ÿæ»šåŠ¨ä¸èƒ½æœ‰å›å¼¹æ•ˆæœï¼Œå¦‚æœéœ€è¦å¢åŠ å›å¼¹æ•ˆæœï¼Œéœ€è¦æ‰‹åŠ¨æ¨¡æ‹Ÿæ»šåŠ¨ï¼Œç„¶åå†æ·»åŠ å›å¼¹ã€‚(iosç‰¹å®šçš„è¾¹ç•Œå¼¹ç°§æ•ˆæœä¸èƒ½ç¦æ­¢)</li>\n<li>è¾¹ç•Œ drag ä¸æµç•…ï¼Œæœ‰å¾…æ”¹è¿›ã€‚</li>\n</ul>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":1390,"excerpt":"<blockquote>\n<p>èƒŒæ™¯ï¼šä¸€æ¬¡å·¦æ»‘åŠ è½½æ›´å¤šçš„çš„äº¤äº’å¼€å‘</p>\n</blockquote>\n<h2 id=\"å¡«å‘å¼€å§‹\"><a href=\"#å¡«å‘å¼€å§‹\" class=\"headerlink\" title=\"å¡«å‘å¼€å§‹\"></a>å¡«å‘å¼€å§‹</h2><p>åœ¨æœ€å¼€å§‹æ—¶ï¼Œæˆ‘å¾—åˆ°äº†ä¸€ä¸ªæç¤ºï¼Œå·¦æ»‘åŠ è½½æ›´å¤šç±»ä¼¼ä¸‹æ‹‰åˆ·æ–°ã€‚æƒ³äº†æƒ³ï¼Œå¥½å®¶ä¼™ï¼Œä¸å°±æ˜¯æŠŠä¸‹æ‹‰åˆ·æ–°æ¨ªè¿‡æ¥å˜›ï¼Œç¢°å·§ä¸‹æ‹‰åˆ·æ–°è¿˜æ˜¯å‰å‡ å¤©æ–°å¢çš„ä¸€ä¸ªç»„ä»¶ï¼Œè¿™å›å¯ä»¥å€Ÿé‰´å€Ÿé‰´äº† ğŸ˜ã€‚OK å¼€å¹²ï¼</p>","more":"<h2 id=\"ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\"><a href=\"#ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\" class=\"headerlink\" title=\"ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡\"></a>ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡</h2><p>åœ¨æŸ¥çœ‹ç»„ä»¶çš„æºç åï¼Œå‘ç°ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶çš„è®¾è®¡å…¶å®æ¯”è¾ƒç®€å•ã€‚è¿™é‡Œä½¿ç”¨äº† @use-gesture/react ç”¨åœ¨æ‰‹åŠ¿ä¸Šçš„ç»‘å®šï¼Œreact-spring ç”¨ä½œåŠ¨ç”»çš„å®ç°ã€‚ä¸‹é¢å°±ç®€å•ä»‹ç»ä¸‹å…¶è®¾è®¡æ€è·¯ã€‚</p>\n<p>é¦–å…ˆæŠ›å‡ºå‡ ä¸ªé—®é¢˜</p>\n<ul>\n<li>ä»€ä¹ˆæ—¶å€™è§¦å‘åˆ·æ–° æˆ–è€…ä»€ä¹ˆæ—¶å€™è°ƒç”¨æ‰‹åŠ¿ï¼Ÿ</li>\n<li>scroll å®¹å™¨æ»šåŠ¨æ—¶ä¸æ‰‹åŠ¿å†²çªã€‚</li>\n<li>ä¸‹æ‹‰çš„é˜ˆå€¼ã€å›å¼¹åŠ¨ç”»</li>\n</ul>\n<ol>\n<li><p>ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶åœ¨è®¾è®¡æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯æµè§ˆå™¨åŸç”Ÿæ»šåŠ¨åŠ ä¸Šè‡ªå®šä¹‰ç”¨æˆ·æ‰‹åŠ¿äº‹ä»¶ã€‚è¿™æ ·æˆ‘ä»¬å¾ˆå®¹æ˜“åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è§¦å‘æ‰‹åŠ¿äº‹ä»¶äº†ã€‚å…¶ç­”æ¡ˆæ˜¯ï¼šåˆ¤æ–­ dom èŠ‚ç‚¹çš„ scrollTopï¼Œå½“ scrollTop ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»åˆ°é¡¶äº†ï¼Œç„¶ååœ¨å¾€ä¸‹æ‹‰æ—¶ï¼Œå°±å¼€å§‹è§¦å‘æ‰‹åŠ¿ï¼Œå½“æ‰‹åŠ¿ä¸‹æ‹‰çš„è·ç¦»è¶…è¿‡æŸä¸ªé˜ˆå€¼æ—¶ï¼Œå³å˜ä¸ºäº†å¯åˆ·æ–°çš„çŠ¶æ€ï¼Œæ¾æ‰‹åï¼Œç›´æ¥è§¦å‘ä¸‹æ‹‰å›è°ƒã€‚</p>\n</li>\n<li><p>ä»é—®é¢˜ 1 çš„ç­”æ¡ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆåˆç†åœ°è§„é¿åŸç”Ÿæ»šåŠ¨ä¸æ‰‹åŠ¿ä¸‹æ‹‰çš„å†²çªï¼ŒåŠ scrollTop ä¸ä¸º 0 æ—¶ï¼Œä¸ä¼šè§¦å‘æ‰‹åŠ¿äº‹ä»¶ã€‚</p>\n</li>\n<li><p>é€šè¿‡ use-gesture/react ä¸­çš„ rubberbandIfOutOfBounds å‡½æ•°åˆ›å»ºä¸€ä¸ªå¼¹ç°§æ•ˆæœï¼Œå›å¼¹åŠ¨ç”»å‘¢ï¼Œè¿™ä¸ªç»„ä»¶é‡‡ç”¨çš„æ˜¯è®¾ç½® loading çš„ height æ¥å®ç°ï¼Œè™½ç„¶å¯ä»¥ï¼Œä½†æˆ‘ç†è§£è¿™ç§åŠ¨æ€é«˜åº¦ä¸æ˜¯å¤ªé€‚åˆè¿™ç§æ»šåŠ¨åœºæ™¯ã€‚å› æ­¤åé¢ç»è¿‡å„ç§å®éªŒï¼ˆè¸©å‘ï¼‰åï¼Œä¸¢å¼ƒäº†è¿™ç§æ”¹å˜é«˜åº¦ï¼ˆå®½åº¦ï¼‰çš„æ–¹å¼å±•ç¤º loadingã€‚</p>\n</li>\n</ol>\n<blockquote>\n<p>å¤§æ¦‚çš„ä¸€ä¸ªæ¡†æ¶å›¾</p>\n</blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-01%2018.42.03.png\" alt=\"img_1\"></p>\n<h2 id=\"æ¨ªæ»‘å®è·µ\"><a href=\"#æ¨ªæ»‘å®è·µ\" class=\"headerlink\" title=\"æ¨ªæ»‘å®è·µ\"></a>æ¨ªæ»‘å®è·µ</h2><p>æ¨ªæ»‘å¤šç®€å•å‘¢ï¼ŒæŠŠç«–ç€çš„æ¨ªè¿‡æ¥å°±æ˜¯äº† ğŸ˜Šã€‚å“ˆå“ˆï¼Œç¡®å®æ˜¯è¿™æ ·çš„ã€‚</p>\n<h3 id=\"Version-1\"><a href=\"#Version-1\" class=\"headerlink\" title=\"Version 1\"></a>Version 1</h3><p>åŸºæœ¬å¥—è·¯ï¼š</p>\n<ul>\n<li>overflowï¼šhidden</li>\n<li>transformï¼štranslate3d<br>åŸºäºä»¥ä¸Šå¥—è·¯ï¼Œç¬¬ä¸€ç‰ˆæ²¡æœ‰é‡‡ç”¨æµè§ˆå™¨çš„åŸç”Ÿæ»šåŠ¨ï¼Œç„¶åå…¨ç¨‹è§¦å‘æ‰‹åŠ¿äº‹ä»¶ï¼Œé€šè¿‡æ‰‹åŠ¿äº‹ä»¶æ§åˆ¶ react-spring çš„åŠ¨ç”»å‚æ•°ï¼Œå®ç°æ¨¡æ‹Ÿæ»šåŠ¨ã€‚æ˜¾ç„¶ï¼Œæ¨¡æ‹Ÿæ»šåŠ¨çš„æ•ˆæœä¸æ˜¯å¤ªå¥½ï¼Œå…¶åŸå› åœ¨äºæ»šåŠ¨é€Ÿç‡å˜åŒ–ã€æ»šåŠ¨æƒ¯æ€§ç­‰æ¯”è¾ƒéš¾æ§åˆ¶ï¼ˆå®é™…åŸå› ï¼šğŸ¥¬ ğŸ¶ï¼‰ã€‚<br>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹åˆç‰ˆæ•ˆæœ:</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-01-2022%2019-11-16.gif\" alt=\"img_2\"></p>\n<p>ç›®æµ‹æ•ˆæœè¿˜è¡Œï¼Œä½†æ˜¯åœ¨çœŸæœºè°ƒè¯•ä¸Šå°±æ¯”è¾ƒæ‹‰èƒ¯äº†ï¼Œåœ¨çœŸæœºä¸Šï¼Œå®é™…ç§»åŠ¨çš„è·ç¦»æ˜¯æ‰‹æŒ‡ä¸€åŠ¨çš„è·ç¦»ï¼Œæ‰€ä»¥æ˜¯éå¸¸çš„æ…¢å¹¶ä¸”æ¯ä¸€æ¬¡æ»šåŠ¨çš„è·ç¦»ã€é€Ÿåº¦è¿™äº›æ¯”è¾ƒå—é™ã€‚</p>\n<h3 id=\"Version-2\"><a href=\"#Version-2\" class=\"headerlink\" title=\"Version 2\"></a>Version 2</h3><p>å‚è€ƒ picker ç»„ä»¶ï¼Œåšä¸€ä¸ªæ»šåŠ¨æƒ¯æ€§ã€‚è¿™ç§æ»šåŠ¨å¯¹åº”çš„æ˜¯æ¯ä¸€æ¬¡ç§»åŠ¨ï¼Œç»ˆç‚¹ä½ç½®éƒ½æ˜¯ä¸€ä¸ªæ•´æ•°ä½ç½®ï¼ˆæœ€ç»ˆç§»åŠ¨åæ ‡æ˜¯ï¼š index * itemWidth æˆ–è€… itemHeightï¼‰ã€‚</p>\n<h3 id=\"Version-3\"><a href=\"#Version-3\" class=\"headerlink\" title=\"Version 3\"></a>Version 3</h3><p>æ€è·¯ï¼šåŸç”Ÿæ»šåŠ¨ç»“åˆæ‰‹åŠ¿ï¼Œè¿™æ¬¾è®¾è®¡æ¯”è¾ƒåˆç†ï¼ŒåŸç”Ÿæ»šåŠ¨æ”¹å–„äº†é€Ÿåº¦é—®é¢˜ï¼Œæ¨ªå‘é•¿åˆ—è¡¨åœ¨æ»šåŠ¨æ—¶ï¼Œåªæœ‰åˆ°æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶æ‰è§¦å‘æ•´ä½“å®¹å™¨çš„ç§»åŠ¨ï¼Œç„¶åéœ²å‡º loadã€‚<br>æ³¨æ„ï¼šåŸç”Ÿæ»šåŠ¨é‡‡ç”¨ overflowï¼šautoã€‚åœ¨æ»šåŠ¨åˆ°æœ€å³è¾¹æ—¶ï¼Œè§¦å‘æ‰‹åŠ¿ï¼Œéœ€è¦è®¾ç½® overflowï¼šhiddenï¼Œä¸ç„¶å°±ä¼šå‘ç”Ÿæ»šåŠ¨é‡å ï¼ˆåŸç”Ÿçš„åœ¨æ»šåŠ¨ã€æ‰‹åŠ¿ä¹Ÿåœ¨ç§»åŠ¨ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-09-02%2020.17.02.png\" alt=\"img_3\"></p>\n<p>çœ‹ä¼¼å¯ç”¨äº†ï¼Œç„¶è€Œ ios æœ‰ä¸ªå‘ç‚¹ï¼ŒåŸç”Ÿæ»šåŠ¨å…·æœ‰æƒ¯æ€§å›å¼¹ï¼Œæ‰€ä»¥ï¼Œå½“ä½ æ‹‡æŒ‡å¿«é€Ÿå·¦æ»‘æ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸ªæ»šåŠ¨å›å¼¹ã€‚è¿™ä¸ªå›å¼¹ä¸ä¼šå°† load éœ²å‡ºæ¥ï¼Œåè€Œéœ²å‡ºçš„æ˜¯ä¸€ä¸ªç™½åº•ã€‚</p>\n<h2 id=\"èƒ½ç”¨å¾…æ”¹å–„\"><a href=\"#èƒ½ç”¨å¾…æ”¹å–„\" class=\"headerlink\" title=\"èƒ½ç”¨å¾…æ”¹å–„\"></a>èƒ½ç”¨å¾…æ”¹å–„</h2><p>å¦‚æ ‡é¢˜æ‰€è¯´ï¼Œæœ€ç»ˆç‰ˆåªæ˜¯ä¸€ä¸ªèƒ½ç”¨çš„ç‰ˆæœ¬ã€‚å„ç§åŸå› ï¼Œé€‰æ‹©å°† load æ”¾åœ¨äº†åŸç”Ÿ scroll é‡Œé¢äº†ï¼ˆé‡Œå¤–å·®åˆ«ä¸å¤§ ğŸ˜…ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/Sep-02-2022%2021-05-15.gif\" alt=\"img_3\"></p>\n<p>å¾…ä¼˜åŒ–çš„ç‚¹</p>\n<ul>\n<li>åŸç”Ÿæ»šåŠ¨ä¸èƒ½æœ‰å›å¼¹æ•ˆæœï¼Œå¦‚æœéœ€è¦å¢åŠ å›å¼¹æ•ˆæœï¼Œéœ€è¦æ‰‹åŠ¨æ¨¡æ‹Ÿæ»šåŠ¨ï¼Œç„¶åå†æ·»åŠ å›å¼¹ã€‚(iosç‰¹å®šçš„è¾¹ç•Œå¼¹ç°§æ•ˆæœä¸èƒ½ç¦æ­¢)</li>\n<li>è¾¹ç•Œ drag ä¸æµç•…ï¼Œæœ‰å¾…æ”¹è¿›ã€‚</li>\n</ul>"},{"title":"Hello World","date":"2021-07-20T16:00:00.000Z","_content":"\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n<!-- more -->\n\n## Quick Start\n\n### Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2021-07-21\n---\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n<!-- more -->\n\n## Quick Start\n\n### Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"updated":"2022-12-31T10:26:33.583Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsm000a3kv7h8037rye","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":367,"excerpt":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>","more":"<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>"},{"title":"ä½¿ç”¨github actionsè¿›è¡Œè½»æœåŠ¡çš„é¡µé¢éƒ¨ç½²","date":"2021-10-22T02:22:14.000Z","_content":"\n# ä½¿ç”¨ github actions è¿›è¡Œ[è½»æœåŠ¡](https://qingfuwu.cn/)çš„é¡µé¢æ‰˜ç®¡\n\n### é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹[é¡µé¢æ‰˜ç®¡](https://qingfuwu.cn/docs/openapi/sdk/hosting.html#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E6%89%98%E7%AE%A1%E4%BF%A1%E6%81%AF)ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ github actions çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹ github actions,å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\n\n[çœ‹çœ‹æ•ˆæœ](https://qcjtoy.web.cloudendpoint.cn/)\n\n### 1.github åˆ›å»ºä»“åº“ï¼Œé…ç½®.github/workflow/\\*.yml,åŒæ—¶è®¾ç½® secrets å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID.\n\n- #### é…ç½® workflow çš„ yml æ–‡ä»¶ã€‚\n  ç›´æ¥å¤åˆ¶é‡Œé¢çš„ Usage,[Deploy to ByteInspire Hosting](https://github.com/marketplace/actions/deploy-to-byteinspire-hosting)\n\n```yaml\nname: Deploy Hosting\n\non: push\n\njobs:\n  build_and_deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      # Add any build steps here. For example:\n      # - run: npm ci && npm run build\n      - uses: byteinspire/hosting-deployer-action@v1\n        with:\n          service-id: \"${{ secrets.SERVICE_ID }}\"\n          token: \"${{ secrets.ACCESS_TOKEN }}\"\n          # Or you can use file param to directly specify the ziped file path\n          directory: ./\n```\n\n<!-- more -->\n\n- #### é…ç½® secrets çš„å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID\n\n1. ACCESS_TOKEN\n   å®˜æ–¹å·²ç»å†™å¾—å¾ˆè¯¦ç»†äº†[åˆ›å»ºå’Œç®¡ç†è®¿é—®å‡­è¯](https://qingfuwu.cn/docs/openapi/personaltoken.html#%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E8%AE%BF%E9%97%AE%E5%87%AD%E8%AF%81)\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221004.png)\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221006.png)\n2. SERVICE_ID\n   ç™»å½•è½»æœåŠ¡å[https://qingfuwu.cn/dashboard](https://qingfuwu.cn/dashboard)ï¼Œåœ¨é¦–é¡µå°±èƒ½çœ‹è§ä½ åˆ›å»ºçš„æ‰€æœ‰æœåŠ¡ã€‚\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220950.png)\n   è¿™é‡Œå°±é€‰æ‹© hello world è¿™ä¸ªæœåŠ¡ï¼Œç‚¹å‡»è¿›å»ï¼Œå†è¿›å…¥åˆ°è®¾ç½®é‡Œé¢å°±å¯ä»¥çœ‹è§ SERVICE_ID.å½“ç„¶è¿™é‡Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»é¡µé¢æ‰˜ç®¡ï¼Œä¸Šä¼ å‹ç¼©æ–‡ä»¶æ‰‹åŠ¨éƒ¨ç½²ã€‚![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220952.png)\n3. æ·»åŠ å˜é‡åˆ° secrets é‡Œé¢ï¼Œè¿™é‡Œæˆ‘å·²ç»æ·»åŠ ä¸Šäº†ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯è®¾ç½® respository secretï¼Œå› ä¸ºæœ€å¼€å§‹è®¾ç½®æˆ environment secret è€Œå¤±è´¥å‡ æ¬¡ ğŸ˜­\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220955.png)\n\n### 2. ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\n\n#####çœ‹çœ‹ actions å§ï¼Œå¿½ç•¥å‰å‡ æ¬¡ environment secret çš„é”… ğŸ˜‚\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221013.png)\nè¿›å…¥é¡µé¢æ‰˜ç®¡ï¼Œç‚¹å‡»ç½‘ç«™åŸŸåï¼Œå°±å¯ä»¥çœ‹è§éƒ¨ç½²åçš„é¡µé¢äº†ã€‚\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221016.png)\næœ€ç»ˆæ•ˆæœï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221025.png)\n","source":"_posts/actionsè¿›è¡Œè½»æœåŠ¡çš„é¡µé¢éƒ¨ç½².md","raw":"---\ntitle: ä½¿ç”¨github actionsè¿›è¡Œè½»æœåŠ¡çš„é¡µé¢éƒ¨ç½²\ndate: 2021-10-22 10:22:14\ntags: deploy qingfuwu\n---\n\n# ä½¿ç”¨ github actions è¿›è¡Œ[è½»æœåŠ¡](https://qingfuwu.cn/)çš„é¡µé¢æ‰˜ç®¡\n\n### é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹[é¡µé¢æ‰˜ç®¡](https://qingfuwu.cn/docs/openapi/sdk/hosting.html#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E6%89%98%E7%AE%A1%E4%BF%A1%E6%81%AF)ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ github actions çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹ github actions,å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\n\n[çœ‹çœ‹æ•ˆæœ](https://qcjtoy.web.cloudendpoint.cn/)\n\n### 1.github åˆ›å»ºä»“åº“ï¼Œé…ç½®.github/workflow/\\*.yml,åŒæ—¶è®¾ç½® secrets å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID.\n\n- #### é…ç½® workflow çš„ yml æ–‡ä»¶ã€‚\n  ç›´æ¥å¤åˆ¶é‡Œé¢çš„ Usage,[Deploy to ByteInspire Hosting](https://github.com/marketplace/actions/deploy-to-byteinspire-hosting)\n\n```yaml\nname: Deploy Hosting\n\non: push\n\njobs:\n  build_and_deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      # Add any build steps here. For example:\n      # - run: npm ci && npm run build\n      - uses: byteinspire/hosting-deployer-action@v1\n        with:\n          service-id: \"${{ secrets.SERVICE_ID }}\"\n          token: \"${{ secrets.ACCESS_TOKEN }}\"\n          # Or you can use file param to directly specify the ziped file path\n          directory: ./\n```\n\n<!-- more -->\n\n- #### é…ç½® secrets çš„å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID\n\n1. ACCESS_TOKEN\n   å®˜æ–¹å·²ç»å†™å¾—å¾ˆè¯¦ç»†äº†[åˆ›å»ºå’Œç®¡ç†è®¿é—®å‡­è¯](https://qingfuwu.cn/docs/openapi/personaltoken.html#%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E8%AE%BF%E9%97%AE%E5%87%AD%E8%AF%81)\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221004.png)\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221006.png)\n2. SERVICE_ID\n   ç™»å½•è½»æœåŠ¡å[https://qingfuwu.cn/dashboard](https://qingfuwu.cn/dashboard)ï¼Œåœ¨é¦–é¡µå°±èƒ½çœ‹è§ä½ åˆ›å»ºçš„æ‰€æœ‰æœåŠ¡ã€‚\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220950.png)\n   è¿™é‡Œå°±é€‰æ‹© hello world è¿™ä¸ªæœåŠ¡ï¼Œç‚¹å‡»è¿›å»ï¼Œå†è¿›å…¥åˆ°è®¾ç½®é‡Œé¢å°±å¯ä»¥çœ‹è§ SERVICE_ID.å½“ç„¶è¿™é‡Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»é¡µé¢æ‰˜ç®¡ï¼Œä¸Šä¼ å‹ç¼©æ–‡ä»¶æ‰‹åŠ¨éƒ¨ç½²ã€‚![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220952.png)\n3. æ·»åŠ å˜é‡åˆ° secrets é‡Œé¢ï¼Œè¿™é‡Œæˆ‘å·²ç»æ·»åŠ ä¸Šäº†ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯è®¾ç½® respository secretï¼Œå› ä¸ºæœ€å¼€å§‹è®¾ç½®æˆ environment secret è€Œå¤±è´¥å‡ æ¬¡ ğŸ˜­\n   ![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220955.png)\n\n### 2. ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\n\n#####çœ‹çœ‹ actions å§ï¼Œå¿½ç•¥å‰å‡ æ¬¡ environment secret çš„é”… ğŸ˜‚\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221013.png)\nè¿›å…¥é¡µé¢æ‰˜ç®¡ï¼Œç‚¹å‡»ç½‘ç«™åŸŸåï¼Œå°±å¯ä»¥çœ‹è§éƒ¨ç½²åçš„é¡µé¢äº†ã€‚\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221016.png)\næœ€ç»ˆæ•ˆæœï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221025.png)\n","slug":"actionsè¿›è¡Œè½»æœåŠ¡çš„é¡µé¢éƒ¨ç½²","published":1,"updated":"2022-12-31T10:26:33.581Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsq000c3kv77m8b9sxz","content":"<h1 id=\"ä½¿ç”¨-github-actions-è¿›è¡Œè½»æœåŠ¡çš„é¡µé¢æ‰˜ç®¡\"><a href=\"#ä½¿ç”¨-github-actions-è¿›è¡Œè½»æœåŠ¡çš„é¡µé¢æ‰˜ç®¡\" class=\"headerlink\" title=\"ä½¿ç”¨ github actions è¿›è¡Œè½»æœåŠ¡çš„é¡µé¢æ‰˜ç®¡\"></a>ä½¿ç”¨ github actions è¿›è¡Œ<a href=\"https://qingfuwu.cn/\">è½»æœåŠ¡</a>çš„é¡µé¢æ‰˜ç®¡</h1><h3 id=\"é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹é¡µé¢æ‰˜ç®¡ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨-github-actions-çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹-github-actions-å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\"><a href=\"#é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹é¡µé¢æ‰˜ç®¡ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨-github-actions-çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹-github-actions-å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\" class=\"headerlink\" title=\"é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹é¡µé¢æ‰˜ç®¡ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ github actions çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹ github actions,å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\"></a>é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹<a href=\"https://qingfuwu.cn/docs/openapi/sdk/hosting.html#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E6%89%98%E7%AE%A1%E4%BF%A1%E6%81%AF\">é¡µé¢æ‰˜ç®¡</a>ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ github actions çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹ github actions,å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</h3><p><a href=\"https://qcjtoy.web.cloudendpoint.cn/\">çœ‹çœ‹æ•ˆæœ</a></p>\n<h3 id=\"1-github-åˆ›å»ºä»“åº“ï¼Œé…ç½®-github-workflow-yml-åŒæ—¶è®¾ç½®-secrets-å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\"><a href=\"#1-github-åˆ›å»ºä»“åº“ï¼Œé…ç½®-github-workflow-yml-åŒæ—¶è®¾ç½®-secrets-å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\" class=\"headerlink\" title=\"1.github åˆ›å»ºä»“åº“ï¼Œé…ç½®.github/workflow/*.yml,åŒæ—¶è®¾ç½® secrets å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID.\"></a>1.github åˆ›å»ºä»“åº“ï¼Œé…ç½®.github/workflow/*.yml,åŒæ—¶è®¾ç½® secrets å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID.</h3><ul>\n<li><h4 id=\"é…ç½®-workflow-çš„-yml-æ–‡ä»¶ã€‚\"><a href=\"#é…ç½®-workflow-çš„-yml-æ–‡ä»¶ã€‚\" class=\"headerlink\" title=\"é…ç½® workflow çš„ yml æ–‡ä»¶ã€‚\"></a>é…ç½® workflow çš„ yml æ–‡ä»¶ã€‚</h4>ç›´æ¥å¤åˆ¶é‡Œé¢çš„ Usage,<a href=\"https://github.com/marketplace/actions/deploy-to-byteinspire-hosting\">Deploy to ByteInspire Hosting</a></li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Deploy</span> <span class=\"string\">Hosting</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span> <span class=\"string\">push</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">build_and_deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"comment\"># Add any build steps here. For example:</span></span><br><span class=\"line\">      <span class=\"comment\"># - run: npm ci &amp;&amp; npm run build</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">byteinspire/hosting-deployer-action@v1</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">service-id:</span> <span class=\"string\">&quot;$<span class=\"template-variable\">&#123;&#123; secrets.SERVICE_ID &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">          <span class=\"attr\">token:</span> <span class=\"string\">&quot;$<span class=\"template-variable\">&#123;&#123; secrets.ACCESS_TOKEN &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">          <span class=\"comment\"># Or you can use file param to directly specify the ziped file path</span></span><br><span class=\"line\">          <span class=\"attr\">directory:</span> <span class=\"string\">./</span></span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<ul>\n<li><h4 id=\"é…ç½®-secrets-çš„å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\"><a href=\"#é…ç½®-secrets-çš„å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\" class=\"headerlink\" title=\"é…ç½® secrets çš„å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID\"></a>é…ç½® secrets çš„å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID</h4></li>\n</ul>\n<ol>\n<li>ACCESS_TOKEN<br>å®˜æ–¹å·²ç»å†™å¾—å¾ˆè¯¦ç»†äº†<a href=\"https://qingfuwu.cn/docs/openapi/personaltoken.html#%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E8%AE%BF%E9%97%AE%E5%87%AD%E8%AF%81\">åˆ›å»ºå’Œç®¡ç†è®¿é—®å‡­è¯</a><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221004.png\"><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221006.png\"></li>\n<li>SERVICE_ID<br>ç™»å½•è½»æœåŠ¡å<a href=\"https://qingfuwu.cn/dashboard\">https://qingfuwu.cn/dashboard</a>ï¼Œåœ¨é¦–é¡µå°±èƒ½çœ‹è§ä½ åˆ›å»ºçš„æ‰€æœ‰æœåŠ¡ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220950.png\"><br>è¿™é‡Œå°±é€‰æ‹© hello world è¿™ä¸ªæœåŠ¡ï¼Œç‚¹å‡»è¿›å»ï¼Œå†è¿›å…¥åˆ°è®¾ç½®é‡Œé¢å°±å¯ä»¥çœ‹è§ SERVICE_ID.å½“ç„¶è¿™é‡Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»é¡µé¢æ‰˜ç®¡ï¼Œä¸Šä¼ å‹ç¼©æ–‡ä»¶æ‰‹åŠ¨éƒ¨ç½²ã€‚<img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220952.png\"></li>\n<li>æ·»åŠ å˜é‡åˆ° secrets é‡Œé¢ï¼Œè¿™é‡Œæˆ‘å·²ç»æ·»åŠ ä¸Šäº†ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯è®¾ç½® respository secretï¼Œå› ä¸ºæœ€å¼€å§‹è®¾ç½®æˆ environment secret è€Œå¤±è´¥å‡ æ¬¡ ğŸ˜­<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220955.png\"></li>\n</ol>\n<h3 id=\"2-ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\"><a href=\"#2-ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\" class=\"headerlink\" title=\"2. ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\"></a>2. ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚</h3><p>#####çœ‹çœ‹ actions å§ï¼Œå¿½ç•¥å‰å‡ æ¬¡ environment secret çš„é”… ğŸ˜‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221013.png\"><br>è¿›å…¥é¡µé¢æ‰˜ç®¡ï¼Œç‚¹å‡»ç½‘ç«™åŸŸåï¼Œå°±å¯ä»¥çœ‹è§éƒ¨ç½²åçš„é¡µé¢äº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221016.png\"><br>æœ€ç»ˆæ•ˆæœï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221025.png\"></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":1064,"excerpt":"<h1 id=\"ä½¿ç”¨-github-actions-è¿›è¡Œè½»æœåŠ¡çš„é¡µé¢æ‰˜ç®¡\"><a href=\"#ä½¿ç”¨-github-actions-è¿›è¡Œè½»æœåŠ¡çš„é¡µé¢æ‰˜ç®¡\" class=\"headerlink\" title=\"ä½¿ç”¨ github actions è¿›è¡Œè½»æœåŠ¡çš„é¡µé¢æ‰˜ç®¡\"></a>ä½¿ç”¨ github actions è¿›è¡Œ<a href=\"https://qingfuwu.cn/\">è½»æœåŠ¡</a>çš„é¡µé¢æ‰˜ç®¡</h1><h3 id=\"é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹é¡µé¢æ‰˜ç®¡ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨-github-actions-çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹-github-actions-å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\"><a href=\"#é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹é¡µé¢æ‰˜ç®¡ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨-github-actions-çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹-github-actions-å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\" class=\"headerlink\" title=\"é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹é¡µé¢æ‰˜ç®¡ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ github actions çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹ github actions,å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚\"></a>é¦–å…ˆï¼Œè½»æœåŠ¡å®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†æ‰‹åŠ¨éƒ¨ç½²é¡µé¢çš„æ•™ç¨‹<a href=\"https://qingfuwu.cn/docs/openapi/sdk/hosting.html#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E6%89%98%E7%AE%A1%E4%BF%A1%E6%81%AF\">é¡µé¢æ‰˜ç®¡</a>ã€‚è€Œæˆ‘è¿™é‡Œå°±ç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ github actions çš„è‡ªåŠ¨éƒ¨ç½²ã€‚åªè¦ä¼šä¸€ç‚¹ github actions,å®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</h3><p><a href=\"https://qcjtoy.web.cloudendpoint.cn/\">çœ‹çœ‹æ•ˆæœ</a></p>\n<h3 id=\"1-github-åˆ›å»ºä»“åº“ï¼Œé…ç½®-github-workflow-yml-åŒæ—¶è®¾ç½®-secrets-å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\"><a href=\"#1-github-åˆ›å»ºä»“åº“ï¼Œé…ç½®-github-workflow-yml-åŒæ—¶è®¾ç½®-secrets-å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\" class=\"headerlink\" title=\"1.github åˆ›å»ºä»“åº“ï¼Œé…ç½®.github/workflow/*.yml,åŒæ—¶è®¾ç½® secrets å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID.\"></a>1.github åˆ›å»ºä»“åº“ï¼Œé…ç½®.github/workflow/*.yml,åŒæ—¶è®¾ç½® secrets å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID.</h3><ul>\n<li><h4 id=\"é…ç½®-workflow-çš„-yml-æ–‡ä»¶ã€‚\"><a href=\"#é…ç½®-workflow-çš„-yml-æ–‡ä»¶ã€‚\" class=\"headerlink\" title=\"é…ç½® workflow çš„ yml æ–‡ä»¶ã€‚\"></a>é…ç½® workflow çš„ yml æ–‡ä»¶ã€‚</h4>ç›´æ¥å¤åˆ¶é‡Œé¢çš„ Usage,<a href=\"https://github.com/marketplace/actions/deploy-to-byteinspire-hosting\">Deploy to ByteInspire Hosting</a></li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Deploy</span> <span class=\"string\">Hosting</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span> <span class=\"string\">push</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">build_and_deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"comment\"># Add any build steps here. For example:</span></span><br><span class=\"line\">      <span class=\"comment\"># - run: npm ci &amp;&amp; npm run build</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">byteinspire/hosting-deployer-action@v1</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">service-id:</span> <span class=\"string\">&quot;$<span class=\"template-variable\">&#123;&#123; secrets.SERVICE_ID &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">          <span class=\"attr\">token:</span> <span class=\"string\">&quot;$<span class=\"template-variable\">&#123;&#123; secrets.ACCESS_TOKEN &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">          <span class=\"comment\"># Or you can use file param to directly specify the ziped file path</span></span><br><span class=\"line\">          <span class=\"attr\">directory:</span> <span class=\"string\">./</span></span><br></pre></td></tr></table></figure>","more":"<ul>\n<li><h4 id=\"é…ç½®-secrets-çš„å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\"><a href=\"#é…ç½®-secrets-çš„å˜é‡-ACCESS-TOKEN-ä¸-SERVICE-ID\" class=\"headerlink\" title=\"é…ç½® secrets çš„å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID\"></a>é…ç½® secrets çš„å˜é‡ ACCESS_TOKEN ä¸ SERVICE_ID</h4></li>\n</ul>\n<ol>\n<li>ACCESS_TOKEN<br>å®˜æ–¹å·²ç»å†™å¾—å¾ˆè¯¦ç»†äº†<a href=\"https://qingfuwu.cn/docs/openapi/personaltoken.html#%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E8%AE%BF%E9%97%AE%E5%87%AD%E8%AF%81\">åˆ›å»ºå’Œç®¡ç†è®¿é—®å‡­è¯</a><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221004.png\"><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221006.png\"></li>\n<li>SERVICE_ID<br>ç™»å½•è½»æœåŠ¡å<a href=\"https://qingfuwu.cn/dashboard\">https://qingfuwu.cn/dashboard</a>ï¼Œåœ¨é¦–é¡µå°±èƒ½çœ‹è§ä½ åˆ›å»ºçš„æ‰€æœ‰æœåŠ¡ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220950.png\"><br>è¿™é‡Œå°±é€‰æ‹© hello world è¿™ä¸ªæœåŠ¡ï¼Œç‚¹å‡»è¿›å»ï¼Œå†è¿›å…¥åˆ°è®¾ç½®é‡Œé¢å°±å¯ä»¥çœ‹è§ SERVICE_ID.å½“ç„¶è¿™é‡Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»é¡µé¢æ‰˜ç®¡ï¼Œä¸Šä¼ å‹ç¼©æ–‡ä»¶æ‰‹åŠ¨éƒ¨ç½²ã€‚<img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220952.png\"></li>\n<li>æ·»åŠ å˜é‡åˆ° secrets é‡Œé¢ï¼Œè¿™é‡Œæˆ‘å·²ç»æ·»åŠ ä¸Šäº†ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯è®¾ç½® respository secretï¼Œå› ä¸ºæœ€å¼€å§‹è®¾ç½®æˆ environment secret è€Œå¤±è´¥å‡ æ¬¡ ğŸ˜­<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110220955.png\"></li>\n</ol>\n<h3 id=\"2-ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\"><a href=\"#2-ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\" class=\"headerlink\" title=\"2. ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚\"></a>2. ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå¤§è‡´å°±å¯ä»¥å®Œæˆäº†ã€‚</h3><p>#####çœ‹çœ‹ actions å§ï¼Œå¿½ç•¥å‰å‡ æ¬¡ environment secret çš„é”… ğŸ˜‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221013.png\"><br>è¿›å…¥é¡µé¢æ‰˜ç®¡ï¼Œç‚¹å‡»ç½‘ç«™åŸŸåï¼Œå°±å¯ä»¥çœ‹è§éƒ¨ç½²åçš„é¡µé¢äº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221016.png\"><br>æœ€ç»ˆæ•ˆæœï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110221025.png\"></p>"},{"title":"numpyæ¡ä»¶é€‰æ‹©","date":"2021-10-12T16:38:35.000Z","_content":"\n## numpy çš„æ¡ä»¶ç­›é€‰\n\n### ç­›é€‰åŸºç¡€\n\n#### æ•°ç»„åˆ‡ç‰‡\n\næˆ‘ä»¬ä¸€èˆ¬éƒ½çŸ¥é“ python çš„ [ ] æ“ä½œç¬¦å¯ä»¥è¿›è¡Œåˆ‡ç‰‡æ“ä½œ,ä¸¾ä¾‹å¦‚ä¸‹:\n\n```python\narr = [1,2,3]\n#åˆ‡ç‰‡æ“ä½œå‚æ•°ä»‹ç»ï¼š[èµ·å§‹ä½ç½®ä¸‹æ ‡ï¼ˆé»˜è®¤æœ€å¼€å§‹ï¼‰:ç»“æŸä½ç½®ä¸‹æ ‡(é»˜è®¤æœ€å):æ­¥é•¿(é»˜è®¤ä¸ºä¸€)]\narr[0:2]\n# [1,2]\n\narr[0:2:2]\n# [1,3]\n\n# å½“æ­¥é•¿ä¸º-1æ—¶ï¼Œèƒ½å¤Ÿé€†ç½®æ•°ç»„\narr[::-1]\n# [3,2,1]\n```\n\n<!--more-->\n\n#### ä¸‹é¢æ˜¯ ndarray äºŒç»´æ•°ç»„çš„ä¾‹å­\n\n##### å•åˆ—/è¡Œç­›é€‰\n\n```python\narr = [\n[1,2,3,4],\n[4,5,6,7]\n]\narr = np.array(arr)\n# å•åˆ—ç­›é€‰\n# åˆ—ç­›é€‰ï¼Œç¬¬ä¸€ä¸ªå†’å·ä¸èƒ½çœç•¥\narr[:,0] # é€‰æ‹©ä¸‹æ ‡ä¸º0çš„åˆ—\n# [1,4]\n\n# å•è¡Œç­›é€‰\narr[0] # é€‰æ‹©ä¸‹æ ‡ä¸º0çš„è¡Œï¼Œå°±åƒæ™®é€šçš„äºŒç»´æ•°ç»„è®¿é—®ç¬¬ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸€æ ·\n# [1,2,3,4]\n```\n\n##### å¤šè¡Œ/åˆ—ç­›é€‰\n\n```python\narr = [\n[1,2,3,4],\n[4,5,6,7]\n]\narr = np.array(arr)\n# å¤šåˆ—ç­›é€‰\n\t# é€‰æ‹©æŸä¸ªä¸‹æ ‡åŒºé—´çš„åˆ—\narr[:,0:2]\n# [\n# [1,2],\n# [4,5]\n# ]\n\t# é€‰æ‹©æŸäº›åˆ—\narr[:,[0,3]] # é€‰æ‹©ä¸‹æ ‡ä¸º 0ï¼Œ3çš„åˆ—\n# [\n# [1,4],\n# [4,7]\n# ]\n\t# boolé€‰æ‹©\n\t# boolæ•°ç»„çš„  é•¿åº¦  å¿…é¡»è¦ä¸åˆ—çš„  ç»´æ•°ç›¸åŒ\narr[:,[True,False,False,False]]\n# [\n# [1],\n# [4]\n# ]\n\n# å¤šè¡Œç­›é€‰\n# ä¸å¤šåˆ—ç­›é€‰ç±»ä¼¼\narr = np.array([\n[1,2,3,4],\n[4,5,6,7],\n[8,9,10,11]\n])\n\t# é€‰æ‹©æŸäº›è¡Œ\narr[[0,1]]\n# [[\n# [1,2,3,4],\n# [4,5,6,7]\n# ]]\n\t# å…¶ä½™å°±ä¸åœ¨èµ˜è¿°ï¼Œå¯ä»¥å­—è¡Œæµ‹è¯•\n```\n\n### æ¡ä»¶ç­›é€‰\n\né€šè¿‡ä¸Šé¢çš„ä¸€äº›åŸºæœ¬çš„ç­›é€‰è§„åˆ™ï¼Œå¯ä»¥å¤§è‡´äº†è§£äº† numpy çš„ç­›é€‰åŸåˆ™äº†ï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹ä¸€ numpy æ¯”è¾ƒå¼ºå¤§çš„æ¡ä»¶ç­›é€‰å§ã€‚è€Œæ¡ä»¶ç­›é€‰å°±æ˜¯ä¾èµ– bool ç­›é€‰å®ç°çš„ã€‚\n\n#### æ¡ä»¶ç­›é€‰è¡Œ\n\n```python\narr = np.array([\n[1,2,3,4],\n[4,5,6,7],\n[8,9,10,11]\n])\n\n# ä¾‹å¦‚ï¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå¶æ•°çš„è¡Œ\narr[arr[:,0]%2==0]\n# [[ 4,  5,  6,  7],\n#  [ 8,  9, 10, 11]]\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä¸Šé¢å‘ç”Ÿäº†ä»€ä¹ˆã€‚\né¦–å…ˆ: arr[:,0]x é€‰æ‹©é™¤äº†äºŒç»´æ•°ç»„çš„ç¬¬ä¸€åˆ—-----[1,4,8]\nç„¶å: arr[:,0]%2==0 å¾—åˆ°äº†ä¸€ä¸ª bool æ•°ç»„-----[False,True,True]\næœ€å arr[[False,True,True]],è¿™ä¸ªæ ·å­æ˜¯ä¸æ˜¯æœ‰ç‚¹ç†Ÿæ‚‰äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ bool ç­›é€‰ã€‚\n\n#### æ¡ä»¶ç­›é€‰åˆ—\n\n```python\n# ä¸è¡Œç­›é€‰ç±»ä¼¼\narr[:,arr[1]>5] # é€‰æ‹©ç¬¬äºŒè¡Œä¸­å¤§äº5çš„åˆ—\n# [[ 3,  4],\n#  [ 6,  7],\n#  [10, 11]]\n```\n\n#### è¡Œåˆ—ä¸€èµ·é€‰æ‹©\n\n```python\narr[arr>5] # é€‰æ‹©arrä¸­ï¼Œå¤§äº5çš„å…ƒç´ \n# å…¶ä¸­arr>5å¾—åˆ°ä¸€ä¸ªäºŒç»´çš„boolæ•°ç»„\n# [[False, False, False, False],\n#  [False, False,  True,  True],\n#  [ True,  True,  True,  True]]\n# æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„\n# [ 6,  7,  8,  9, 10, 11]\n```\n\n##### æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ— intï¼Œç¬¬äºŒåˆ—æ˜¯ strï¼Œè¿™æ ·å†ç”¨ arr>5 å°±ä¼šå‡ºç°é”™è¯¯ã€‚\n\n#### å¤šæ¡ä»¶é€‰æ‹©\n\n```python\narr[(arr>5) & (arr%2==0)] # é€‰æ‹©å¤§äº5ä¸”ä¸ºå¶æ•°çš„å…ƒç´ \n# [ 6,  8, 10]\n```\n\n##### æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨ | æˆ–è€… &ï¼Œä¸èƒ½ç”¨ and,or è¿™æ ·ã€‚\n","source":"_posts/numpyæ¡ä»¶é€‰æ‹©.md","raw":"---\ntitle: numpyæ¡ä»¶é€‰æ‹©\ndate: 2021-10-13 00:38:35\ntags: numpy\ncategories: python\n---\n\n## numpy çš„æ¡ä»¶ç­›é€‰\n\n### ç­›é€‰åŸºç¡€\n\n#### æ•°ç»„åˆ‡ç‰‡\n\næˆ‘ä»¬ä¸€èˆ¬éƒ½çŸ¥é“ python çš„ [ ] æ“ä½œç¬¦å¯ä»¥è¿›è¡Œåˆ‡ç‰‡æ“ä½œ,ä¸¾ä¾‹å¦‚ä¸‹:\n\n```python\narr = [1,2,3]\n#åˆ‡ç‰‡æ“ä½œå‚æ•°ä»‹ç»ï¼š[èµ·å§‹ä½ç½®ä¸‹æ ‡ï¼ˆé»˜è®¤æœ€å¼€å§‹ï¼‰:ç»“æŸä½ç½®ä¸‹æ ‡(é»˜è®¤æœ€å):æ­¥é•¿(é»˜è®¤ä¸ºä¸€)]\narr[0:2]\n# [1,2]\n\narr[0:2:2]\n# [1,3]\n\n# å½“æ­¥é•¿ä¸º-1æ—¶ï¼Œèƒ½å¤Ÿé€†ç½®æ•°ç»„\narr[::-1]\n# [3,2,1]\n```\n\n<!--more-->\n\n#### ä¸‹é¢æ˜¯ ndarray äºŒç»´æ•°ç»„çš„ä¾‹å­\n\n##### å•åˆ—/è¡Œç­›é€‰\n\n```python\narr = [\n[1,2,3,4],\n[4,5,6,7]\n]\narr = np.array(arr)\n# å•åˆ—ç­›é€‰\n# åˆ—ç­›é€‰ï¼Œç¬¬ä¸€ä¸ªå†’å·ä¸èƒ½çœç•¥\narr[:,0] # é€‰æ‹©ä¸‹æ ‡ä¸º0çš„åˆ—\n# [1,4]\n\n# å•è¡Œç­›é€‰\narr[0] # é€‰æ‹©ä¸‹æ ‡ä¸º0çš„è¡Œï¼Œå°±åƒæ™®é€šçš„äºŒç»´æ•°ç»„è®¿é—®ç¬¬ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸€æ ·\n# [1,2,3,4]\n```\n\n##### å¤šè¡Œ/åˆ—ç­›é€‰\n\n```python\narr = [\n[1,2,3,4],\n[4,5,6,7]\n]\narr = np.array(arr)\n# å¤šåˆ—ç­›é€‰\n\t# é€‰æ‹©æŸä¸ªä¸‹æ ‡åŒºé—´çš„åˆ—\narr[:,0:2]\n# [\n# [1,2],\n# [4,5]\n# ]\n\t# é€‰æ‹©æŸäº›åˆ—\narr[:,[0,3]] # é€‰æ‹©ä¸‹æ ‡ä¸º 0ï¼Œ3çš„åˆ—\n# [\n# [1,4],\n# [4,7]\n# ]\n\t# boolé€‰æ‹©\n\t# boolæ•°ç»„çš„  é•¿åº¦  å¿…é¡»è¦ä¸åˆ—çš„  ç»´æ•°ç›¸åŒ\narr[:,[True,False,False,False]]\n# [\n# [1],\n# [4]\n# ]\n\n# å¤šè¡Œç­›é€‰\n# ä¸å¤šåˆ—ç­›é€‰ç±»ä¼¼\narr = np.array([\n[1,2,3,4],\n[4,5,6,7],\n[8,9,10,11]\n])\n\t# é€‰æ‹©æŸäº›è¡Œ\narr[[0,1]]\n# [[\n# [1,2,3,4],\n# [4,5,6,7]\n# ]]\n\t# å…¶ä½™å°±ä¸åœ¨èµ˜è¿°ï¼Œå¯ä»¥å­—è¡Œæµ‹è¯•\n```\n\n### æ¡ä»¶ç­›é€‰\n\né€šè¿‡ä¸Šé¢çš„ä¸€äº›åŸºæœ¬çš„ç­›é€‰è§„åˆ™ï¼Œå¯ä»¥å¤§è‡´äº†è§£äº† numpy çš„ç­›é€‰åŸåˆ™äº†ï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹ä¸€ numpy æ¯”è¾ƒå¼ºå¤§çš„æ¡ä»¶ç­›é€‰å§ã€‚è€Œæ¡ä»¶ç­›é€‰å°±æ˜¯ä¾èµ– bool ç­›é€‰å®ç°çš„ã€‚\n\n#### æ¡ä»¶ç­›é€‰è¡Œ\n\n```python\narr = np.array([\n[1,2,3,4],\n[4,5,6,7],\n[8,9,10,11]\n])\n\n# ä¾‹å¦‚ï¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå¶æ•°çš„è¡Œ\narr[arr[:,0]%2==0]\n# [[ 4,  5,  6,  7],\n#  [ 8,  9, 10, 11]]\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä¸Šé¢å‘ç”Ÿäº†ä»€ä¹ˆã€‚\né¦–å…ˆ: arr[:,0]x é€‰æ‹©é™¤äº†äºŒç»´æ•°ç»„çš„ç¬¬ä¸€åˆ—-----[1,4,8]\nç„¶å: arr[:,0]%2==0 å¾—åˆ°äº†ä¸€ä¸ª bool æ•°ç»„-----[False,True,True]\næœ€å arr[[False,True,True]],è¿™ä¸ªæ ·å­æ˜¯ä¸æ˜¯æœ‰ç‚¹ç†Ÿæ‚‰äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ bool ç­›é€‰ã€‚\n\n#### æ¡ä»¶ç­›é€‰åˆ—\n\n```python\n# ä¸è¡Œç­›é€‰ç±»ä¼¼\narr[:,arr[1]>5] # é€‰æ‹©ç¬¬äºŒè¡Œä¸­å¤§äº5çš„åˆ—\n# [[ 3,  4],\n#  [ 6,  7],\n#  [10, 11]]\n```\n\n#### è¡Œåˆ—ä¸€èµ·é€‰æ‹©\n\n```python\narr[arr>5] # é€‰æ‹©arrä¸­ï¼Œå¤§äº5çš„å…ƒç´ \n# å…¶ä¸­arr>5å¾—åˆ°ä¸€ä¸ªäºŒç»´çš„boolæ•°ç»„\n# [[False, False, False, False],\n#  [False, False,  True,  True],\n#  [ True,  True,  True,  True]]\n# æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„\n# [ 6,  7,  8,  9, 10, 11]\n```\n\n##### æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ— intï¼Œç¬¬äºŒåˆ—æ˜¯ strï¼Œè¿™æ ·å†ç”¨ arr>5 å°±ä¼šå‡ºç°é”™è¯¯ã€‚\n\n#### å¤šæ¡ä»¶é€‰æ‹©\n\n```python\narr[(arr>5) & (arr%2==0)] # é€‰æ‹©å¤§äº5ä¸”ä¸ºå¶æ•°çš„å…ƒç´ \n# [ 6,  8, 10]\n```\n\n##### æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨ | æˆ–è€… &ï¼Œä¸èƒ½ç”¨ and,or è¿™æ ·ã€‚\n","slug":"numpyæ¡ä»¶é€‰æ‹©","published":1,"updated":"2022-12-31T10:26:33.587Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsr000d3kv7fwkm5tmg","content":"<h2 id=\"numpy-çš„æ¡ä»¶ç­›é€‰\"><a href=\"#numpy-çš„æ¡ä»¶ç­›é€‰\" class=\"headerlink\" title=\"numpy çš„æ¡ä»¶ç­›é€‰\"></a>numpy çš„æ¡ä»¶ç­›é€‰</h2><h3 id=\"ç­›é€‰åŸºç¡€\"><a href=\"#ç­›é€‰åŸºç¡€\" class=\"headerlink\" title=\"ç­›é€‰åŸºç¡€\"></a>ç­›é€‰åŸºç¡€</h3><h4 id=\"æ•°ç»„åˆ‡ç‰‡\"><a href=\"#æ•°ç»„åˆ‡ç‰‡\" class=\"headerlink\" title=\"æ•°ç»„åˆ‡ç‰‡\"></a>æ•°ç»„åˆ‡ç‰‡</h4><p>æˆ‘ä»¬ä¸€èˆ¬éƒ½çŸ¥é“ python çš„ [ ] æ“ä½œç¬¦å¯ä»¥è¿›è¡Œåˆ‡ç‰‡æ“ä½œ,ä¸¾ä¾‹å¦‚ä¸‹:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"comment\">#åˆ‡ç‰‡æ“ä½œå‚æ•°ä»‹ç»ï¼š[èµ·å§‹ä½ç½®ä¸‹æ ‡ï¼ˆé»˜è®¤æœ€å¼€å§‹ï¼‰:ç»“æŸä½ç½®ä¸‹æ ‡(é»˜è®¤æœ€å):æ­¥é•¿(é»˜è®¤ä¸ºä¸€)]</span></span><br><span class=\"line\">arr[<span class=\"number\">0</span>:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\"># [1,2]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>:<span class=\"number\">2</span>:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\"># [1,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å½“æ­¥é•¿ä¸º-1æ—¶ï¼Œèƒ½å¤Ÿé€†ç½®æ•°ç»„</span></span><br><span class=\"line\">arr[::-<span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"comment\"># [3,2,1]</span></span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<h4 id=\"ä¸‹é¢æ˜¯-ndarray-äºŒç»´æ•°ç»„çš„ä¾‹å­\"><a href=\"#ä¸‹é¢æ˜¯-ndarray-äºŒç»´æ•°ç»„çš„ä¾‹å­\" class=\"headerlink\" title=\"ä¸‹é¢æ˜¯ ndarray äºŒç»´æ•°ç»„çš„ä¾‹å­\"></a>ä¸‹é¢æ˜¯ ndarray äºŒç»´æ•°ç»„çš„ä¾‹å­</h4><h5 id=\"å•åˆ—-è¡Œç­›é€‰\"><a href=\"#å•åˆ—-è¡Œç­›é€‰\" class=\"headerlink\" title=\"å•åˆ—/è¡Œç­›é€‰\"></a>å•åˆ—/è¡Œç­›é€‰</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = [</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">]</span><br><span class=\"line\">arr = np.array(arr)</span><br><span class=\"line\"><span class=\"comment\"># å•åˆ—ç­›é€‰</span></span><br><span class=\"line\"><span class=\"comment\"># åˆ—ç­›é€‰ï¼Œç¬¬ä¸€ä¸ªå†’å·ä¸èƒ½çœç•¥</span></span><br><span class=\"line\">arr[:,<span class=\"number\">0</span>] <span class=\"comment\"># é€‰æ‹©ä¸‹æ ‡ä¸º0çš„åˆ—</span></span><br><span class=\"line\"><span class=\"comment\"># [1,4]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å•è¡Œç­›é€‰</span></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] <span class=\"comment\"># é€‰æ‹©ä¸‹æ ‡ä¸º0çš„è¡Œï¼Œå°±åƒæ™®é€šçš„äºŒç»´æ•°ç»„è®¿é—®ç¬¬ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸€æ ·</span></span><br><span class=\"line\"><span class=\"comment\"># [1,2,3,4]</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"å¤šè¡Œ-åˆ—ç­›é€‰\"><a href=\"#å¤šè¡Œ-åˆ—ç­›é€‰\" class=\"headerlink\" title=\"å¤šè¡Œ/åˆ—ç­›é€‰\"></a>å¤šè¡Œ/åˆ—ç­›é€‰</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = [</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">]</span><br><span class=\"line\">arr = np.array(arr)</span><br><span class=\"line\"><span class=\"comment\"># å¤šåˆ—ç­›é€‰</span></span><br><span class=\"line\">\t<span class=\"comment\"># é€‰æ‹©æŸä¸ªä¸‹æ ‡åŒºé—´çš„åˆ—</span></span><br><span class=\"line\">arr[:,<span class=\"number\">0</span>:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\"># [</span></span><br><span class=\"line\"><span class=\"comment\"># [1,2],</span></span><br><span class=\"line\"><span class=\"comment\"># [4,5]</span></span><br><span class=\"line\"><span class=\"comment\"># ]</span></span><br><span class=\"line\">\t<span class=\"comment\"># é€‰æ‹©æŸäº›åˆ—</span></span><br><span class=\"line\">arr[:,[<span class=\"number\">0</span>,<span class=\"number\">3</span>]] <span class=\"comment\"># é€‰æ‹©ä¸‹æ ‡ä¸º 0ï¼Œ3çš„åˆ—</span></span><br><span class=\"line\"><span class=\"comment\"># [</span></span><br><span class=\"line\"><span class=\"comment\"># [1,4],</span></span><br><span class=\"line\"><span class=\"comment\"># [4,7]</span></span><br><span class=\"line\"><span class=\"comment\"># ]</span></span><br><span class=\"line\">\t<span class=\"comment\"># boolé€‰æ‹©</span></span><br><span class=\"line\">\t<span class=\"comment\"># boolæ•°ç»„çš„  é•¿åº¦  å¿…é¡»è¦ä¸åˆ—çš„  ç»´æ•°ç›¸åŒ</span></span><br><span class=\"line\">arr[:,[<span class=\"literal\">True</span>,<span class=\"literal\">False</span>,<span class=\"literal\">False</span>,<span class=\"literal\">False</span>]]</span><br><span class=\"line\"><span class=\"comment\"># [</span></span><br><span class=\"line\"><span class=\"comment\"># [1],</span></span><br><span class=\"line\"><span class=\"comment\"># [4]</span></span><br><span class=\"line\"><span class=\"comment\"># ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å¤šè¡Œç­›é€‰</span></span><br><span class=\"line\"><span class=\"comment\"># ä¸å¤šåˆ—ç­›é€‰ç±»ä¼¼</span></span><br><span class=\"line\">arr = np.array([</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>],</span><br><span class=\"line\">[<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">10</span>,<span class=\"number\">11</span>]</span><br><span class=\"line\">])</span><br><span class=\"line\">\t<span class=\"comment\"># é€‰æ‹©æŸäº›è¡Œ</span></span><br><span class=\"line\">arr[[<span class=\"number\">0</span>,<span class=\"number\">1</span>]]</span><br><span class=\"line\"><span class=\"comment\"># [[</span></span><br><span class=\"line\"><span class=\"comment\"># [1,2,3,4],</span></span><br><span class=\"line\"><span class=\"comment\"># [4,5,6,7]</span></span><br><span class=\"line\"><span class=\"comment\"># ]]</span></span><br><span class=\"line\">\t<span class=\"comment\"># å…¶ä½™å°±ä¸åœ¨èµ˜è¿°ï¼Œå¯ä»¥å­—è¡Œæµ‹è¯•</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¡ä»¶ç­›é€‰\"><a href=\"#æ¡ä»¶ç­›é€‰\" class=\"headerlink\" title=\"æ¡ä»¶ç­›é€‰\"></a>æ¡ä»¶ç­›é€‰</h3><p>é€šè¿‡ä¸Šé¢çš„ä¸€äº›åŸºæœ¬çš„ç­›é€‰è§„åˆ™ï¼Œå¯ä»¥å¤§è‡´äº†è§£äº† numpy çš„ç­›é€‰åŸåˆ™äº†ï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹ä¸€ numpy æ¯”è¾ƒå¼ºå¤§çš„æ¡ä»¶ç­›é€‰å§ã€‚è€Œæ¡ä»¶ç­›é€‰å°±æ˜¯ä¾èµ– bool ç­›é€‰å®ç°çš„ã€‚</p>\n<h4 id=\"æ¡ä»¶ç­›é€‰è¡Œ\"><a href=\"#æ¡ä»¶ç­›é€‰è¡Œ\" class=\"headerlink\" title=\"æ¡ä»¶ç­›é€‰è¡Œ\"></a>æ¡ä»¶ç­›é€‰è¡Œ</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = np.array([</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>],</span><br><span class=\"line\">[<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">10</span>,<span class=\"number\">11</span>]</span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå¶æ•°çš„è¡Œ</span></span><br><span class=\"line\">arr[arr[:,<span class=\"number\">0</span>]%<span class=\"number\">2</span>==<span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"comment\"># [[ 4,  5,  6,  7],</span></span><br><span class=\"line\"><span class=\"comment\">#  [ 8,  9, 10, 11]]</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä¸Šé¢å‘ç”Ÿäº†ä»€ä¹ˆã€‚<br>é¦–å…ˆ: arr[:,0]x é€‰æ‹©é™¤äº†äºŒç»´æ•°ç»„çš„ç¬¬ä¸€åˆ—â€”â€“[1,4,8]<br>ç„¶å: arr[:,0]%2==0 å¾—åˆ°äº†ä¸€ä¸ª bool æ•°ç»„â€”â€“[False,True,True]<br>æœ€å arr[[False,True,True]],è¿™ä¸ªæ ·å­æ˜¯ä¸æ˜¯æœ‰ç‚¹ç†Ÿæ‚‰äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ bool ç­›é€‰ã€‚</p>\n<h4 id=\"æ¡ä»¶ç­›é€‰åˆ—\"><a href=\"#æ¡ä»¶ç­›é€‰åˆ—\" class=\"headerlink\" title=\"æ¡ä»¶ç­›é€‰åˆ—\"></a>æ¡ä»¶ç­›é€‰åˆ—</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¸è¡Œç­›é€‰ç±»ä¼¼</span></span><br><span class=\"line\">arr[:,arr[<span class=\"number\">1</span>]&gt;<span class=\"number\">5</span>] <span class=\"comment\"># é€‰æ‹©ç¬¬äºŒè¡Œä¸­å¤§äº5çš„åˆ—</span></span><br><span class=\"line\"><span class=\"comment\"># [[ 3,  4],</span></span><br><span class=\"line\"><span class=\"comment\">#  [ 6,  7],</span></span><br><span class=\"line\"><span class=\"comment\">#  [10, 11]]</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è¡Œåˆ—ä¸€èµ·é€‰æ‹©\"><a href=\"#è¡Œåˆ—ä¸€èµ·é€‰æ‹©\" class=\"headerlink\" title=\"è¡Œåˆ—ä¸€èµ·é€‰æ‹©\"></a>è¡Œåˆ—ä¸€èµ·é€‰æ‹©</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr[arr&gt;<span class=\"number\">5</span>] <span class=\"comment\"># é€‰æ‹©arrä¸­ï¼Œå¤§äº5çš„å…ƒç´ </span></span><br><span class=\"line\"><span class=\"comment\"># å…¶ä¸­arr&gt;5å¾—åˆ°ä¸€ä¸ªäºŒç»´çš„boolæ•°ç»„</span></span><br><span class=\"line\"><span class=\"comment\"># [[False, False, False, False],</span></span><br><span class=\"line\"><span class=\"comment\">#  [False, False,  True,  True],</span></span><br><span class=\"line\"><span class=\"comment\">#  [ True,  True,  True,  True]]</span></span><br><span class=\"line\"><span class=\"comment\"># æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</span></span><br><span class=\"line\"><span class=\"comment\"># [ 6,  7,  8,  9, 10, 11]</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ—-intï¼Œç¬¬äºŒåˆ—æ˜¯-strï¼Œè¿™æ ·å†ç”¨-arr-gt-5-å°±ä¼šå‡ºç°é”™è¯¯ã€‚\"><a href=\"#æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ—-intï¼Œç¬¬äºŒåˆ—æ˜¯-strï¼Œè¿™æ ·å†ç”¨-arr-gt-5-å°±ä¼šå‡ºç°é”™è¯¯ã€‚\" class=\"headerlink\" title=\"æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ— intï¼Œç¬¬äºŒåˆ—æ˜¯ strï¼Œè¿™æ ·å†ç”¨ arr&gt;5 å°±ä¼šå‡ºç°é”™è¯¯ã€‚\"></a>æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ— intï¼Œç¬¬äºŒåˆ—æ˜¯ strï¼Œè¿™æ ·å†ç”¨ arr&gt;5 å°±ä¼šå‡ºç°é”™è¯¯ã€‚</h5><h4 id=\"å¤šæ¡ä»¶é€‰æ‹©\"><a href=\"#å¤šæ¡ä»¶é€‰æ‹©\" class=\"headerlink\" title=\"å¤šæ¡ä»¶é€‰æ‹©\"></a>å¤šæ¡ä»¶é€‰æ‹©</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr[(arr&gt;<span class=\"number\">5</span>) &amp; (arr%<span class=\"number\">2</span>==<span class=\"number\">0</span>)] <span class=\"comment\"># é€‰æ‹©å¤§äº5ä¸”ä¸ºå¶æ•°çš„å…ƒç´ </span></span><br><span class=\"line\"><span class=\"comment\"># [ 6,  8, 10]</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨-æˆ–è€…-amp-ï¼Œä¸èƒ½ç”¨-and-or-è¿™æ ·ã€‚\"><a href=\"#æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨-æˆ–è€…-amp-ï¼Œä¸èƒ½ç”¨-and-or-è¿™æ ·ã€‚\" class=\"headerlink\" title=\"æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨ | æˆ–è€… &amp;ï¼Œä¸èƒ½ç”¨ and,or è¿™æ ·ã€‚\"></a>æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨ | æˆ–è€… &amp;ï¼Œä¸èƒ½ç”¨ and,or è¿™æ ·ã€‚</h5>","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":1509,"excerpt":"<h2 id=\"numpy-çš„æ¡ä»¶ç­›é€‰\"><a href=\"#numpy-çš„æ¡ä»¶ç­›é€‰\" class=\"headerlink\" title=\"numpy çš„æ¡ä»¶ç­›é€‰\"></a>numpy çš„æ¡ä»¶ç­›é€‰</h2><h3 id=\"ç­›é€‰åŸºç¡€\"><a href=\"#ç­›é€‰åŸºç¡€\" class=\"headerlink\" title=\"ç­›é€‰åŸºç¡€\"></a>ç­›é€‰åŸºç¡€</h3><h4 id=\"æ•°ç»„åˆ‡ç‰‡\"><a href=\"#æ•°ç»„åˆ‡ç‰‡\" class=\"headerlink\" title=\"æ•°ç»„åˆ‡ç‰‡\"></a>æ•°ç»„åˆ‡ç‰‡</h4><p>æˆ‘ä»¬ä¸€èˆ¬éƒ½çŸ¥é“ python çš„ [ ] æ“ä½œç¬¦å¯ä»¥è¿›è¡Œåˆ‡ç‰‡æ“ä½œ,ä¸¾ä¾‹å¦‚ä¸‹:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"comment\">#åˆ‡ç‰‡æ“ä½œå‚æ•°ä»‹ç»ï¼š[èµ·å§‹ä½ç½®ä¸‹æ ‡ï¼ˆé»˜è®¤æœ€å¼€å§‹ï¼‰:ç»“æŸä½ç½®ä¸‹æ ‡(é»˜è®¤æœ€å):æ­¥é•¿(é»˜è®¤ä¸ºä¸€)]</span></span><br><span class=\"line\">arr[<span class=\"number\">0</span>:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\"># [1,2]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>:<span class=\"number\">2</span>:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\"># [1,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å½“æ­¥é•¿ä¸º-1æ—¶ï¼Œèƒ½å¤Ÿé€†ç½®æ•°ç»„</span></span><br><span class=\"line\">arr[::-<span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"comment\"># [3,2,1]</span></span><br></pre></td></tr></table></figure>","more":"<h4 id=\"ä¸‹é¢æ˜¯-ndarray-äºŒç»´æ•°ç»„çš„ä¾‹å­\"><a href=\"#ä¸‹é¢æ˜¯-ndarray-äºŒç»´æ•°ç»„çš„ä¾‹å­\" class=\"headerlink\" title=\"ä¸‹é¢æ˜¯ ndarray äºŒç»´æ•°ç»„çš„ä¾‹å­\"></a>ä¸‹é¢æ˜¯ ndarray äºŒç»´æ•°ç»„çš„ä¾‹å­</h4><h5 id=\"å•åˆ—-è¡Œç­›é€‰\"><a href=\"#å•åˆ—-è¡Œç­›é€‰\" class=\"headerlink\" title=\"å•åˆ—/è¡Œç­›é€‰\"></a>å•åˆ—/è¡Œç­›é€‰</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = [</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">]</span><br><span class=\"line\">arr = np.array(arr)</span><br><span class=\"line\"><span class=\"comment\"># å•åˆ—ç­›é€‰</span></span><br><span class=\"line\"><span class=\"comment\"># åˆ—ç­›é€‰ï¼Œç¬¬ä¸€ä¸ªå†’å·ä¸èƒ½çœç•¥</span></span><br><span class=\"line\">arr[:,<span class=\"number\">0</span>] <span class=\"comment\"># é€‰æ‹©ä¸‹æ ‡ä¸º0çš„åˆ—</span></span><br><span class=\"line\"><span class=\"comment\"># [1,4]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å•è¡Œç­›é€‰</span></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] <span class=\"comment\"># é€‰æ‹©ä¸‹æ ‡ä¸º0çš„è¡Œï¼Œå°±åƒæ™®é€šçš„äºŒç»´æ•°ç»„è®¿é—®ç¬¬ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸€æ ·</span></span><br><span class=\"line\"><span class=\"comment\"># [1,2,3,4]</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"å¤šè¡Œ-åˆ—ç­›é€‰\"><a href=\"#å¤šè¡Œ-åˆ—ç­›é€‰\" class=\"headerlink\" title=\"å¤šè¡Œ/åˆ—ç­›é€‰\"></a>å¤šè¡Œ/åˆ—ç­›é€‰</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = [</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">]</span><br><span class=\"line\">arr = np.array(arr)</span><br><span class=\"line\"><span class=\"comment\"># å¤šåˆ—ç­›é€‰</span></span><br><span class=\"line\">\t<span class=\"comment\"># é€‰æ‹©æŸä¸ªä¸‹æ ‡åŒºé—´çš„åˆ—</span></span><br><span class=\"line\">arr[:,<span class=\"number\">0</span>:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\"># [</span></span><br><span class=\"line\"><span class=\"comment\"># [1,2],</span></span><br><span class=\"line\"><span class=\"comment\"># [4,5]</span></span><br><span class=\"line\"><span class=\"comment\"># ]</span></span><br><span class=\"line\">\t<span class=\"comment\"># é€‰æ‹©æŸäº›åˆ—</span></span><br><span class=\"line\">arr[:,[<span class=\"number\">0</span>,<span class=\"number\">3</span>]] <span class=\"comment\"># é€‰æ‹©ä¸‹æ ‡ä¸º 0ï¼Œ3çš„åˆ—</span></span><br><span class=\"line\"><span class=\"comment\"># [</span></span><br><span class=\"line\"><span class=\"comment\"># [1,4],</span></span><br><span class=\"line\"><span class=\"comment\"># [4,7]</span></span><br><span class=\"line\"><span class=\"comment\"># ]</span></span><br><span class=\"line\">\t<span class=\"comment\"># boolé€‰æ‹©</span></span><br><span class=\"line\">\t<span class=\"comment\"># boolæ•°ç»„çš„  é•¿åº¦  å¿…é¡»è¦ä¸åˆ—çš„  ç»´æ•°ç›¸åŒ</span></span><br><span class=\"line\">arr[:,[<span class=\"literal\">True</span>,<span class=\"literal\">False</span>,<span class=\"literal\">False</span>,<span class=\"literal\">False</span>]]</span><br><span class=\"line\"><span class=\"comment\"># [</span></span><br><span class=\"line\"><span class=\"comment\"># [1],</span></span><br><span class=\"line\"><span class=\"comment\"># [4]</span></span><br><span class=\"line\"><span class=\"comment\"># ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å¤šè¡Œç­›é€‰</span></span><br><span class=\"line\"><span class=\"comment\"># ä¸å¤šåˆ—ç­›é€‰ç±»ä¼¼</span></span><br><span class=\"line\">arr = np.array([</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>],</span><br><span class=\"line\">[<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">10</span>,<span class=\"number\">11</span>]</span><br><span class=\"line\">])</span><br><span class=\"line\">\t<span class=\"comment\"># é€‰æ‹©æŸäº›è¡Œ</span></span><br><span class=\"line\">arr[[<span class=\"number\">0</span>,<span class=\"number\">1</span>]]</span><br><span class=\"line\"><span class=\"comment\"># [[</span></span><br><span class=\"line\"><span class=\"comment\"># [1,2,3,4],</span></span><br><span class=\"line\"><span class=\"comment\"># [4,5,6,7]</span></span><br><span class=\"line\"><span class=\"comment\"># ]]</span></span><br><span class=\"line\">\t<span class=\"comment\"># å…¶ä½™å°±ä¸åœ¨èµ˜è¿°ï¼Œå¯ä»¥å­—è¡Œæµ‹è¯•</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¡ä»¶ç­›é€‰\"><a href=\"#æ¡ä»¶ç­›é€‰\" class=\"headerlink\" title=\"æ¡ä»¶ç­›é€‰\"></a>æ¡ä»¶ç­›é€‰</h3><p>é€šè¿‡ä¸Šé¢çš„ä¸€äº›åŸºæœ¬çš„ç­›é€‰è§„åˆ™ï¼Œå¯ä»¥å¤§è‡´äº†è§£äº† numpy çš„ç­›é€‰åŸåˆ™äº†ï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹ä¸€ numpy æ¯”è¾ƒå¼ºå¤§çš„æ¡ä»¶ç­›é€‰å§ã€‚è€Œæ¡ä»¶ç­›é€‰å°±æ˜¯ä¾èµ– bool ç­›é€‰å®ç°çš„ã€‚</p>\n<h4 id=\"æ¡ä»¶ç­›é€‰è¡Œ\"><a href=\"#æ¡ä»¶ç­›é€‰è¡Œ\" class=\"headerlink\" title=\"æ¡ä»¶ç­›é€‰è¡Œ\"></a>æ¡ä»¶ç­›é€‰è¡Œ</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr = np.array([</span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>],</span><br><span class=\"line\">[<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>],</span><br><span class=\"line\">[<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">10</span>,<span class=\"number\">11</span>]</span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå¶æ•°çš„è¡Œ</span></span><br><span class=\"line\">arr[arr[:,<span class=\"number\">0</span>]%<span class=\"number\">2</span>==<span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"comment\"># [[ 4,  5,  6,  7],</span></span><br><span class=\"line\"><span class=\"comment\">#  [ 8,  9, 10, 11]]</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä¸Šé¢å‘ç”Ÿäº†ä»€ä¹ˆã€‚<br>é¦–å…ˆ: arr[:,0]x é€‰æ‹©é™¤äº†äºŒç»´æ•°ç»„çš„ç¬¬ä¸€åˆ—â€”â€“[1,4,8]<br>ç„¶å: arr[:,0]%2==0 å¾—åˆ°äº†ä¸€ä¸ª bool æ•°ç»„â€”â€“[False,True,True]<br>æœ€å arr[[False,True,True]],è¿™ä¸ªæ ·å­æ˜¯ä¸æ˜¯æœ‰ç‚¹ç†Ÿæ‚‰äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ bool ç­›é€‰ã€‚</p>\n<h4 id=\"æ¡ä»¶ç­›é€‰åˆ—\"><a href=\"#æ¡ä»¶ç­›é€‰åˆ—\" class=\"headerlink\" title=\"æ¡ä»¶ç­›é€‰åˆ—\"></a>æ¡ä»¶ç­›é€‰åˆ—</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¸è¡Œç­›é€‰ç±»ä¼¼</span></span><br><span class=\"line\">arr[:,arr[<span class=\"number\">1</span>]&gt;<span class=\"number\">5</span>] <span class=\"comment\"># é€‰æ‹©ç¬¬äºŒè¡Œä¸­å¤§äº5çš„åˆ—</span></span><br><span class=\"line\"><span class=\"comment\"># [[ 3,  4],</span></span><br><span class=\"line\"><span class=\"comment\">#  [ 6,  7],</span></span><br><span class=\"line\"><span class=\"comment\">#  [10, 11]]</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è¡Œåˆ—ä¸€èµ·é€‰æ‹©\"><a href=\"#è¡Œåˆ—ä¸€èµ·é€‰æ‹©\" class=\"headerlink\" title=\"è¡Œåˆ—ä¸€èµ·é€‰æ‹©\"></a>è¡Œåˆ—ä¸€èµ·é€‰æ‹©</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr[arr&gt;<span class=\"number\">5</span>] <span class=\"comment\"># é€‰æ‹©arrä¸­ï¼Œå¤§äº5çš„å…ƒç´ </span></span><br><span class=\"line\"><span class=\"comment\"># å…¶ä¸­arr&gt;5å¾—åˆ°ä¸€ä¸ªäºŒç»´çš„boolæ•°ç»„</span></span><br><span class=\"line\"><span class=\"comment\"># [[False, False, False, False],</span></span><br><span class=\"line\"><span class=\"comment\">#  [False, False,  True,  True],</span></span><br><span class=\"line\"><span class=\"comment\">#  [ True,  True,  True,  True]]</span></span><br><span class=\"line\"><span class=\"comment\"># æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</span></span><br><span class=\"line\"><span class=\"comment\"># [ 6,  7,  8,  9, 10, 11]</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ—-intï¼Œç¬¬äºŒåˆ—æ˜¯-strï¼Œè¿™æ ·å†ç”¨-arr-gt-5-å°±ä¼šå‡ºç°é”™è¯¯ã€‚\"><a href=\"#æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ—-intï¼Œç¬¬äºŒåˆ—æ˜¯-strï¼Œè¿™æ ·å†ç”¨-arr-gt-5-å°±ä¼šå‡ºç°é”™è¯¯ã€‚\" class=\"headerlink\" title=\"æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ— intï¼Œç¬¬äºŒåˆ—æ˜¯ strï¼Œè¿™æ ·å†ç”¨ arr&gt;5 å°±ä¼šå‡ºç°é”™è¯¯ã€‚\"></a>æ³¨æ„ï¼šåœ¨è¿›è¡Œè¡Œåˆ—ä¸€èµ·é€‰æ‹©æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å…ƒç´ ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦‚ç¬¬ä¸€åˆ— intï¼Œç¬¬äºŒåˆ—æ˜¯ strï¼Œè¿™æ ·å†ç”¨ arr&gt;5 å°±ä¼šå‡ºç°é”™è¯¯ã€‚</h5><h4 id=\"å¤šæ¡ä»¶é€‰æ‹©\"><a href=\"#å¤šæ¡ä»¶é€‰æ‹©\" class=\"headerlink\" title=\"å¤šæ¡ä»¶é€‰æ‹©\"></a>å¤šæ¡ä»¶é€‰æ‹©</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr[(arr&gt;<span class=\"number\">5</span>) &amp; (arr%<span class=\"number\">2</span>==<span class=\"number\">0</span>)] <span class=\"comment\"># é€‰æ‹©å¤§äº5ä¸”ä¸ºå¶æ•°çš„å…ƒç´ </span></span><br><span class=\"line\"><span class=\"comment\"># [ 6,  8, 10]</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨-æˆ–è€…-amp-ï¼Œä¸èƒ½ç”¨-and-or-è¿™æ ·ã€‚\"><a href=\"#æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨-æˆ–è€…-amp-ï¼Œä¸èƒ½ç”¨-and-or-è¿™æ ·ã€‚\" class=\"headerlink\" title=\"æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨ | æˆ–è€… &amp;ï¼Œä¸èƒ½ç”¨ and,or è¿™æ ·ã€‚\"></a>æ³¨æ„ï¼šå¤šæ¡ä»¶è¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œé€»è¾‘å…³ç³»ç”¨ | æˆ–è€… &amp;ï¼Œä¸èƒ½ç”¨ and,or è¿™æ ·ã€‚</h5>"},{"title":"reactäº‹ä»¶ç³»ç»Ÿ","date":"2022-05-01T15:06:13.000Z","_content":"\n## å¼€å§‹æ³¨å†Œäº‹ä»¶\n\n- è¿™é‡Œåªæ˜¯ç®€å•çš„è®¾ç½®ä¸€äº›å˜é‡å€¼ï¼Œè§ä¸‹é¢ä»£ç \n\n```typescript\n// æ³¨å†Œäº‹ä»¶\n// DOMPluginEventSystem.ts\nSimpleEventPlugin.registerEvents();\nEnterLeaveEventPlugin.registerEvents();\nChangeEventPlugin.registerEvents();\nSelectEventPlugin.registerEvents();\nBeforeInputEventPlugin.registerEvents();\n```\n\n```typescript\n\nallNativeEvent:Set<DOMEventName> = {'click','keyup','keydown',...};\n\nregistrationNameDependencies[\"onClick\"] = [\"click\"];\nregistrationNameDependencies['onMouseEnter'] = ['mouseout', 'mouseover']; //...\n\ntopLevelEventsToReactNames:Map<DOMEventName,string|null> = {\"click\":\"onClick\"};\n```\n\n<!-- more -->\n\n## å¤§è‡´æµç¨‹\n\n![flowchart](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202205062357.png)\n\n## listenToAllSupportedEvent\n\n- æ¥ä¸‹æ¥æ˜¯è®©rootå®¹å™¨ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶\n\néå§”æ‰˜äº‹ä»¶åªæœ‰æ•è·é˜¶æ®µã€‚\nè€Œå§”æ‰˜äº‹ä»¶æ•è·å†’æ³¡éƒ½ä¼šç»‘å®šã€‚\n\n```typescript\nallNativeEvents.forEach(domEventName => {\n  // æˆ‘ä»¬å•ç‹¬å¤„ç†selectionchangeæ›´æ”¹ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ï¼Œéœ€è¦å‡ºç°åœ¨documentä¸Š\n  if (domEventName !== 'selectionchange') {\n    if (!nonDelegatedEvents.has(domEventName)) {\n      // ä¸æ•è·\n      listenToNativeEvent(domEventName, false, rootContainerElement);\n    }\n    // nonDelegatedEventsäº‹ä»¶æ˜¯æ˜¯æ•è·é˜¶æ®µç›‘å¬å™¨\n    // delegatedEventsæ˜¯å†’æ³¡æ•è·éƒ½æœ‰\n    listenToNativeEvent(domEventName, true, rootContainerElement);\n  }\n});\n```\n\n**_æ³¨æ„ï¼š_**selectionChangeäº‹ä»¶æ˜¯ç›‘å¬åœ¨documentä¸Šçš„ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ã€‚\n\n## ç»‘å®šreactçš„listeneråˆ°root || documentä¸Š\n\nlistenToNativeEvent **-->** addTrappedEventListener **-->** listener = createEventListenerWrapperWithPriority\n\n## createEventListenerWrapperWithPriority\n\nè¿™é‡Œè¿›è¡Œåˆ›å»ºlistener,listeneræœ‰å¦‚ä¸‹å‡ ç§ï¼š\n\n```typescript\nfunction createEventListenerWrapperWithPriority(\n  targetContainer: EventTarget,\n  domEventName: DOMEventName,\n  eventSystemFlags: EventSystemFlags,\n): Function {\n  const eventPriority = getEventPriority(domEventName);\n  let listenerWrapper;\n  switch (eventPriority) {\n    // ä¸€èˆ¬äº‹ä»¶éƒ½æ˜¯DiscreteEventPriority\n    case DiscreteEventPriority:\n      listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case ContinuousEventPriority:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    case DefaultEventPriority:\n    default:\n      listenerWrapper = dispatchEvent;\n      break;\n  }\n  return listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer,\n  );\n}\n```\n\nè¿™ä¸‰ç§listenerå­˜åœ¨ä¸€ä¸ªä¼˜å…ˆçº§çš„å·®åˆ«ã€‚\næœ€ç»ˆéƒ½ä¼šè°ƒç”¨dispatchEvent.\n\n## dispatchEvent\n\n- è¿™æ˜¯reactè¿›è¡Œè§¦å‘äº‹ä»¶ç›‘å¬å‡½æ•°çš„åœ°æ–¹ï¼Œè¿™é‡Œçš„listeneræ˜¯ç»‘å®šåˆ°ç»„ä»¶propsä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚\n\né¦–å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯allowReplayäº‹ä»¶ï¼š\n\n```typescript\n  const allowReplay = (eventSystemFlags & IS_CAPTURE_PHASE) === 0;\n  // eventSystemFlags captureæ—¶ç­‰äº4,bubbleæ—¶ç­‰äº0\n  // capture & 4 = 4; bubble & 4 = 0\n  // IS_CAPTURE_PHASE = 4\n```\n\nç„¶åæ˜¯å…ˆå»å°è¯•è°ƒåº¦äº‹ä»¶,åˆ¤å®šæ˜¯å¦ä¼šblockOnï¼š\n\n```typescript\n  const blockedOn = attemptToDispatchEvent(\n    domEventName,\n    eventSystemFlags,\n    targetContainer,\n    nativeEvent,\n  );\n```\n\n## attemptToDispatchEvent\n\n1. å…ˆæ˜¯è·å–çœŸæ­£çš„äº‹ä»¶è§¦å‘å…ƒç´ ï¼še.targeï¼Œè¿™é‡Œç§°ä¸ºnativeEventTarget\n2. è·å–nativeEventTargetä¸Šçš„Fiber,å³\"__reactFiber${Random...}\"å±æ€§ã€‚è¿™é‡Œæ˜¯targetInst.\n3. å¤„ç†è®©targetInstä¸ºnullçš„æƒ…å†µã€‚\n    1. èŠ‚ç‚¹è¢«unmounted,å³ä¸èƒ½é€šè¿‡returnå±æ€§åˆ°è¾¾æ ¹èŠ‚ç‚¹ã€‚\n    2. å¦‚æœæœ€è¿‘çš„mountedæ˜¯SuspenseCompnent | HostRoot | æœ€è¿‘çš„mountedFiber  !== targetInst\n\næ¥ä¸‹æ¥è¿›å…¥çœŸæ­£çš„äº‹ä»¶è°ƒåº¦å‡½æ•°ã€‚\n\n## dispatchEventForPluginEventSystem\n\n- åœ¨è¿™é‡Œé¢ï¼Œä¼šæœ‰ä¸€ä¸ªmainLoop,å»å¯»æ‰¾ä¸€ä¸ªrootèŠ‚ç‚¹ï¼Œå› ä¸ºåœ¨rootèŠ‚ç‚¹ä¸Šï¼Œä¼šç»‘å®šä¸€äº›äº‹ä»¶ã€‚\n- éå†çš„æ–¹å¼æ˜¯ä»å½“å‰èŠ‚ç‚¹ä¸€ç›´å¾€ä¸Šï¼ˆreturnï¼‰.\n- æœ€åbatchedEventUpdates ---> dispatchEventsForPlugins\n\n```typescript\n// DOMPluginEventSystem\nfunction dispatchEventForPluginEventSystem(\n  domEventName: DOMEventName,\n  eventSystemFlags: EventSystemFlags,\n  nativeEvent: AnyNativeEvent,\n  targetInst: null | Fiber, // è§¦å‘äº‹ä»¶çš„Fiber\n  targetContainer: EventTarget, // root\n): void {\n  let ancestorInst = targetInst;\n  if (\n    (eventSystemFlags & IS_EVENT_HANDLE_NON_MANAGED_NODE) === 0 &&\n    (eventSystemFlags & IS_NON_DELEGATED) === 0\n  ) {\n    const targetContainerNode = targetContainer as Node;\n\n    if (targetInst !== null) {\n\n      let node = targetInst;\n      mainLoop: while (true) {\n        // ...æœç´¢root container\n      }\n    }\n  }\n\n  batchedEventUpdates(() =>\n  // è¿›å…¥åˆæˆäº‹ä»¶ç³»ç»Ÿ\n    dispatchEventsForPlugins(\n      domEventName,\n      eventSystemFlags,\n      nativeEvent,\n      ancestorInst,\n      targetContainer,\n    ),\n  );\n}\n```\n\n## dispatchEventsForPlugins\n\n- å°†nativeEventè½¬æ¢æˆsynthesizeEvent,å¹¶åŠ å…¥dispatchQueueï¼Œæœ€ç»ˆprocessDispatchQueueã€‚\n\n_extractEvents:_\n\n  > åˆ›å»ºDispatchEntry:{event:listeners}ï¼Œå¹¶æ·»åŠ åˆ°dispatchQueue\n\n  1. å·¥å‚æ¨¡å¼ç¡®å®šSyntheticEventCtor\n  2. accumulateSinglePhaseListenersä»targetåˆ°rootéå†ï¼Œè·å–ç»‘å®šåˆ°propsçš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå·±æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°åˆ°listenersæ•°ç»„é‡Œå¹¶è¿”å›ã€‚\n  3. dispatchQueue.push({event,listeners})\n  è¿™é‡Œeventä¹Ÿå°±æ˜¯synthesizeEventå¯¹è±¡ï¼Œå³åœ¨äº‹ä»¶ç»‘å®šåçš„å›è°ƒå‡½æ•°çš„é»˜è®¤å‚æ•°event.\n\n_processDispatchQueue:_\n\n> éå†dispatchQueue,å¤„ç†æ¯ä¸ªäº‹ä»¶çš„listenersæ•°ç»„\n\n```typescript\n/**\n * è°ƒç”¨processDispatchQueueItemsInOrderï¼Œæ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°\n * @param {Array<{\n * event: ReactSyntheticEvent,\n * listeners: Array<{\n * instance: null | Fiber,\n * listener: Function,\n * currentTarget: EventTarget,\n * }>}} dispatchQueue\n * @param {EventSystemFlags} eventSystemFlags\n */\nexport function processDispatchQueue(\n  dispatchQueue: DispatchQueue,\n  eventSystemFlags: EventSystemFlags,\n): void {\n  const inCapturePhase = (eventSystemFlags & IS_CAPTURE_PHASE) !== 0;\n  for (let i = 0; i < dispatchQueue.length; i++) {\n    // { event: ReactSyntheticEvent,listeners: Array < DispatchListener >};\n    const { event, listeners } = dispatchQueue[i];\n\n    processDispatchQueueItemsInOrder(event, listeners, inCapturePhase);\n    //  event system doesn't use pooling.\n    // äº‹ä»¶ç³»ç»Ÿä¸ä½¿ç”¨æ± ã€‚\n  }\n  // This would be a good time to rethrow if any of the event handlers threw.\n  rethrowCaughtError();\n}\n```\n\n- processDispatchQueueItemsInOrder\n\n> æ ¹æ®inCapturePhaseåˆ¤å®šæ˜¯captureè¿˜æ˜¯bubble,\n\n```typescript\n    /**\n * æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ï¼Œæ ¹æ®æ˜¯å¦æ•è·ç¡®å®šäº‹ä»¶çš„æ‰§è¡Œé¡ºåº\n * []dispatchListeners\n * æ•è·ï¼šé‡æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ª\n * å†’æ³¡ï¼šé‡0åˆ°æœ€åä¸€ä¸ª\n * @param {ReactSyntheticEvent} event\n * @param {Array<DispatchListener>} dispatchListeners\n * @param {boolean} inCapturePhase\n * @returns\n */\nfunction processDispatchQueueItemsInOrder(\n  event: ReactSyntheticEvent,\n  dispatchListeners: Array<DispatchListener>,\n  inCapturePhase: boolean,\n): void {\n  let previousInstance;\n  // æ•è·\n  // å› ä¸ºæ·»åŠ dispatcheræ—¶æ˜¯ä»å½“å‰ç„¶åreturnåˆ°null,æ‰€ä»¥æ•è·æ˜¯å€’è¿‡æ¥çš„è¿è¡Œ\n  if (inCapturePhase) {\n    for (let i = dispatchListeners.length - 1; i >= 0; i--) {\n      // { instance: null | Fiber,listener: Function,currentTarget: EventTarget};\n      const { instance, currentTarget, listener } = dispatchListeners[i];\n\n      // é˜»æ­¢å†’æ³¡stopPropagation\n      if (instance !== previousInstance && event.isPropagationStopped()) {\n        return;\n      }\n      executeDispatch(event, listener, currentTarget);\n      previousInstance = instance;\n    }\n  } else {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      const { instance, currentTarget, listener } = dispatchListeners[i];\n      if (instance !== previousInstance && event.isPropagationStopped()) {\n        return;\n      }\n      executeDispatch(event, listener, currentTarget);\n      previousInstance = instance;\n    }\n  }\n}\n```\n\n## executeDispatch\n\n- æœ€ç»ˆè°ƒç”¨ç”¨æˆ·çš„å¤„ç†å‡½æ•°,å…¶ä¸­åŒ…å«ä¸€äº›reactçš„invokeå‡½æ•°ï¼Œä»¥åŠä¸€äº›åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„createEventäº‹ä»¶ã€‚\n\n> æœ¬æ–‡è¿˜æœ‰è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°ï¼Œåªæ˜¯å¤§è‡´è¯´æ˜äº†äº‹ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªæµç¨‹\n\n## æœªå®Œå¾…ç»­\n","source":"_posts/reactåˆæˆäº‹ä»¶.md","raw":"---\ntitle: reactäº‹ä»¶ç³»ç»Ÿ\ndate: 2022-05-01 23:06:13\ntags:\ncategories: react\n---\n\n## å¼€å§‹æ³¨å†Œäº‹ä»¶\n\n- è¿™é‡Œåªæ˜¯ç®€å•çš„è®¾ç½®ä¸€äº›å˜é‡å€¼ï¼Œè§ä¸‹é¢ä»£ç \n\n```typescript\n// æ³¨å†Œäº‹ä»¶\n// DOMPluginEventSystem.ts\nSimpleEventPlugin.registerEvents();\nEnterLeaveEventPlugin.registerEvents();\nChangeEventPlugin.registerEvents();\nSelectEventPlugin.registerEvents();\nBeforeInputEventPlugin.registerEvents();\n```\n\n```typescript\n\nallNativeEvent:Set<DOMEventName> = {'click','keyup','keydown',...};\n\nregistrationNameDependencies[\"onClick\"] = [\"click\"];\nregistrationNameDependencies['onMouseEnter'] = ['mouseout', 'mouseover']; //...\n\ntopLevelEventsToReactNames:Map<DOMEventName,string|null> = {\"click\":\"onClick\"};\n```\n\n<!-- more -->\n\n## å¤§è‡´æµç¨‹\n\n![flowchart](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202205062357.png)\n\n## listenToAllSupportedEvent\n\n- æ¥ä¸‹æ¥æ˜¯è®©rootå®¹å™¨ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶\n\néå§”æ‰˜äº‹ä»¶åªæœ‰æ•è·é˜¶æ®µã€‚\nè€Œå§”æ‰˜äº‹ä»¶æ•è·å†’æ³¡éƒ½ä¼šç»‘å®šã€‚\n\n```typescript\nallNativeEvents.forEach(domEventName => {\n  // æˆ‘ä»¬å•ç‹¬å¤„ç†selectionchangeæ›´æ”¹ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ï¼Œéœ€è¦å‡ºç°åœ¨documentä¸Š\n  if (domEventName !== 'selectionchange') {\n    if (!nonDelegatedEvents.has(domEventName)) {\n      // ä¸æ•è·\n      listenToNativeEvent(domEventName, false, rootContainerElement);\n    }\n    // nonDelegatedEventsäº‹ä»¶æ˜¯æ˜¯æ•è·é˜¶æ®µç›‘å¬å™¨\n    // delegatedEventsæ˜¯å†’æ³¡æ•è·éƒ½æœ‰\n    listenToNativeEvent(domEventName, true, rootContainerElement);\n  }\n});\n```\n\n**_æ³¨æ„ï¼š_**selectionChangeäº‹ä»¶æ˜¯ç›‘å¬åœ¨documentä¸Šçš„ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ã€‚\n\n## ç»‘å®šreactçš„listeneråˆ°root || documentä¸Š\n\nlistenToNativeEvent **-->** addTrappedEventListener **-->** listener = createEventListenerWrapperWithPriority\n\n## createEventListenerWrapperWithPriority\n\nè¿™é‡Œè¿›è¡Œåˆ›å»ºlistener,listeneræœ‰å¦‚ä¸‹å‡ ç§ï¼š\n\n```typescript\nfunction createEventListenerWrapperWithPriority(\n  targetContainer: EventTarget,\n  domEventName: DOMEventName,\n  eventSystemFlags: EventSystemFlags,\n): Function {\n  const eventPriority = getEventPriority(domEventName);\n  let listenerWrapper;\n  switch (eventPriority) {\n    // ä¸€èˆ¬äº‹ä»¶éƒ½æ˜¯DiscreteEventPriority\n    case DiscreteEventPriority:\n      listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case ContinuousEventPriority:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    case DefaultEventPriority:\n    default:\n      listenerWrapper = dispatchEvent;\n      break;\n  }\n  return listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer,\n  );\n}\n```\n\nè¿™ä¸‰ç§listenerå­˜åœ¨ä¸€ä¸ªä¼˜å…ˆçº§çš„å·®åˆ«ã€‚\næœ€ç»ˆéƒ½ä¼šè°ƒç”¨dispatchEvent.\n\n## dispatchEvent\n\n- è¿™æ˜¯reactè¿›è¡Œè§¦å‘äº‹ä»¶ç›‘å¬å‡½æ•°çš„åœ°æ–¹ï¼Œè¿™é‡Œçš„listeneræ˜¯ç»‘å®šåˆ°ç»„ä»¶propsä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚\n\né¦–å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯allowReplayäº‹ä»¶ï¼š\n\n```typescript\n  const allowReplay = (eventSystemFlags & IS_CAPTURE_PHASE) === 0;\n  // eventSystemFlags captureæ—¶ç­‰äº4,bubbleæ—¶ç­‰äº0\n  // capture & 4 = 4; bubble & 4 = 0\n  // IS_CAPTURE_PHASE = 4\n```\n\nç„¶åæ˜¯å…ˆå»å°è¯•è°ƒåº¦äº‹ä»¶,åˆ¤å®šæ˜¯å¦ä¼šblockOnï¼š\n\n```typescript\n  const blockedOn = attemptToDispatchEvent(\n    domEventName,\n    eventSystemFlags,\n    targetContainer,\n    nativeEvent,\n  );\n```\n\n## attemptToDispatchEvent\n\n1. å…ˆæ˜¯è·å–çœŸæ­£çš„äº‹ä»¶è§¦å‘å…ƒç´ ï¼še.targeï¼Œè¿™é‡Œç§°ä¸ºnativeEventTarget\n2. è·å–nativeEventTargetä¸Šçš„Fiber,å³\"__reactFiber${Random...}\"å±æ€§ã€‚è¿™é‡Œæ˜¯targetInst.\n3. å¤„ç†è®©targetInstä¸ºnullçš„æƒ…å†µã€‚\n    1. èŠ‚ç‚¹è¢«unmounted,å³ä¸èƒ½é€šè¿‡returnå±æ€§åˆ°è¾¾æ ¹èŠ‚ç‚¹ã€‚\n    2. å¦‚æœæœ€è¿‘çš„mountedæ˜¯SuspenseCompnent | HostRoot | æœ€è¿‘çš„mountedFiber  !== targetInst\n\næ¥ä¸‹æ¥è¿›å…¥çœŸæ­£çš„äº‹ä»¶è°ƒåº¦å‡½æ•°ã€‚\n\n## dispatchEventForPluginEventSystem\n\n- åœ¨è¿™é‡Œé¢ï¼Œä¼šæœ‰ä¸€ä¸ªmainLoop,å»å¯»æ‰¾ä¸€ä¸ªrootèŠ‚ç‚¹ï¼Œå› ä¸ºåœ¨rootèŠ‚ç‚¹ä¸Šï¼Œä¼šç»‘å®šä¸€äº›äº‹ä»¶ã€‚\n- éå†çš„æ–¹å¼æ˜¯ä»å½“å‰èŠ‚ç‚¹ä¸€ç›´å¾€ä¸Šï¼ˆreturnï¼‰.\n- æœ€åbatchedEventUpdates ---> dispatchEventsForPlugins\n\n```typescript\n// DOMPluginEventSystem\nfunction dispatchEventForPluginEventSystem(\n  domEventName: DOMEventName,\n  eventSystemFlags: EventSystemFlags,\n  nativeEvent: AnyNativeEvent,\n  targetInst: null | Fiber, // è§¦å‘äº‹ä»¶çš„Fiber\n  targetContainer: EventTarget, // root\n): void {\n  let ancestorInst = targetInst;\n  if (\n    (eventSystemFlags & IS_EVENT_HANDLE_NON_MANAGED_NODE) === 0 &&\n    (eventSystemFlags & IS_NON_DELEGATED) === 0\n  ) {\n    const targetContainerNode = targetContainer as Node;\n\n    if (targetInst !== null) {\n\n      let node = targetInst;\n      mainLoop: while (true) {\n        // ...æœç´¢root container\n      }\n    }\n  }\n\n  batchedEventUpdates(() =>\n  // è¿›å…¥åˆæˆäº‹ä»¶ç³»ç»Ÿ\n    dispatchEventsForPlugins(\n      domEventName,\n      eventSystemFlags,\n      nativeEvent,\n      ancestorInst,\n      targetContainer,\n    ),\n  );\n}\n```\n\n## dispatchEventsForPlugins\n\n- å°†nativeEventè½¬æ¢æˆsynthesizeEvent,å¹¶åŠ å…¥dispatchQueueï¼Œæœ€ç»ˆprocessDispatchQueueã€‚\n\n_extractEvents:_\n\n  > åˆ›å»ºDispatchEntry:{event:listeners}ï¼Œå¹¶æ·»åŠ åˆ°dispatchQueue\n\n  1. å·¥å‚æ¨¡å¼ç¡®å®šSyntheticEventCtor\n  2. accumulateSinglePhaseListenersä»targetåˆ°rootéå†ï¼Œè·å–ç»‘å®šåˆ°propsçš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå·±æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°åˆ°listenersæ•°ç»„é‡Œå¹¶è¿”å›ã€‚\n  3. dispatchQueue.push({event,listeners})\n  è¿™é‡Œeventä¹Ÿå°±æ˜¯synthesizeEventå¯¹è±¡ï¼Œå³åœ¨äº‹ä»¶ç»‘å®šåçš„å›è°ƒå‡½æ•°çš„é»˜è®¤å‚æ•°event.\n\n_processDispatchQueue:_\n\n> éå†dispatchQueue,å¤„ç†æ¯ä¸ªäº‹ä»¶çš„listenersæ•°ç»„\n\n```typescript\n/**\n * è°ƒç”¨processDispatchQueueItemsInOrderï¼Œæ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°\n * @param {Array<{\n * event: ReactSyntheticEvent,\n * listeners: Array<{\n * instance: null | Fiber,\n * listener: Function,\n * currentTarget: EventTarget,\n * }>}} dispatchQueue\n * @param {EventSystemFlags} eventSystemFlags\n */\nexport function processDispatchQueue(\n  dispatchQueue: DispatchQueue,\n  eventSystemFlags: EventSystemFlags,\n): void {\n  const inCapturePhase = (eventSystemFlags & IS_CAPTURE_PHASE) !== 0;\n  for (let i = 0; i < dispatchQueue.length; i++) {\n    // { event: ReactSyntheticEvent,listeners: Array < DispatchListener >};\n    const { event, listeners } = dispatchQueue[i];\n\n    processDispatchQueueItemsInOrder(event, listeners, inCapturePhase);\n    //  event system doesn't use pooling.\n    // äº‹ä»¶ç³»ç»Ÿä¸ä½¿ç”¨æ± ã€‚\n  }\n  // This would be a good time to rethrow if any of the event handlers threw.\n  rethrowCaughtError();\n}\n```\n\n- processDispatchQueueItemsInOrder\n\n> æ ¹æ®inCapturePhaseåˆ¤å®šæ˜¯captureè¿˜æ˜¯bubble,\n\n```typescript\n    /**\n * æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ï¼Œæ ¹æ®æ˜¯å¦æ•è·ç¡®å®šäº‹ä»¶çš„æ‰§è¡Œé¡ºåº\n * []dispatchListeners\n * æ•è·ï¼šé‡æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ª\n * å†’æ³¡ï¼šé‡0åˆ°æœ€åä¸€ä¸ª\n * @param {ReactSyntheticEvent} event\n * @param {Array<DispatchListener>} dispatchListeners\n * @param {boolean} inCapturePhase\n * @returns\n */\nfunction processDispatchQueueItemsInOrder(\n  event: ReactSyntheticEvent,\n  dispatchListeners: Array<DispatchListener>,\n  inCapturePhase: boolean,\n): void {\n  let previousInstance;\n  // æ•è·\n  // å› ä¸ºæ·»åŠ dispatcheræ—¶æ˜¯ä»å½“å‰ç„¶åreturnåˆ°null,æ‰€ä»¥æ•è·æ˜¯å€’è¿‡æ¥çš„è¿è¡Œ\n  if (inCapturePhase) {\n    for (let i = dispatchListeners.length - 1; i >= 0; i--) {\n      // { instance: null | Fiber,listener: Function,currentTarget: EventTarget};\n      const { instance, currentTarget, listener } = dispatchListeners[i];\n\n      // é˜»æ­¢å†’æ³¡stopPropagation\n      if (instance !== previousInstance && event.isPropagationStopped()) {\n        return;\n      }\n      executeDispatch(event, listener, currentTarget);\n      previousInstance = instance;\n    }\n  } else {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      const { instance, currentTarget, listener } = dispatchListeners[i];\n      if (instance !== previousInstance && event.isPropagationStopped()) {\n        return;\n      }\n      executeDispatch(event, listener, currentTarget);\n      previousInstance = instance;\n    }\n  }\n}\n```\n\n## executeDispatch\n\n- æœ€ç»ˆè°ƒç”¨ç”¨æˆ·çš„å¤„ç†å‡½æ•°,å…¶ä¸­åŒ…å«ä¸€äº›reactçš„invokeå‡½æ•°ï¼Œä»¥åŠä¸€äº›åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„createEventäº‹ä»¶ã€‚\n\n> æœ¬æ–‡è¿˜æœ‰è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°ï¼Œåªæ˜¯å¤§è‡´è¯´æ˜äº†äº‹ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªæµç¨‹\n\n## æœªå®Œå¾…ç»­\n","slug":"reactåˆæˆäº‹ä»¶","published":1,"updated":"2022-12-31T10:26:33.588Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsu000i3kv7gnd1f8qh","content":"<h2 id=\"å¼€å§‹æ³¨å†Œäº‹ä»¶\"><a href=\"#å¼€å§‹æ³¨å†Œäº‹ä»¶\" class=\"headerlink\" title=\"å¼€å§‹æ³¨å†Œäº‹ä»¶\"></a>å¼€å§‹æ³¨å†Œäº‹ä»¶</h2><ul>\n<li>è¿™é‡Œåªæ˜¯ç®€å•çš„è®¾ç½®ä¸€äº›å˜é‡å€¼ï¼Œè§ä¸‹é¢ä»£ç </li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ³¨å†Œäº‹ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">// DOMPluginEventSystem.ts</span></span><br><span class=\"line\">SimpleEventPlugin.registerEvents();</span><br><span class=\"line\">EnterLeaveEventPlugin.registerEvents();</span><br><span class=\"line\">ChangeEventPlugin.registerEvents();</span><br><span class=\"line\">SelectEventPlugin.registerEvents();</span><br><span class=\"line\">BeforeInputEventPlugin.registerEvents();</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">allNativeEvent</span>:<span class=\"built_in\">Set</span>&lt;DOMEventName&gt; = &#123;<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"string\">&#x27;keyup&#x27;</span>,<span class=\"string\">&#x27;keydown&#x27;</span>,...&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">registrationNameDependencies[<span class=\"string\">&quot;onClick&quot;</span>] = [<span class=\"string\">&quot;click&quot;</span>];</span><br><span class=\"line\">registrationNameDependencies[<span class=\"string\">&#x27;onMouseEnter&#x27;</span>] = [<span class=\"string\">&#x27;mouseout&#x27;</span>, <span class=\"string\">&#x27;mouseover&#x27;</span>]; <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">topLevelEventsToReactNames:<span class=\"built_in\">Map</span>&lt;DOMEventName,<span class=\"built_in\">string</span>|<span class=\"literal\">null</span>&gt; = &#123;<span class=\"string\">&quot;click&quot;</span>:<span class=\"string\">&quot;onClick&quot;</span>&#125;;</span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<h2 id=\"å¤§è‡´æµç¨‹\"><a href=\"#å¤§è‡´æµç¨‹\" class=\"headerlink\" title=\"å¤§è‡´æµç¨‹\"></a>å¤§è‡´æµç¨‹</h2><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202205062357.png\" alt=\"flowchart\"></p>\n<h2 id=\"listenToAllSupportedEvent\"><a href=\"#listenToAllSupportedEvent\" class=\"headerlink\" title=\"listenToAllSupportedEvent\"></a>listenToAllSupportedEvent</h2><ul>\n<li>æ¥ä¸‹æ¥æ˜¯è®©rootå®¹å™¨ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶</li>\n</ul>\n<p>éå§”æ‰˜äº‹ä»¶åªæœ‰æ•è·é˜¶æ®µã€‚<br>è€Œå§”æ‰˜äº‹ä»¶æ•è·å†’æ³¡éƒ½ä¼šç»‘å®šã€‚</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">allNativeEvents.forEach(<span class=\"function\"><span class=\"params\">domEventName</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// æˆ‘ä»¬å•ç‹¬å¤„ç†selectionchangeæ›´æ”¹ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ï¼Œéœ€è¦å‡ºç°åœ¨documentä¸Š</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (domEventName !== <span class=\"string\">&#x27;selectionchange&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!nonDelegatedEvents.has(domEventName)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ä¸æ•è·</span></span><br><span class=\"line\">      listenToNativeEvent(domEventName, <span class=\"literal\">false</span>, rootContainerElement);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// nonDelegatedEventsäº‹ä»¶æ˜¯æ˜¯æ•è·é˜¶æ®µç›‘å¬å™¨</span></span><br><span class=\"line\">    <span class=\"comment\">// delegatedEventsæ˜¯å†’æ³¡æ•è·éƒ½æœ‰</span></span><br><span class=\"line\">    listenToNativeEvent(domEventName, <span class=\"literal\">true</span>, rootContainerElement);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>**<em>æ³¨æ„ï¼š</em>**selectionChangeäº‹ä»¶æ˜¯ç›‘å¬åœ¨documentä¸Šçš„ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ã€‚</p>\n<h2 id=\"ç»‘å®šreactçš„listeneråˆ°root-documentä¸Š\"><a href=\"#ç»‘å®šreactçš„listeneråˆ°root-documentä¸Š\" class=\"headerlink\" title=\"ç»‘å®šreactçš„listeneråˆ°root || documentä¸Š\"></a>ç»‘å®šreactçš„listeneråˆ°root || documentä¸Š</h2><p>listenToNativeEvent <strong>â€“&gt;</strong> addTrappedEventListener <strong>â€“&gt;</strong> listener = createEventListenerWrapperWithPriority</p>\n<h2 id=\"createEventListenerWrapperWithPriority\"><a href=\"#createEventListenerWrapperWithPriority\" class=\"headerlink\" title=\"createEventListenerWrapperWithPriority\"></a>createEventListenerWrapperWithPriority</h2><p>è¿™é‡Œè¿›è¡Œåˆ›å»ºlistener,listeneræœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createEventListenerWrapperWithPriority</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  targetContainer: EventTarget,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  domEventName: DOMEventName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  eventSystemFlags: EventSystemFlags,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">Function</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> eventPriority = getEventPriority(domEventName);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> listenerWrapper;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (eventPriority) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ä¸€èˆ¬äº‹ä»¶éƒ½æ˜¯DiscreteEventPriority</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> DiscreteEventPriority:</span><br><span class=\"line\">      listenerWrapper = dispatchDiscreteEvent;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> ContinuousEventPriority:</span><br><span class=\"line\">      listenerWrapper = dispatchContinuousEvent;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> DefaultEventPriority:</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      listenerWrapper = dispatchEvent;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> listenerWrapper.bind(</span><br><span class=\"line\">    <span class=\"literal\">null</span>,</span><br><span class=\"line\">    domEventName,</span><br><span class=\"line\">    eventSystemFlags,</span><br><span class=\"line\">    targetContainer,</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸‰ç§listenerå­˜åœ¨ä¸€ä¸ªä¼˜å…ˆçº§çš„å·®åˆ«ã€‚<br>æœ€ç»ˆéƒ½ä¼šè°ƒç”¨dispatchEvent.</p>\n<h2 id=\"dispatchEvent\"><a href=\"#dispatchEvent\" class=\"headerlink\" title=\"dispatchEvent\"></a>dispatchEvent</h2><ul>\n<li>è¿™æ˜¯reactè¿›è¡Œè§¦å‘äº‹ä»¶ç›‘å¬å‡½æ•°çš„åœ°æ–¹ï¼Œè¿™é‡Œçš„listeneræ˜¯ç»‘å®šåˆ°ç»„ä»¶propsä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</li>\n</ul>\n<p>é¦–å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯allowReplayäº‹ä»¶ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> allowReplay = (eventSystemFlags &amp; IS_CAPTURE_PHASE) === <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">// eventSystemFlags captureæ—¶ç­‰äº4,bubbleæ—¶ç­‰äº0</span></span><br><span class=\"line\"><span class=\"comment\">// capture &amp; 4 = 4; bubble &amp; 4 = 0</span></span><br><span class=\"line\"><span class=\"comment\">// IS_CAPTURE_PHASE = 4</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæ˜¯å…ˆå»å°è¯•è°ƒåº¦äº‹ä»¶,åˆ¤å®šæ˜¯å¦ä¼šblockOnï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> blockedOn = attemptToDispatchEvent(</span><br><span class=\"line\">  domEventName,</span><br><span class=\"line\">  eventSystemFlags,</span><br><span class=\"line\">  targetContainer,</span><br><span class=\"line\">  nativeEvent,</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"attemptToDispatchEvent\"><a href=\"#attemptToDispatchEvent\" class=\"headerlink\" title=\"attemptToDispatchEvent\"></a>attemptToDispatchEvent</h2><ol>\n<li>å…ˆæ˜¯è·å–çœŸæ­£çš„äº‹ä»¶è§¦å‘å…ƒç´ ï¼še.targeï¼Œè¿™é‡Œç§°ä¸ºnativeEventTarget</li>\n<li>è·å–nativeEventTargetä¸Šçš„Fiber,å³â€__reactFiber${Randomâ€¦}â€å±æ€§ã€‚è¿™é‡Œæ˜¯targetInst.</li>\n<li>å¤„ç†è®©targetInstä¸ºnullçš„æƒ…å†µã€‚<ol>\n<li>èŠ‚ç‚¹è¢«unmounted,å³ä¸èƒ½é€šè¿‡returnå±æ€§åˆ°è¾¾æ ¹èŠ‚ç‚¹ã€‚</li>\n<li>å¦‚æœæœ€è¿‘çš„mountedæ˜¯SuspenseCompnent | HostRoot | æœ€è¿‘çš„mountedFiber  !== targetInst</li>\n</ol>\n</li>\n</ol>\n<p>æ¥ä¸‹æ¥è¿›å…¥çœŸæ­£çš„äº‹ä»¶è°ƒåº¦å‡½æ•°ã€‚</p>\n<h2 id=\"dispatchEventForPluginEventSystem\"><a href=\"#dispatchEventForPluginEventSystem\" class=\"headerlink\" title=\"dispatchEventForPluginEventSystem\"></a>dispatchEventForPluginEventSystem</h2><ul>\n<li>åœ¨è¿™é‡Œé¢ï¼Œä¼šæœ‰ä¸€ä¸ªmainLoop,å»å¯»æ‰¾ä¸€ä¸ªrootèŠ‚ç‚¹ï¼Œå› ä¸ºåœ¨rootèŠ‚ç‚¹ä¸Šï¼Œä¼šç»‘å®šä¸€äº›äº‹ä»¶ã€‚</li>\n<li>éå†çš„æ–¹å¼æ˜¯ä»å½“å‰èŠ‚ç‚¹ä¸€ç›´å¾€ä¸Šï¼ˆreturnï¼‰.</li>\n<li>æœ€åbatchedEventUpdates â€”&gt; dispatchEventsForPlugins</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOMPluginEventSystem</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dispatchEventForPluginEventSystem</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  domEventName: DOMEventName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  eventSystemFlags: EventSystemFlags,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  nativeEvent: AnyNativeEvent,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  targetInst: <span class=\"literal\">null</span> | Fiber, <span class=\"comment\">// è§¦å‘äº‹ä»¶çš„Fiber</span></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  targetContainer: EventTarget, <span class=\"comment\">// root</span></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ancestorInst = targetInst;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    (eventSystemFlags &amp; IS_EVENT_HANDLE_NON_MANAGED_NODE) === <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">    (eventSystemFlags &amp; IS_NON_DELEGATED) === <span class=\"number\">0</span></span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> targetContainerNode = targetContainer <span class=\"keyword\">as</span> Node;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (targetInst !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">let</span> node = targetInst;</span><br><span class=\"line\">      mainLoop: <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ...æœç´¢root container</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  batchedEventUpdates(<span class=\"function\">() =&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">// è¿›å…¥åˆæˆäº‹ä»¶ç³»ç»Ÿ</span></span><br><span class=\"line\">    dispatchEventsForPlugins(</span><br><span class=\"line\">      domEventName,</span><br><span class=\"line\">      eventSystemFlags,</span><br><span class=\"line\">      nativeEvent,</span><br><span class=\"line\">      ancestorInst,</span><br><span class=\"line\">      targetContainer,</span><br><span class=\"line\">    ),</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"dispatchEventsForPlugins\"><a href=\"#dispatchEventsForPlugins\" class=\"headerlink\" title=\"dispatchEventsForPlugins\"></a>dispatchEventsForPlugins</h2><ul>\n<li>å°†nativeEventè½¬æ¢æˆsynthesizeEvent,å¹¶åŠ å…¥dispatchQueueï¼Œæœ€ç»ˆprocessDispatchQueueã€‚</li>\n</ul>\n<p><em>extractEvents:</em></p>\n<blockquote>\n<p>åˆ›å»ºDispatchEntry:{event:listeners}ï¼Œå¹¶æ·»åŠ åˆ°dispatchQueue</p>\n</blockquote>\n<ol>\n<li>å·¥å‚æ¨¡å¼ç¡®å®šSyntheticEventCtor</li>\n<li>accumulateSinglePhaseListenersä»targetåˆ°rootéå†ï¼Œè·å–ç»‘å®šåˆ°propsçš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå·±æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°åˆ°listenersæ•°ç»„é‡Œå¹¶è¿”å›ã€‚</li>\n<li>dispatchQueue.push({event,listeners})<br>è¿™é‡Œeventä¹Ÿå°±æ˜¯synthesizeEventå¯¹è±¡ï¼Œå³åœ¨äº‹ä»¶ç»‘å®šåçš„å›è°ƒå‡½æ•°çš„é»˜è®¤å‚æ•°event.</li>\n</ol>\n<p><em>processDispatchQueue:</em></p>\n<blockquote>\n<p>éå†dispatchQueue,å¤„ç†æ¯ä¸ªäº‹ä»¶çš„listenersæ•°ç»„</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * è°ƒç”¨processDispatchQueueItemsInOrderï¼Œæ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Array&lt;&#123;</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * event: ReactSyntheticEvent,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * listeners: Array&lt;&#123;</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * instance: null | Fiber,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * listener: Function,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * currentTarget: EventTarget,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * &#125;</span></span>&gt;&#125;&#125; dispatchQueue</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;EventSystemFlags&#125;</span> <span class=\"variable\">eventSystemFlags</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">processDispatchQueue</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  dispatchQueue: DispatchQueue,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  eventSystemFlags: EventSystemFlags,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> inCapturePhase = (eventSystemFlags &amp; IS_CAPTURE_PHASE) !== <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; dispatchQueue.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123; event: ReactSyntheticEvent,listeners: Array &lt; DispatchListener &gt;&#125;;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; event, listeners &#125; = dispatchQueue[i];</span><br><span class=\"line\"></span><br><span class=\"line\">    processDispatchQueueItemsInOrder(event, listeners, inCapturePhase);</span><br><span class=\"line\">    <span class=\"comment\">//  event system doesn&#x27;t use pooling.</span></span><br><span class=\"line\">    <span class=\"comment\">// äº‹ä»¶ç³»ç»Ÿä¸ä½¿ç”¨æ± ã€‚</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// This would be a good time to rethrow if any of the event handlers threw.</span></span><br><span class=\"line\">  rethrowCaughtError();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>processDispatchQueueItemsInOrder</li>\n</ul>\n<blockquote>\n<p>æ ¹æ®inCapturePhaseåˆ¤å®šæ˜¯captureè¿˜æ˜¯bubble,</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ï¼Œæ ¹æ®æ˜¯å¦æ•è·ç¡®å®šäº‹ä»¶çš„æ‰§è¡Œé¡ºåº</span></span><br><span class=\"line\"><span class=\"comment\"> * []dispatchListeners</span></span><br><span class=\"line\"><span class=\"comment\"> * æ•è·ï¼šé‡æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ª</span></span><br><span class=\"line\"><span class=\"comment\"> * å†’æ³¡ï¼šé‡0åˆ°æœ€åä¸€ä¸ª</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;ReactSyntheticEvent&#125;</span> <span class=\"variable\">event</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Array&lt;DispatchListener&gt;&#125;</span> <span class=\"variable\">dispatchListeners</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;boolean&#125;</span> <span class=\"variable\">inCapturePhase</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">processDispatchQueueItemsInOrder</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  event: ReactSyntheticEvent,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  dispatchListeners: <span class=\"built_in\">Array</span>&lt;DispatchListener&gt;,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  inCapturePhase: <span class=\"built_in\">boolean</span>,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> previousInstance;</span><br><span class=\"line\">  <span class=\"comment\">// æ•è·</span></span><br><span class=\"line\">  <span class=\"comment\">// å› ä¸ºæ·»åŠ dispatcheræ—¶æ˜¯ä»å½“å‰ç„¶åreturnåˆ°null,æ‰€ä»¥æ•è·æ˜¯å€’è¿‡æ¥çš„è¿è¡Œ</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (inCapturePhase) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = dispatchListeners.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123; instance: null | Fiber,listener: Function,currentTarget: EventTarget&#125;;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123; instance, currentTarget, listener &#125; = dispatchListeners[i];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// é˜»æ­¢å†’æ³¡stopPropagation</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (instance !== previousInstance &amp;&amp; event.isPropagationStopped()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      executeDispatch(event, listener, currentTarget);</span><br><span class=\"line\">      previousInstance = instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; dispatchListeners.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123; instance, currentTarget, listener &#125; = dispatchListeners[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (instance !== previousInstance &amp;&amp; event.isPropagationStopped()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      executeDispatch(event, listener, currentTarget);</span><br><span class=\"line\">      previousInstance = instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"executeDispatch\"><a href=\"#executeDispatch\" class=\"headerlink\" title=\"executeDispatch\"></a>executeDispatch</h2><ul>\n<li>æœ€ç»ˆè°ƒç”¨ç”¨æˆ·çš„å¤„ç†å‡½æ•°,å…¶ä¸­åŒ…å«ä¸€äº›reactçš„invokeå‡½æ•°ï¼Œä»¥åŠä¸€äº›åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„createEventäº‹ä»¶ã€‚</li>\n</ul>\n<blockquote>\n<p>æœ¬æ–‡è¿˜æœ‰è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°ï¼Œåªæ˜¯å¤§è‡´è¯´æ˜äº†äº‹ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªæµç¨‹</p>\n</blockquote>\n<h2 id=\"æœªå®Œå¾…ç»­\"><a href=\"#æœªå®Œå¾…ç»­\" class=\"headerlink\" title=\"æœªå®Œå¾…ç»­\"></a>æœªå®Œå¾…ç»­</h2>","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":6320,"excerpt":"<h2 id=\"å¼€å§‹æ³¨å†Œäº‹ä»¶\"><a href=\"#å¼€å§‹æ³¨å†Œäº‹ä»¶\" class=\"headerlink\" title=\"å¼€å§‹æ³¨å†Œäº‹ä»¶\"></a>å¼€å§‹æ³¨å†Œäº‹ä»¶</h2><ul>\n<li>è¿™é‡Œåªæ˜¯ç®€å•çš„è®¾ç½®ä¸€äº›å˜é‡å€¼ï¼Œè§ä¸‹é¢ä»£ç </li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ³¨å†Œäº‹ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">// DOMPluginEventSystem.ts</span></span><br><span class=\"line\">SimpleEventPlugin.registerEvents();</span><br><span class=\"line\">EnterLeaveEventPlugin.registerEvents();</span><br><span class=\"line\">ChangeEventPlugin.registerEvents();</span><br><span class=\"line\">SelectEventPlugin.registerEvents();</span><br><span class=\"line\">BeforeInputEventPlugin.registerEvents();</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">allNativeEvent</span>:<span class=\"built_in\">Set</span>&lt;DOMEventName&gt; = &#123;<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"string\">&#x27;keyup&#x27;</span>,<span class=\"string\">&#x27;keydown&#x27;</span>,...&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">registrationNameDependencies[<span class=\"string\">&quot;onClick&quot;</span>] = [<span class=\"string\">&quot;click&quot;</span>];</span><br><span class=\"line\">registrationNameDependencies[<span class=\"string\">&#x27;onMouseEnter&#x27;</span>] = [<span class=\"string\">&#x27;mouseout&#x27;</span>, <span class=\"string\">&#x27;mouseover&#x27;</span>]; <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">topLevelEventsToReactNames:<span class=\"built_in\">Map</span>&lt;DOMEventName,<span class=\"built_in\">string</span>|<span class=\"literal\">null</span>&gt; = &#123;<span class=\"string\">&quot;click&quot;</span>:<span class=\"string\">&quot;onClick&quot;</span>&#125;;</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"å¤§è‡´æµç¨‹\"><a href=\"#å¤§è‡´æµç¨‹\" class=\"headerlink\" title=\"å¤§è‡´æµç¨‹\"></a>å¤§è‡´æµç¨‹</h2><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202205062357.png\" alt=\"flowchart\"></p>\n<h2 id=\"listenToAllSupportedEvent\"><a href=\"#listenToAllSupportedEvent\" class=\"headerlink\" title=\"listenToAllSupportedEvent\"></a>listenToAllSupportedEvent</h2><ul>\n<li>æ¥ä¸‹æ¥æ˜¯è®©rootå®¹å™¨ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶</li>\n</ul>\n<p>éå§”æ‰˜äº‹ä»¶åªæœ‰æ•è·é˜¶æ®µã€‚<br>è€Œå§”æ‰˜äº‹ä»¶æ•è·å†’æ³¡éƒ½ä¼šç»‘å®šã€‚</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">allNativeEvents.forEach(<span class=\"function\"><span class=\"params\">domEventName</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// æˆ‘ä»¬å•ç‹¬å¤„ç†selectionchangeæ›´æ”¹ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ï¼Œéœ€è¦å‡ºç°åœ¨documentä¸Š</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (domEventName !== <span class=\"string\">&#x27;selectionchange&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!nonDelegatedEvents.has(domEventName)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ä¸æ•è·</span></span><br><span class=\"line\">      listenToNativeEvent(domEventName, <span class=\"literal\">false</span>, rootContainerElement);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// nonDelegatedEventsäº‹ä»¶æ˜¯æ˜¯æ•è·é˜¶æ®µç›‘å¬å™¨</span></span><br><span class=\"line\">    <span class=\"comment\">// delegatedEventsæ˜¯å†’æ³¡æ•è·éƒ½æœ‰</span></span><br><span class=\"line\">    listenToNativeEvent(domEventName, <span class=\"literal\">true</span>, rootContainerElement);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>**<em>æ³¨æ„ï¼š</em>**selectionChangeäº‹ä»¶æ˜¯ç›‘å¬åœ¨documentä¸Šçš„ï¼Œå› ä¸ºå®ƒä¸ä¼šå†’æ³¡ã€‚</p>\n<h2 id=\"ç»‘å®šreactçš„listeneråˆ°root-documentä¸Š\"><a href=\"#ç»‘å®šreactçš„listeneråˆ°root-documentä¸Š\" class=\"headerlink\" title=\"ç»‘å®šreactçš„listeneråˆ°root || documentä¸Š\"></a>ç»‘å®šreactçš„listeneråˆ°root || documentä¸Š</h2><p>listenToNativeEvent <strong>â€“&gt;</strong> addTrappedEventListener <strong>â€“&gt;</strong> listener = createEventListenerWrapperWithPriority</p>\n<h2 id=\"createEventListenerWrapperWithPriority\"><a href=\"#createEventListenerWrapperWithPriority\" class=\"headerlink\" title=\"createEventListenerWrapperWithPriority\"></a>createEventListenerWrapperWithPriority</h2><p>è¿™é‡Œè¿›è¡Œåˆ›å»ºlistener,listeneræœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createEventListenerWrapperWithPriority</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  targetContainer: EventTarget,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  domEventName: DOMEventName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  eventSystemFlags: EventSystemFlags,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">Function</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> eventPriority = getEventPriority(domEventName);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> listenerWrapper;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (eventPriority) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ä¸€èˆ¬äº‹ä»¶éƒ½æ˜¯DiscreteEventPriority</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> DiscreteEventPriority:</span><br><span class=\"line\">      listenerWrapper = dispatchDiscreteEvent;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> ContinuousEventPriority:</span><br><span class=\"line\">      listenerWrapper = dispatchContinuousEvent;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> DefaultEventPriority:</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      listenerWrapper = dispatchEvent;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> listenerWrapper.bind(</span><br><span class=\"line\">    <span class=\"literal\">null</span>,</span><br><span class=\"line\">    domEventName,</span><br><span class=\"line\">    eventSystemFlags,</span><br><span class=\"line\">    targetContainer,</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸‰ç§listenerå­˜åœ¨ä¸€ä¸ªä¼˜å…ˆçº§çš„å·®åˆ«ã€‚<br>æœ€ç»ˆéƒ½ä¼šè°ƒç”¨dispatchEvent.</p>\n<h2 id=\"dispatchEvent\"><a href=\"#dispatchEvent\" class=\"headerlink\" title=\"dispatchEvent\"></a>dispatchEvent</h2><ul>\n<li>è¿™æ˜¯reactè¿›è¡Œè§¦å‘äº‹ä»¶ç›‘å¬å‡½æ•°çš„åœ°æ–¹ï¼Œè¿™é‡Œçš„listeneræ˜¯ç»‘å®šåˆ°ç»„ä»¶propsä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</li>\n</ul>\n<p>é¦–å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯allowReplayäº‹ä»¶ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> allowReplay = (eventSystemFlags &amp; IS_CAPTURE_PHASE) === <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">// eventSystemFlags captureæ—¶ç­‰äº4,bubbleæ—¶ç­‰äº0</span></span><br><span class=\"line\"><span class=\"comment\">// capture &amp; 4 = 4; bubble &amp; 4 = 0</span></span><br><span class=\"line\"><span class=\"comment\">// IS_CAPTURE_PHASE = 4</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæ˜¯å…ˆå»å°è¯•è°ƒåº¦äº‹ä»¶,åˆ¤å®šæ˜¯å¦ä¼šblockOnï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> blockedOn = attemptToDispatchEvent(</span><br><span class=\"line\">  domEventName,</span><br><span class=\"line\">  eventSystemFlags,</span><br><span class=\"line\">  targetContainer,</span><br><span class=\"line\">  nativeEvent,</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"attemptToDispatchEvent\"><a href=\"#attemptToDispatchEvent\" class=\"headerlink\" title=\"attemptToDispatchEvent\"></a>attemptToDispatchEvent</h2><ol>\n<li>å…ˆæ˜¯è·å–çœŸæ­£çš„äº‹ä»¶è§¦å‘å…ƒç´ ï¼še.targeï¼Œè¿™é‡Œç§°ä¸ºnativeEventTarget</li>\n<li>è·å–nativeEventTargetä¸Šçš„Fiber,å³â€__reactFiber${Randomâ€¦}â€å±æ€§ã€‚è¿™é‡Œæ˜¯targetInst.</li>\n<li>å¤„ç†è®©targetInstä¸ºnullçš„æƒ…å†µã€‚<ol>\n<li>èŠ‚ç‚¹è¢«unmounted,å³ä¸èƒ½é€šè¿‡returnå±æ€§åˆ°è¾¾æ ¹èŠ‚ç‚¹ã€‚</li>\n<li>å¦‚æœæœ€è¿‘çš„mountedæ˜¯SuspenseCompnent | HostRoot | æœ€è¿‘çš„mountedFiber  !== targetInst</li>\n</ol>\n</li>\n</ol>\n<p>æ¥ä¸‹æ¥è¿›å…¥çœŸæ­£çš„äº‹ä»¶è°ƒåº¦å‡½æ•°ã€‚</p>\n<h2 id=\"dispatchEventForPluginEventSystem\"><a href=\"#dispatchEventForPluginEventSystem\" class=\"headerlink\" title=\"dispatchEventForPluginEventSystem\"></a>dispatchEventForPluginEventSystem</h2><ul>\n<li>åœ¨è¿™é‡Œé¢ï¼Œä¼šæœ‰ä¸€ä¸ªmainLoop,å»å¯»æ‰¾ä¸€ä¸ªrootèŠ‚ç‚¹ï¼Œå› ä¸ºåœ¨rootèŠ‚ç‚¹ä¸Šï¼Œä¼šç»‘å®šä¸€äº›äº‹ä»¶ã€‚</li>\n<li>éå†çš„æ–¹å¼æ˜¯ä»å½“å‰èŠ‚ç‚¹ä¸€ç›´å¾€ä¸Šï¼ˆreturnï¼‰.</li>\n<li>æœ€åbatchedEventUpdates â€”&gt; dispatchEventsForPlugins</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOMPluginEventSystem</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dispatchEventForPluginEventSystem</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  domEventName: DOMEventName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  eventSystemFlags: EventSystemFlags,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  nativeEvent: AnyNativeEvent,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  targetInst: <span class=\"literal\">null</span> | Fiber, <span class=\"comment\">// è§¦å‘äº‹ä»¶çš„Fiber</span></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  targetContainer: EventTarget, <span class=\"comment\">// root</span></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ancestorInst = targetInst;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    (eventSystemFlags &amp; IS_EVENT_HANDLE_NON_MANAGED_NODE) === <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">    (eventSystemFlags &amp; IS_NON_DELEGATED) === <span class=\"number\">0</span></span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> targetContainerNode = targetContainer <span class=\"keyword\">as</span> Node;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (targetInst !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">let</span> node = targetInst;</span><br><span class=\"line\">      mainLoop: <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ...æœç´¢root container</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  batchedEventUpdates(<span class=\"function\">() =&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">// è¿›å…¥åˆæˆäº‹ä»¶ç³»ç»Ÿ</span></span><br><span class=\"line\">    dispatchEventsForPlugins(</span><br><span class=\"line\">      domEventName,</span><br><span class=\"line\">      eventSystemFlags,</span><br><span class=\"line\">      nativeEvent,</span><br><span class=\"line\">      ancestorInst,</span><br><span class=\"line\">      targetContainer,</span><br><span class=\"line\">    ),</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"dispatchEventsForPlugins\"><a href=\"#dispatchEventsForPlugins\" class=\"headerlink\" title=\"dispatchEventsForPlugins\"></a>dispatchEventsForPlugins</h2><ul>\n<li>å°†nativeEventè½¬æ¢æˆsynthesizeEvent,å¹¶åŠ å…¥dispatchQueueï¼Œæœ€ç»ˆprocessDispatchQueueã€‚</li>\n</ul>\n<p><em>extractEvents:</em></p>\n<blockquote>\n<p>åˆ›å»ºDispatchEntry:{event:listeners}ï¼Œå¹¶æ·»åŠ åˆ°dispatchQueue</p>\n</blockquote>\n<ol>\n<li>å·¥å‚æ¨¡å¼ç¡®å®šSyntheticEventCtor</li>\n<li>accumulateSinglePhaseListenersä»targetåˆ°rootéå†ï¼Œè·å–ç»‘å®šåˆ°propsçš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå·±æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°åˆ°listenersæ•°ç»„é‡Œå¹¶è¿”å›ã€‚</li>\n<li>dispatchQueue.push({event,listeners})<br>è¿™é‡Œeventä¹Ÿå°±æ˜¯synthesizeEventå¯¹è±¡ï¼Œå³åœ¨äº‹ä»¶ç»‘å®šåçš„å›è°ƒå‡½æ•°çš„é»˜è®¤å‚æ•°event.</li>\n</ol>\n<p><em>processDispatchQueue:</em></p>\n<blockquote>\n<p>éå†dispatchQueue,å¤„ç†æ¯ä¸ªäº‹ä»¶çš„listenersæ•°ç»„</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * è°ƒç”¨processDispatchQueueItemsInOrderï¼Œæ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Array&lt;&#123;</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * event: ReactSyntheticEvent,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * listeners: Array&lt;&#123;</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * instance: null | Fiber,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * listener: Function,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * currentTarget: EventTarget,</span></span></span></span><br><span class=\"line\"><span class=\"type\"><span class=\"doctag\"><span class=\"comment\"> * &#125;</span></span>&gt;&#125;&#125; dispatchQueue</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;EventSystemFlags&#125;</span> <span class=\"variable\">eventSystemFlags</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">processDispatchQueue</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  dispatchQueue: DispatchQueue,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  eventSystemFlags: EventSystemFlags,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> inCapturePhase = (eventSystemFlags &amp; IS_CAPTURE_PHASE) !== <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; dispatchQueue.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123; event: ReactSyntheticEvent,listeners: Array &lt; DispatchListener &gt;&#125;;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; event, listeners &#125; = dispatchQueue[i];</span><br><span class=\"line\"></span><br><span class=\"line\">    processDispatchQueueItemsInOrder(event, listeners, inCapturePhase);</span><br><span class=\"line\">    <span class=\"comment\">//  event system doesn&#x27;t use pooling.</span></span><br><span class=\"line\">    <span class=\"comment\">// äº‹ä»¶ç³»ç»Ÿä¸ä½¿ç”¨æ± ã€‚</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// This would be a good time to rethrow if any of the event handlers threw.</span></span><br><span class=\"line\">  rethrowCaughtError();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>processDispatchQueueItemsInOrder</li>\n</ul>\n<blockquote>\n<p>æ ¹æ®inCapturePhaseåˆ¤å®šæ˜¯captureè¿˜æ˜¯bubble,</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ï¼Œæ ¹æ®æ˜¯å¦æ•è·ç¡®å®šäº‹ä»¶çš„æ‰§è¡Œé¡ºåº</span></span><br><span class=\"line\"><span class=\"comment\"> * []dispatchListeners</span></span><br><span class=\"line\"><span class=\"comment\"> * æ•è·ï¼šé‡æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ª</span></span><br><span class=\"line\"><span class=\"comment\"> * å†’æ³¡ï¼šé‡0åˆ°æœ€åä¸€ä¸ª</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;ReactSyntheticEvent&#125;</span> <span class=\"variable\">event</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Array&lt;DispatchListener&gt;&#125;</span> <span class=\"variable\">dispatchListeners</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;boolean&#125;</span> <span class=\"variable\">inCapturePhase</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">processDispatchQueueItemsInOrder</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  event: ReactSyntheticEvent,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  dispatchListeners: <span class=\"built_in\">Array</span>&lt;DispatchListener&gt;,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  inCapturePhase: <span class=\"built_in\">boolean</span>,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>): <span class=\"title\">void</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> previousInstance;</span><br><span class=\"line\">  <span class=\"comment\">// æ•è·</span></span><br><span class=\"line\">  <span class=\"comment\">// å› ä¸ºæ·»åŠ dispatcheræ—¶æ˜¯ä»å½“å‰ç„¶åreturnåˆ°null,æ‰€ä»¥æ•è·æ˜¯å€’è¿‡æ¥çš„è¿è¡Œ</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (inCapturePhase) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = dispatchListeners.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123; instance: null | Fiber,listener: Function,currentTarget: EventTarget&#125;;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123; instance, currentTarget, listener &#125; = dispatchListeners[i];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// é˜»æ­¢å†’æ³¡stopPropagation</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (instance !== previousInstance &amp;&amp; event.isPropagationStopped()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      executeDispatch(event, listener, currentTarget);</span><br><span class=\"line\">      previousInstance = instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; dispatchListeners.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123; instance, currentTarget, listener &#125; = dispatchListeners[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (instance !== previousInstance &amp;&amp; event.isPropagationStopped()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      executeDispatch(event, listener, currentTarget);</span><br><span class=\"line\">      previousInstance = instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"executeDispatch\"><a href=\"#executeDispatch\" class=\"headerlink\" title=\"executeDispatch\"></a>executeDispatch</h2><ul>\n<li>æœ€ç»ˆè°ƒç”¨ç”¨æˆ·çš„å¤„ç†å‡½æ•°,å…¶ä¸­åŒ…å«ä¸€äº›reactçš„invokeå‡½æ•°ï¼Œä»¥åŠä¸€äº›åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„createEventäº‹ä»¶ã€‚</li>\n</ul>\n<blockquote>\n<p>æœ¬æ–‡è¿˜æœ‰è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°ï¼Œåªæ˜¯å¤§è‡´è¯´æ˜äº†äº‹ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªæµç¨‹</p>\n</blockquote>\n<h2 id=\"æœªå®Œå¾…ç»­\"><a href=\"#æœªå®Œå¾…ç»­\" class=\"headerlink\" title=\"æœªå®Œå¾…ç»­\"></a>æœªå®Œå¾…ç»­</h2>"},{"title":"ä¸€æ¬¡base64æŒ‡ä»¤çš„powershell","date":"2021-11-18T14:33:12.000Z","_content":"\n**äº‹æƒ…å‘ç”Ÿæ˜¯åœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„æ™šä¸Šã€‚ã€‚ã€‚ã€‚ä¸å¥½æ„æ€æé”™äº† ğŸ˜¬ã€‚**\n**äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä»Šå¤©åœ¨ä½¿ç”¨ webpack-dev-middleware æ„å»ºå¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œæƒ³è¦ä½¿ç”¨ node å¯åŠ¨æµè§ˆå™¨å¹¶è‡ªåŠ¨æ‰“å¼€ç›¸å…³çš„æœ¬åœ°ç½‘å€ã€‚äºæ˜¯å°±å‘ç”Ÿäº†ä¸‹é¢çš„ä¸€å¹•ã€‚**\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/u=1178727920,923148390&fm=26&fmt=auto.webp)\n\n<!--more-->\n\n# å…³äº open è¿™ä¸ª node_module\n\n**è¿™æ˜¯ä¸€ä¸ª node çš„ä¾èµ–åŒ…ï¼Œä½¿ç”¨å…¶æä¾›çš„ç›¸å…³ api å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€å…·ä½“çš„ç½‘å€ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹**\n\n```javascript\nconst open = require(\"open\");\n\n// Opens the image in the default image viewer and waits for the opened app to quit.\nawait open(\"unicorn.png\", { wait: true });\nconsole.log(\"The image viewer app quit\");\n\n// Opens the URL in the default browser.\nawait open(\"https://sindresorhus.com\");\n\n// Opens the URL in a specified browser.\nawait open(\"https://sindresorhus.com\", { app: { name: \"firefox\" } });\n\n// Specify app arguments.\nawait open(\"https://sindresorhus.com\", {\n  app: { name: \"google chrome\", arguments: [\"--incognito\"] },\n});\n\n// Open an app\nawait open.openApp(\"xcode\");\n\n// Open an app with arguments\nawait open.openApp(open.apps.chrome, { arguments: [\"--incognito\"] });\n```\n\n**ä¸ºäº†ä¸€æ¢ç©¶ç«Ÿï¼Œå®ƒæ˜¯æ€æ ·æ‰“å¼€æµè§ˆå™¨çš„ï¼Œæ‰€ä»¥æˆ‘å°±å¼€å§‹äº†æŸ¥çœ‹æºä»£ç ä¹‹æ—…ã€‚ç„¶åå°±å‡ºç°äº† powershell æ‰§è¡Œ base64 ç¼–ç çš„å‘½ä»¤è¿™ä¸ªæœ‰è¶£çš„äº‹æƒ…äº†ã€‚**\n\n# åœ¨ powershell ä¸­ä½¿ç”¨ base64 ç¼–ç çš„æŒ‡ä»¤\n\n**åœ¨ open çš„æºç ä¸­ï¼Œæœ‰ä¸ª encodeArguments çš„æ•°ç»„ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­['start', 'http://....' ]ï¼Œå…¶æ‰“å¼€æµè§ˆçš„çš„ä¸»è¦å‘½ä»¤å°±æ˜¯**\n\n```powershell\n start (application) <ç½‘å€>\n```\n\n**è€Œå®ƒåœ¨ä¼ é€’ powershell å‘½ä»¤æ—¶æœ‰è¿™æ ·ä¸€è¡Œä»£ç ä»£ç ,é€šè¿‡æ³¨é‡Šæˆ‘ä»¬å¯ä»¥æ˜ç™½è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ base64 ç¼–ç çš„ powershell å‘½ä»¤ã€‚äºæ˜¯ä¹æˆ‘å°±å¼€å§‹äº†æˆ‘çš„å®éªŒæ€§æ¢ç©¶äº†äº†**ğŸ¥³ã€‚\n\n```javascript\n// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\ntarget = Buffer.from(encodedArguments.join(\" \"), \"utf16le\").to;\n```\n\n**æœä¸å…¶ç„¶ï¼Œåœ¨å¾®è½¯çš„æ–‡æ¡£é‡Œç¡®å®æŸ¥åˆ°äº† ğŸ˜ƒ,ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦ utf-16le çš„ç¼–ç ã€‚**\n**_é“›é“›é“›é“›ï¼ï¼_**\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/encodedCommand.png)\n\n# å®é™…æµ‹è¯•\n\n**ä¸‹é¢æˆ‘å°±ä»¥ node æ‰“å¼€æµè§ˆå™¨ä¸ºä¾‹å­ï¼Œè¿›è¡Œ base64 ç¼–ç å‘½ä»¤çš„æµ‹è¯•ã€‚**\n**node æ‰“å¼€æµè§ˆå™¨çš„ä»£ç å¦‚ä¸‹ï¼š**\n\n```javascript\nconst cp = require('child_process');\n\n// è·å–base64ç¼–ç çš„æŒ‡ä»¤\nlet command = Buffer.from(<ç›®æ ‡æŒ‡ä»¤> 'utf16le').toString('base64');\n\nlet subprocess = cp.spawn(`${process.env.SYSTEMROOT}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`, [\n    \"-EncodedCommand\",\n    'cwB0AGEAcgB0ACAAaAB0AHQAcAA6AC8ALwBiAGEAaQBkAHUALgBjAG8AbQA='\n    // 'start http://baidu.com' ä¸Šé¢æ˜¯è¿™ä¸€è¡Œå‘½ä»¤çš„ç¼–ç \n], {\n    windowsVerbatimArguments: true\n})\n```\n\n**ä¸‹é¢æ˜¯æ•ˆæœå›¾**\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/20211191146.gif)\n**å¥‡æ€ªçš„çŸ¥è¯†åˆå¢åŠ äº† ğŸŒŸ**\n","source":"_posts/ä¸€æ¬¡base64æŒ‡ä»¤çš„powershell.md","raw":"---\ntitle: ä¸€æ¬¡base64æŒ‡ä»¤çš„powershell\ndate: 2021-11-18 22:33:12\ntags:\ncategories: ä¸€äº›è¶£äº‹çš„ğŸŒŸ\n---\n\n**äº‹æƒ…å‘ç”Ÿæ˜¯åœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„æ™šä¸Šã€‚ã€‚ã€‚ã€‚ä¸å¥½æ„æ€æé”™äº† ğŸ˜¬ã€‚**\n**äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä»Šå¤©åœ¨ä½¿ç”¨ webpack-dev-middleware æ„å»ºå¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œæƒ³è¦ä½¿ç”¨ node å¯åŠ¨æµè§ˆå™¨å¹¶è‡ªåŠ¨æ‰“å¼€ç›¸å…³çš„æœ¬åœ°ç½‘å€ã€‚äºæ˜¯å°±å‘ç”Ÿäº†ä¸‹é¢çš„ä¸€å¹•ã€‚**\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/u=1178727920,923148390&fm=26&fmt=auto.webp)\n\n<!--more-->\n\n# å…³äº open è¿™ä¸ª node_module\n\n**è¿™æ˜¯ä¸€ä¸ª node çš„ä¾èµ–åŒ…ï¼Œä½¿ç”¨å…¶æä¾›çš„ç›¸å…³ api å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€å…·ä½“çš„ç½‘å€ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹**\n\n```javascript\nconst open = require(\"open\");\n\n// Opens the image in the default image viewer and waits for the opened app to quit.\nawait open(\"unicorn.png\", { wait: true });\nconsole.log(\"The image viewer app quit\");\n\n// Opens the URL in the default browser.\nawait open(\"https://sindresorhus.com\");\n\n// Opens the URL in a specified browser.\nawait open(\"https://sindresorhus.com\", { app: { name: \"firefox\" } });\n\n// Specify app arguments.\nawait open(\"https://sindresorhus.com\", {\n  app: { name: \"google chrome\", arguments: [\"--incognito\"] },\n});\n\n// Open an app\nawait open.openApp(\"xcode\");\n\n// Open an app with arguments\nawait open.openApp(open.apps.chrome, { arguments: [\"--incognito\"] });\n```\n\n**ä¸ºäº†ä¸€æ¢ç©¶ç«Ÿï¼Œå®ƒæ˜¯æ€æ ·æ‰“å¼€æµè§ˆå™¨çš„ï¼Œæ‰€ä»¥æˆ‘å°±å¼€å§‹äº†æŸ¥çœ‹æºä»£ç ä¹‹æ—…ã€‚ç„¶åå°±å‡ºç°äº† powershell æ‰§è¡Œ base64 ç¼–ç çš„å‘½ä»¤è¿™ä¸ªæœ‰è¶£çš„äº‹æƒ…äº†ã€‚**\n\n# åœ¨ powershell ä¸­ä½¿ç”¨ base64 ç¼–ç çš„æŒ‡ä»¤\n\n**åœ¨ open çš„æºç ä¸­ï¼Œæœ‰ä¸ª encodeArguments çš„æ•°ç»„ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­['start', 'http://....' ]ï¼Œå…¶æ‰“å¼€æµè§ˆçš„çš„ä¸»è¦å‘½ä»¤å°±æ˜¯**\n\n```powershell\n start (application) <ç½‘å€>\n```\n\n**è€Œå®ƒåœ¨ä¼ é€’ powershell å‘½ä»¤æ—¶æœ‰è¿™æ ·ä¸€è¡Œä»£ç ä»£ç ,é€šè¿‡æ³¨é‡Šæˆ‘ä»¬å¯ä»¥æ˜ç™½è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ base64 ç¼–ç çš„ powershell å‘½ä»¤ã€‚äºæ˜¯ä¹æˆ‘å°±å¼€å§‹äº†æˆ‘çš„å®éªŒæ€§æ¢ç©¶äº†äº†**ğŸ¥³ã€‚\n\n```javascript\n// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\ntarget = Buffer.from(encodedArguments.join(\" \"), \"utf16le\").to;\n```\n\n**æœä¸å…¶ç„¶ï¼Œåœ¨å¾®è½¯çš„æ–‡æ¡£é‡Œç¡®å®æŸ¥åˆ°äº† ğŸ˜ƒ,ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦ utf-16le çš„ç¼–ç ã€‚**\n**_é“›é“›é“›é“›ï¼ï¼_**\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/encodedCommand.png)\n\n# å®é™…æµ‹è¯•\n\n**ä¸‹é¢æˆ‘å°±ä»¥ node æ‰“å¼€æµè§ˆå™¨ä¸ºä¾‹å­ï¼Œè¿›è¡Œ base64 ç¼–ç å‘½ä»¤çš„æµ‹è¯•ã€‚**\n**node æ‰“å¼€æµè§ˆå™¨çš„ä»£ç å¦‚ä¸‹ï¼š**\n\n```javascript\nconst cp = require('child_process');\n\n// è·å–base64ç¼–ç çš„æŒ‡ä»¤\nlet command = Buffer.from(<ç›®æ ‡æŒ‡ä»¤> 'utf16le').toString('base64');\n\nlet subprocess = cp.spawn(`${process.env.SYSTEMROOT}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`, [\n    \"-EncodedCommand\",\n    'cwB0AGEAcgB0ACAAaAB0AHQAcAA6AC8ALwBiAGEAaQBkAHUALgBjAG8AbQA='\n    // 'start http://baidu.com' ä¸Šé¢æ˜¯è¿™ä¸€è¡Œå‘½ä»¤çš„ç¼–ç \n], {\n    windowsVerbatimArguments: true\n})\n```\n\n**ä¸‹é¢æ˜¯æ•ˆæœå›¾**\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/20211191146.gif)\n**å¥‡æ€ªçš„çŸ¥è¯†åˆå¢åŠ äº† ğŸŒŸ**\n","slug":"ä¸€æ¬¡base64æŒ‡ä»¤çš„powershell","published":1,"updated":"2022-12-31T10:26:33.597Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhsw000j3kv7f2zuc6xl","content":"<p><strong>äº‹æƒ…å‘ç”Ÿæ˜¯åœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„æ™šä¸Šã€‚ã€‚ã€‚ã€‚ä¸å¥½æ„æ€æé”™äº† ğŸ˜¬ã€‚</strong><br><strong>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä»Šå¤©åœ¨ä½¿ç”¨ webpack-dev-middleware æ„å»ºå¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œæƒ³è¦ä½¿ç”¨ node å¯åŠ¨æµè§ˆå™¨å¹¶è‡ªåŠ¨æ‰“å¼€ç›¸å…³çš„æœ¬åœ°ç½‘å€ã€‚äºæ˜¯å°±å‘ç”Ÿäº†ä¸‹é¢çš„ä¸€å¹•ã€‚</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/u=1178727920,923148390&fm=26&fmt=auto.webp\"></p>\n<span id=\"more\"></span>\n\n<h1 id=\"å…³äº-open-è¿™ä¸ª-node-module\"><a href=\"#å…³äº-open-è¿™ä¸ª-node-module\" class=\"headerlink\" title=\"å…³äº open è¿™ä¸ª node_module\"></a>å…³äº open è¿™ä¸ª node_module</h1><p><strong>è¿™æ˜¯ä¸€ä¸ª node çš„ä¾èµ–åŒ…ï¼Œä½¿ç”¨å…¶æä¾›çš„ç›¸å…³ api å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€å…·ä½“çš„ç½‘å€ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> open = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;open&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Opens the image in the default image viewer and waits for the opened app to quit.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;unicorn.png&quot;</span>, &#123; <span class=\"attr\">wait</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;The image viewer app quit&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Opens the URL in the default browser.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;https://sindresorhus.com&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Opens the URL in a specified browser.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;https://sindresorhus.com&quot;</span>, &#123; <span class=\"attr\">app</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;firefox&quot;</span> &#125; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Specify app arguments.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;https://sindresorhus.com&quot;</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">app</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;google chrome&quot;</span>, <span class=\"attr\">arguments</span>: [<span class=\"string\">&quot;--incognito&quot;</span>] &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Open an app</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open.openApp(<span class=\"string\">&quot;xcode&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Open an app with arguments</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open.openApp(open.apps.chrome, &#123; <span class=\"attr\">arguments</span>: [<span class=\"string\">&quot;--incognito&quot;</span>] &#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¸ºäº†ä¸€æ¢ç©¶ç«Ÿï¼Œå®ƒæ˜¯æ€æ ·æ‰“å¼€æµè§ˆå™¨çš„ï¼Œæ‰€ä»¥æˆ‘å°±å¼€å§‹äº†æŸ¥çœ‹æºä»£ç ä¹‹æ—…ã€‚ç„¶åå°±å‡ºç°äº† powershell æ‰§è¡Œ base64 ç¼–ç çš„å‘½ä»¤è¿™ä¸ªæœ‰è¶£çš„äº‹æƒ…äº†ã€‚</strong></p>\n<h1 id=\"åœ¨-powershell-ä¸­ä½¿ç”¨-base64-ç¼–ç çš„æŒ‡ä»¤\"><a href=\"#åœ¨-powershell-ä¸­ä½¿ç”¨-base64-ç¼–ç çš„æŒ‡ä»¤\" class=\"headerlink\" title=\"åœ¨ powershell ä¸­ä½¿ç”¨ base64 ç¼–ç çš„æŒ‡ä»¤\"></a>åœ¨ powershell ä¸­ä½¿ç”¨ base64 ç¼–ç çš„æŒ‡ä»¤</h1><p><strong>åœ¨ open çš„æºç ä¸­ï¼Œæœ‰ä¸ª encodeArguments çš„æ•°ç»„ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­[â€˜startâ€™, â€˜http://â€¦.â€™ ]ï¼Œå…¶æ‰“å¼€æµè§ˆçš„çš„ä¸»è¦å‘½ä»¤å°±æ˜¯</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">start</span> (application) &lt;ç½‘å€&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è€Œå®ƒåœ¨ä¼ é€’ powershell å‘½ä»¤æ—¶æœ‰è¿™æ ·ä¸€è¡Œä»£ç ä»£ç ,é€šè¿‡æ³¨é‡Šæˆ‘ä»¬å¯ä»¥æ˜ç™½è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ base64 ç¼–ç çš„ powershell å‘½ä»¤ã€‚äºæ˜¯ä¹æˆ‘å°±å¼€å§‹äº†æˆ‘çš„å®éªŒæ€§æ¢ç©¶äº†äº†</strong>ğŸ¥³ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Using Base64-encoded command, accepted by PowerShell, to allow special characters.</span></span><br><span class=\"line\">target = Buffer.from(encodedArguments.join(<span class=\"string\">&quot; &quot;</span>), <span class=\"string\">&quot;utf16le&quot;</span>).to;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æœä¸å…¶ç„¶ï¼Œåœ¨å¾®è½¯çš„æ–‡æ¡£é‡Œç¡®å®æŸ¥åˆ°äº† ğŸ˜ƒ,ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦ utf-16le çš„ç¼–ç ã€‚</strong><br><strong><em>é“›é“›é“›é“›ï¼ï¼</em></strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/encodedCommand.png\"></p>\n<h1 id=\"å®é™…æµ‹è¯•\"><a href=\"#å®é™…æµ‹è¯•\" class=\"headerlink\" title=\"å®é™…æµ‹è¯•\"></a>å®é™…æµ‹è¯•</h1><p><strong>ä¸‹é¢æˆ‘å°±ä»¥ node æ‰“å¼€æµè§ˆå™¨ä¸ºä¾‹å­ï¼Œè¿›è¡Œ base64 ç¼–ç å‘½ä»¤çš„æµ‹è¯•ã€‚</strong><br><strong>node æ‰“å¼€æµè§ˆå™¨çš„ä»£ç å¦‚ä¸‹ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cp = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;child_process&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è·å–base64ç¼–ç çš„æŒ‡ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> command = Buffer.from(&lt;ç›®æ ‡æŒ‡ä»¤&gt; <span class=\"string\">&#x27;utf16le&#x27;</span>).toString(<span class=\"string\">&#x27;base64&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> subprocess = cp.spawn(<span class=\"string\">`<span class=\"subst\">$&#123;process.env.SYSTEMROOT&#125;</span>\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`</span>, [</span><br><span class=\"line\">    <span class=\"string\">&quot;-EncodedCommand&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;cwB0AGEAcgB0ACAAaAB0AHQAcAA6AC8ALwBiAGEAaQBkAHUALgBjAG8AbQA=&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#x27;start http://baidu.com&#x27; ä¸Šé¢æ˜¯è¿™ä¸€è¡Œå‘½ä»¤çš„ç¼–ç </span></span><br><span class=\"line\">], &#123;</span><br><span class=\"line\">    <span class=\"attr\">windowsVerbatimArguments</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¸‹é¢æ˜¯æ•ˆæœå›¾</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/20211191146.gif\"><br><strong>å¥‡æ€ªçš„çŸ¥è¯†åˆå¢åŠ äº† ğŸŒŸ</strong></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":1968,"excerpt":"<p><strong>äº‹æƒ…å‘ç”Ÿæ˜¯åœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„æ™šä¸Šã€‚ã€‚ã€‚ã€‚ä¸å¥½æ„æ€æé”™äº† ğŸ˜¬ã€‚</strong><br><strong>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä»Šå¤©åœ¨ä½¿ç”¨ webpack-dev-middleware æ„å»ºå¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œæƒ³è¦ä½¿ç”¨ node å¯åŠ¨æµè§ˆå™¨å¹¶è‡ªåŠ¨æ‰“å¼€ç›¸å…³çš„æœ¬åœ°ç½‘å€ã€‚äºæ˜¯å°±å‘ç”Ÿäº†ä¸‹é¢çš„ä¸€å¹•ã€‚</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/u=1178727920,923148390&fm=26&fmt=auto.webp\"></p>","more":"<h1 id=\"å…³äº-open-è¿™ä¸ª-node-module\"><a href=\"#å…³äº-open-è¿™ä¸ª-node-module\" class=\"headerlink\" title=\"å…³äº open è¿™ä¸ª node_module\"></a>å…³äº open è¿™ä¸ª node_module</h1><p><strong>è¿™æ˜¯ä¸€ä¸ª node çš„ä¾èµ–åŒ…ï¼Œä½¿ç”¨å…¶æä¾›çš„ç›¸å…³ api å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€å…·ä½“çš„ç½‘å€ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> open = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;open&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Opens the image in the default image viewer and waits for the opened app to quit.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;unicorn.png&quot;</span>, &#123; <span class=\"attr\">wait</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;The image viewer app quit&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Opens the URL in the default browser.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;https://sindresorhus.com&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Opens the URL in a specified browser.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;https://sindresorhus.com&quot;</span>, &#123; <span class=\"attr\">app</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;firefox&quot;</span> &#125; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Specify app arguments.</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open(<span class=\"string\">&quot;https://sindresorhus.com&quot;</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">app</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;google chrome&quot;</span>, <span class=\"attr\">arguments</span>: [<span class=\"string\">&quot;--incognito&quot;</span>] &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Open an app</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open.openApp(<span class=\"string\">&quot;xcode&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Open an app with arguments</span></span><br><span class=\"line\"><span class=\"keyword\">await</span> open.openApp(open.apps.chrome, &#123; <span class=\"attr\">arguments</span>: [<span class=\"string\">&quot;--incognito&quot;</span>] &#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¸ºäº†ä¸€æ¢ç©¶ç«Ÿï¼Œå®ƒæ˜¯æ€æ ·æ‰“å¼€æµè§ˆå™¨çš„ï¼Œæ‰€ä»¥æˆ‘å°±å¼€å§‹äº†æŸ¥çœ‹æºä»£ç ä¹‹æ—…ã€‚ç„¶åå°±å‡ºç°äº† powershell æ‰§è¡Œ base64 ç¼–ç çš„å‘½ä»¤è¿™ä¸ªæœ‰è¶£çš„äº‹æƒ…äº†ã€‚</strong></p>\n<h1 id=\"åœ¨-powershell-ä¸­ä½¿ç”¨-base64-ç¼–ç çš„æŒ‡ä»¤\"><a href=\"#åœ¨-powershell-ä¸­ä½¿ç”¨-base64-ç¼–ç çš„æŒ‡ä»¤\" class=\"headerlink\" title=\"åœ¨ powershell ä¸­ä½¿ç”¨ base64 ç¼–ç çš„æŒ‡ä»¤\"></a>åœ¨ powershell ä¸­ä½¿ç”¨ base64 ç¼–ç çš„æŒ‡ä»¤</h1><p><strong>åœ¨ open çš„æºç ä¸­ï¼Œæœ‰ä¸ª encodeArguments çš„æ•°ç»„ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­[â€˜startâ€™, â€˜http://â€¦.â€™ ]ï¼Œå…¶æ‰“å¼€æµè§ˆçš„çš„ä¸»è¦å‘½ä»¤å°±æ˜¯</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">start</span> (application) &lt;ç½‘å€&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è€Œå®ƒåœ¨ä¼ é€’ powershell å‘½ä»¤æ—¶æœ‰è¿™æ ·ä¸€è¡Œä»£ç ä»£ç ,é€šè¿‡æ³¨é‡Šæˆ‘ä»¬å¯ä»¥æ˜ç™½è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ base64 ç¼–ç çš„ powershell å‘½ä»¤ã€‚äºæ˜¯ä¹æˆ‘å°±å¼€å§‹äº†æˆ‘çš„å®éªŒæ€§æ¢ç©¶äº†äº†</strong>ğŸ¥³ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Using Base64-encoded command, accepted by PowerShell, to allow special characters.</span></span><br><span class=\"line\">target = Buffer.from(encodedArguments.join(<span class=\"string\">&quot; &quot;</span>), <span class=\"string\">&quot;utf16le&quot;</span>).to;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æœä¸å…¶ç„¶ï¼Œåœ¨å¾®è½¯çš„æ–‡æ¡£é‡Œç¡®å®æŸ¥åˆ°äº† ğŸ˜ƒ,ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦ utf-16le çš„ç¼–ç ã€‚</strong><br><strong><em>é“›é“›é“›é“›ï¼ï¼</em></strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/encodedCommand.png\"></p>\n<h1 id=\"å®é™…æµ‹è¯•\"><a href=\"#å®é™…æµ‹è¯•\" class=\"headerlink\" title=\"å®é™…æµ‹è¯•\"></a>å®é™…æµ‹è¯•</h1><p><strong>ä¸‹é¢æˆ‘å°±ä»¥ node æ‰“å¼€æµè§ˆå™¨ä¸ºä¾‹å­ï¼Œè¿›è¡Œ base64 ç¼–ç å‘½ä»¤çš„æµ‹è¯•ã€‚</strong><br><strong>node æ‰“å¼€æµè§ˆå™¨çš„ä»£ç å¦‚ä¸‹ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cp = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;child_process&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è·å–base64ç¼–ç çš„æŒ‡ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> command = Buffer.from(&lt;ç›®æ ‡æŒ‡ä»¤&gt; <span class=\"string\">&#x27;utf16le&#x27;</span>).toString(<span class=\"string\">&#x27;base64&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> subprocess = cp.spawn(<span class=\"string\">`<span class=\"subst\">$&#123;process.env.SYSTEMROOT&#125;</span>\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`</span>, [</span><br><span class=\"line\">    <span class=\"string\">&quot;-EncodedCommand&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;cwB0AGEAcgB0ACAAaAB0AHQAcAA6AC8ALwBiAGEAaQBkAHUALgBjAG8AbQA=&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#x27;start http://baidu.com&#x27; ä¸Šé¢æ˜¯è¿™ä¸€è¡Œå‘½ä»¤çš„ç¼–ç </span></span><br><span class=\"line\">], &#123;</span><br><span class=\"line\">    <span class=\"attr\">windowsVerbatimArguments</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¸‹é¢æ˜¯æ•ˆæœå›¾</strong><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/20211191146.gif\"><br><strong>å¥‡æ€ªçš„çŸ¥è¯†åˆå¢åŠ äº† ğŸŒŸ</strong></p>"},{"title":"svgåŸºç¡€","date":"2022-07-21T07:52:53.000Z","toc":true,"_content":"\n## å®šä¹‰\n\nsvgï¼ˆScalable Vector Graphicsï¼‰å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ï¼Œæ˜¯ W3C XML çš„åˆ†æ”¯è¯­è¨€ä¹‹ä¸€ï¼Œç”¨äºæ ‡è®°å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ã€‚\n\n<!-- more -->\n\n## å‘½åç©ºé—´\n\nå®šä¹‰çš„å‘½åç©ºé—´å¯ä»¥æŠŠé€šé…ã€å…ƒç´ ã€å±æ€§é€‰æ‹©å™¨é™åˆ¶åœ¨æŒ‡å®šå‘½åç©ºé—´é‡Œçš„å…ƒç´ ã€‚\n\n### å£°æ˜å‘½åç©ºé—´\n\nä½¿ç”¨xmlnså±æ€§è¿›è¡Œå‘½åç©ºé—´çš„å£°æ˜ï¼Œä¸‹é¢çš„å£°æ˜æ„å‘³ç€svgä»¥åŠå®ƒçš„å­èŠ‚ç‚¹éƒ½å±äºâ€œhttp://www.w3.org/2000/svgâ€è¿™ä¸ªsvgå‘½åç©ºé—´ã€‚\n\n```\n<svg xmlns=\"http://www.w3.org/2000/svg\">\n\n</svg>\n```\n\n## SVG å…ƒç´ \n\nSee moreï¼š[mdn-svgå…ƒç´ å‚è€ƒ](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element#svg_%E5%85%83%E7%B4%A0%EF%BC%88%E6%8C%89%E7%B1%BB%E5%88%AB%E5%88%86%E7%B1%BB%EF%BC%89)\n> ä¸Šé¢åˆ—å‡ºäº†ä¸€äº›å¸¸è§ä»¥åŠå¸¸ç”¨çš„svgå…ƒç´ ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆæ ·å­çš„ä»¥åŠæ€ä¹ˆæ”¹å˜å®ƒä»¬çš„å±æ€§ã€‚\n\n## å›¾å½¢å…ƒç´ \n\n### åŸºç¡€å›¾å½¢å…ƒç´ \n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/RwMVwNE?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/RwMVwNE\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n### çº¿æ®µå±æ€§\n\nå¯¹äºstrokeå¡«å……çš„çº¿æ®µæ¥è¯´ï¼Œstroke-dasharrayä¸stroke-dashoffsetæ˜¯ä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å±æ€§ã€‚\n\n-   stroke-dasharrayï¼šæ§åˆ¶ç”¨æ§åˆ¶çº¿æ®µå®çº¿ä¸è™šçº¿çš„å•å…ƒé•¿åº¦ã€‚\n\n<!---->\n\n-   stroke-dasharrayï¼šæ§åˆ¶è™šçº¿çš„åç§»\n\n> stroke-dasharrayç»“åˆanimateçš„ä¾‹å­\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ZExoMmN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ZExoMmN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n> ä½¿ç”¨stroke-dashoffsetä¸animateTransformã€animateç»˜åˆ¶åŠ è½½åŠ¨ç”»\n\nç”¨animateæ§åˆ¶stroke-dashoffsetè™šçº¿éƒ¨åˆ†çš„åç§»ï¼ŒåŒæ—¶animateTransformæ§åˆ¶æ•´ä¸ªåœ†ç¯çš„è‡ªè½¬ã€‚\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ExELqMa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ExELqMa\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n> å¿ƒç”µå›¾\n\nè¿™é‡Œä¸»è¦æ€è·¯å°±æ˜¯ä½¿ç”¨polylineç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œä½¿ç”¨stroke-dasharrayç»˜åˆ¶è™šçº¿ï¼Œstroke-dashoffsetæ§åˆ¶è™šçº¿ç©ºç™½å¤„çš„åç§»ï¼Œç„¶åç”¨animateæ§åˆ¶stroke-dashoffsetçš„å€¼ï¼Œå°±èƒ½çœ‹è§è¿™ç§çº¿æ®µç§»åŠ¨çš„æ•ˆæœäº†ğŸ«¥\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/qBoYyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/qBoYyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n### å¼ºå¤§çš„pathå…ƒç´ \n\nä¸Šé¢çš„åŸºæœ¬å›¾å½¢éƒ½æ˜¯å¯ä»¥ç”¨pathæ¥åˆ›å»ºçš„ï¼Œè€Œpathçš„åŠŸèƒ½è¿œè¿œä¸æ­¢ä¸Šé¢è¿™äº›å›¾å½¢ğŸ˜ã€‚pathå…ƒç´ çš„å½¢çŠ¶é€šè¿‡å±æ€§dæ¥å®šä¹‰ï¼Œå±æ€§dçš„å€¼æ˜¯ä¸€ä¸ªâ€œå‘½ä»¤+å‚æ•°â€çš„åºåˆ—ã€‚ä¸‹é¢å°±åˆ—å‡ºäº†ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ã€‚\n\n#### ç›´çº¿å‘½ä»¤\n\n1.  Moveto\n\n    -  `M x,y` åœ¨è¿™é‡Œxå’Œyæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡ã€‚\n    -  `m dx,dy` åœ¨è¿™é‡Œdxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»ã€‚\n\n<!---->\n\n2.  Lineto\n   `Lineto`æŒ‡ä»¤å°†ç»˜åˆ¶ä¸€æ¡ç›´çº¿æ®µã€‚è¿™ä¸ªç›´çº¿æ®µä»å½“å‰ä½ç½®ç§»åˆ°æŒ‡å®šä½ç½®\n    -   `Lx,y` xä¸yæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡\n    -   `ldx,dy` dxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»\n    -   `Hx` ç»å¯¹åæ ‡ï¼Œæ°´å¹³ç§»åŠ¨\n    -   `Vy` ç»å¯¹åæ ‡ï¼Œå‚ç›´ç§»åŠ¨\n    -   `hdx` æ°´å¹³ç§»åŠ¨ç›¸å¯¹è·ç¦»\n    -   `vdy` å‚ç›´ç§»åŠ¨ç›¸å¯¹è·ç¦»\n\n3.  Z or zï¼šé—­åˆè·¯å¾„\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/NWYjyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/NWYjyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n#### æ›²çº¿å‘½ä»¤\n\nå°å†™çš„æŒ‡ä»¤æ„ä¹‰åŒä¸Šï¼Œéƒ½æ˜¯è·Ÿç›¸å¯¹çš„è·ç¦»\n\n1.  Curveto\n\n  -  Â Â Cå‘½ä»¤åˆ›å»ºä¸€ä¸ªä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œå…¶ä¸­ (x1,y1) (x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œx,yä¸ºæ›²çº¿ç»ˆç‚¹\n  -  ` C x1 y1, x2 y2, x y  `or `c dx1 dy1, dx2 dy2, dx dy`\n\n<!---->\n\n2.  Smooth Curveto\n\n  -  Â Â Så‘½ä»¤å¯ä»¥ç”¨æ¥åˆ›å»ºäºä¸å‰é¢ä¸€æ ·çš„è´å¡å°”æ›²çº¿ï¼Œå¦‚æœSå‘½ä»¤è·Ÿåœ¨ä¸€ä¸ªCæˆ–Så‘½ä»¤åé¢ï¼Œåˆ™å®ƒçš„ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¼šè¢«å‡è®¾æˆå‰ä¸€ä¸ªå‘½ä»¤æ›²çº¿çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ã€‚å¦‚æœSå‘½ä»¤å•ç‹¬ä½¿ç”¨ï¼Œå‰é¢æ²¡æœ‰Cæˆ–è€…Så‘½ä»¤ï¼Œé‚£å½“å‰ç‚¹å°†ä½œä¸ºç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ã€‚æœ€å¤§çš„ä½œç”¨å°±æ˜¯å…‰æ»‘åœ°è¿æ¥ä¸¤æ¡æ›²çº¿\n  -  `S x2 y2,x y` or `s dx2 dy2, dx dy`\n\n> Cã€Så‘½ä»¤ä¾‹å­\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/rNdmJma?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/rNdmJma\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n3.  Quadratic BÃ©zier curveto\n\n  -   Qå‘½ä»¤ç”¨æ¥åˆ›å»ºä¸€æ¡äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œåªéœ€è¦ä¸€ä¸ªæ§åˆ¶ç‚¹\n  -   `Q x1 y1,x y` or `q dx1 dx2,dx dy`\n\n4.  Smooth quadratic BÃ©zier curveto\n\n  -  Tå‘½ä»¤ç±»ä¼¼Så‘½ä»¤ï¼Œç”¨äºå¹³æ»‘é“¾æ¥äºŒæ¬¡è´å¡å°”æ›²çº¿\n  -  ` T x1 y1  `or `t dx dy`\n\n> Qã€Tå‘½ä»¤ä¾‹å­\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoRJaqN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/PoRJaqN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n5.  Arc\n\n-   Aå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºç»˜åˆ¶æ›²çº¿\n    -   `A rx ry x-axis-rotation large-arc-flag sweep-flag x y` `a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy`\n    -   Â Â å‚æ•°è¯´æ˜ï¼š\n    -   Â Â rx ry: xã€yè½´åŠå¾„\n    -   Â Â X-axis-rotation: ç»•xè½´æ—‹è½¬è§’åº¦\n    -   Â Â large-arc-flagï¼š0-å¼§å°äº180åº¦ã€1-å¼§å¤§äº180åº¦\n    -   Â Â sweep-flagï¼š0-é€†æ—¶é’ˆç”»å¼§ã€1-é¡ºæ—¶é’ˆç”»å¼§\n    -   Â Â x yï¼šç»ˆç‚¹åæ ‡\n\n## åŠ¨ç”»\n\n> æ”¾å…¥å½¢çŠ¶å…ƒç´ å†…éƒ¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´æ®µé‡Œï¼Œè®¾ç½®ç›¸å…³å±æ€§çš„å¼€å§‹ä¸ç»“æŸå€¼ï¼Œå˜åŒ–æ›²çº¿ç­‰ã€‚\n\n### åŠ¨ç”»å…ƒç´ \n  -   animateï¼šç”¨æ¥å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„æŸä¸ªå±æ€§åœ¨ç›¸åº”æ—¶é—´çš„å˜åŒ–\n  -   animateTransformï¼šæ”¹å˜ç›®æ ‡å…ƒç´ ä¸Šçš„ä¸€ä¸ªå˜å½¢å±æ€§ï¼Œæ§åˆ¶æ—‹è½¬ã€ç¼©æ”¾ã€å¹³ç§»ã€æ–œåˆ‡å˜æ¢\n  -   animateMotionï¼šå®šä¹‰ç›®æ ‡å…ƒç´ å¦‚ä½•æ²¿ä¸€ä¸ªè·¯å¾„è¿åŠ¨\n  -   discardï¼šæŒ‡å®šåœ¨ä½•æ—¶ä¸¢å¼ƒç‰¹å®šå…ƒç´ ï¼Œä»è€Œå‡å°‘ SVG ç”¨æˆ·ä»£ç†æ‰€éœ€çš„èµ„æºã€‚\n  -   mpathï¼šé…åˆanimateMotionï¼Œå¯ä»£æ›¿animateMotionçš„pathå±æ€§ï¼Œç”¨äºå¼•ç”¨ä¸€ä¸ªå¤–éƒ¨çš„path\n  -   setï¼šå¯ä»¥ç”¨æ¥è®¾å®šä¸€ä¸ªå±æ€§å€¼ï¼Œå¹¶ä¸ºè¯¥å€¼èµ‹äºˆä¸€ä¸ªæŒç»­æ—¶é—´ã€‚å®ƒæ”¯æŒæ‰€æœ‰çš„å±æ€§ç±»å‹ï¼Œ åŒ…æ‹¬é‚£äº›åŸç†ä¸Šä¸èƒ½æ’å€¼çš„ï¼Œ ä¾‹å¦‚å€¼ä¸ºå­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹çš„å±æ€§ã€‚ set å…ƒç´ æ˜¯éå åŠ çš„ã€‚æ— æ³•åœ¨å…¶ä¸Šä½¿ç”¨ additive å±æ€§æˆ– accumulate å±æ€§ï¼Œå³ä½¿å£°æ˜äº†è¿™äº›å±æ€§ä¹Ÿä¼šè‡ªåŠ¨è¢«å¿½ç•¥ã€‚\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmrYLy?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmrYLy\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n### åŠ¨ç”»å±æ€§\n\nè¿™é‡Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š\n\n  1.  å–å€¼å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§ï¼ˆå¦‚xåæ ‡ï¼Œwidthç­‰å±æ€§ï¼‰çš„å€¼\n\n    -  **calcModeï¼š** è®¾ç½®åŠ¨ç”»çš„å˜åŒ–æ›²çº¿ï¼ˆdiscrete | linear | paced | splineï¼‰ï¼Œé™¤äº†animateMotioné»˜è®¤æ˜¯pacedå¤–ï¼Œå…¶ä»–æ˜¯é»˜è®¤linearï¼Œå½“ä¸€äº›ä¸æ”¯æŒçº¿æ€§å˜åŒ–çš„å±æ€§å€¼ï¼ˆstringç±»å‹çš„ï¼‰å°±ä¼šå˜ä¸ºdiscreteã€‚\n\n    -  **valuesï¼š** å®šä¹‰åŠ¨ç”»è¿‡ç¨‹ä¸­çš„å€¼åºåˆ—ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªå€¼çš„åˆ†å·åˆ†éš”åˆ—è¡¨ï¼‰çš„å€¼ã€‚ å¦‚æœæŒ‡å®šäº†æ­¤å±æ€§ï¼Œåˆ™å°†å¿½ç•¥åœ¨å…ƒç´ ä¸Šè®¾ç½®çš„ä»»ä½• `from`, `to`, å’Œ `by` å±æ€§å€¼ã€‚\n\n    -  **keyTimesï¼š** ä»¥åˆ†å·åˆ†éš”çš„æ—¶é—´å€¼åˆ—è¡¨ï¼Œç”¨äºæ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œæ­¥éª¤ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼ä¸`values`ä¸­çš„å€¼ä¸€ä¸€å¯¹åº”ï¼Œå®šä¹‰äº†`values`ä¸­çš„å€¼åœ¨åŠ¨ç”»ä¸­ä½•æ—¶æ‰§è¡Œï¼ŒkeyTimes åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯æŒ‡å®šåœ¨ [0-1] ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºåŠ¨ç”»çš„å®Œæˆæ—¶é—´ã€‚æ¯ä¸€ä¸ªè¿ç»­çš„æ—¶é—´å€¼å¿…é¡»å¤§äºç­‰äºå‰ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n\n        -   å¯¹äº linear å’Œ splineåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 0ï¼Œåˆ—è¡¨çš„æœ€åä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 1ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼Œè¯¥ value åœ¨ keyTimes çš„æ—¶é—´ å€¼çš„ä¸­é—´æ’å€¼ã€‚\n        -   å¯¹äº discreteåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼å¿…é¡»ä¸º 0ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼ŒåŠ¨ç”»å‡½æ•°ä½¿ç”¨è¯¥ valueï¼Œç›´åˆ° keyTimes ä¸­å®šä¹‰çš„ä¸‹ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n        -   å¦‚æœæ’å€¼æ¨¡å¼æ˜¯ pacedåŠ¨ç”»ï¼ŒkeyTimes å±æ€§è¢«å¿½ç•¥ã€‚\n\n    -  **keySplinesï¼š** å®šä¹‰äº†ä¸€ç»„ä¸ keyTimes åˆ—è¡¨å…³è”çš„ BÃ©zier æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ§åˆ¶é—´éš”ï¼ˆkeyTimesçš„å€¼åˆ—è¡¨é•¿åº¦å‡1å³ä¸ºé—´éš”æ•°ï¼‰çš„ä¸‰æ¬¡ BÃ©zier å‡½æ•°ã€‚åªæœ‰splineåŠ¨ç”»æ‰ä¼šæœ‰æ•ˆã€‚\n\n    -  **fromï¼š** æŒ‡å®šå±æ€§çš„å¼€å§‹å€¼\n\n    -  **byï¼š** æŒ‡å®šå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„ç›¸å¯¹åç§»å€¼\n\n    -  **toï¼š** è¡¨ç¤ºå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„æœ€ç»ˆå€¼\n\n  > å–å€¼å±æ€§ä¾‹å­\n\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/WNzdXNZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/WNzdXNZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n  2.  æ—¶é—´å±æ€§ï¼šæ§åˆ¶åŠ¨ç”»å¦‚ä½•å¼€å§‹ï¼Œä½•æ—¶å¼€å§‹ã€é‡å¤æ¬¡æ•°ç­‰\n\n    -  **beginï¼š** åŠ¨ç”»å¼€å§‹æ—¶é—´\n\n    -  **endï¼š** åŠ¨ç”»ç»“æŸæ—¶é—´\n\n    -  **durï¼š** åŠ¨ç”»æŒç»­æ—¶é—´\n\n    -  **min/maxï¼š** é™åˆ¶åŠ¨ç”»çš„æœ€å°/å¤§æŒç»­æ—¶é—´\n\n    -  **restartï¼š** æ§åˆ¶åŠ¨ç”»æ˜¯å¦å¯ä»¥é‡æ–°å¼€å§‹\n\n        -   `always` ï¼šä»»ä½•æ—¶å€™éƒ½å¯é‡æ–°å¼€å§‹\n        -   `whenNotActive` ï¼šéåŠ¨ç”»æ—¶å¯é‡æ–°å¼€å§‹\n        -   `never` ï¼šä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é‡æ–°å¼€å§‹\n\n    -  **repeatCountï¼š** æŒ‡å®šåŠ¨ç”»é‡å¤çš„æ¬¡æ•°ã€å€¼å¿…é¡»å¤§äº 0ã€‚\n\n    -  **repeatDurï¼š** æŒ‡å®šåŠ¨ç”»çš„é‡å¤æ—¶é—´\n\n    -  **fillï¼š** æ§åˆ¶åŠ¨ç”»ç»“æŸæ—¶çš„çŠ¶æ€ã€‚æœ‰ä¸¤ä¸ªå€¼å¯é€‰\n\n        -   removeï¼šåœ¨åŠ¨ç”»çš„æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼ŒåŠ¨ç”»æ•ˆæœä¼šç§»é™¤ï¼ˆä¸å†åº”ç”¨ï¼‰ã€‚åœ¨åŠ¨ç”»çš„æ¿€æ´»ç»“æŸåï¼ŒåŠ¨ç”»ä¸å†å¯¹ç›®æ ‡å…ƒç´ æœ‰å½±å“ï¼ˆé™¤éåŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰ã€‚\n        -   freezeï¼šåœ¨åŠ¨ç”»æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼Œæ–‡æ¡£æŒç»­æ—¶é—´çš„å‰©ä½™æ—¶é—´é‡Œï¼ˆæˆ–è€…ç›´åˆ°åŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰åŠ¨ç”»æ•ˆæœä¼šâ€œå†»ç»“â€ç€ã€‚ï¼ˆä¿æŒåŠ¨ç”»ç»ˆæ€ï¼‰\n\n  3.  ç›®æ ‡å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§\n\n    -  **ttributeTypeï¼š** å½“attributeType=\"XML\"æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯XMLçš„å±æ€§ï¼›å½“attributeType=\"CSS\"æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯cssçš„å±æ€§ï¼›ä¸æŒ‡å®šattributeTypeæ—¶ï¼Œé»˜è®¤ä¸º\"auto\"ï¼Œä¼šå…ˆå°†attributeNameä½œä¸ºcssçš„å±æ€§ï¼Œå¦‚æœæ— æ•ˆï¼Œå†å°†attributeNameä½œä¸ºXMLçš„å±æ€§ã€‚\n    -  **attributeNameï¼š** è¦åŠ¨ç”»çš„å±æ€§å\n\n<!---->\n\n  4.  å…¶ä»–å±æ€§ï¼šadditiveã€accumulate\n\n    -  **additiveï¼š** æ§åˆ¶åŠ¨ç”»å±æ€§æ˜¯å¦æ˜¯é™„åŠ çš„ã€‚\n    -  **accumulateï¼š** åœ¨åŸæ¥çš„ç»“æœçš„åŸºç¡€ä¸Šé‡å¤åŠ¨ç”»çš„æ—¶å€™æ¯ä¸€æ¬¡å¾ªç¯éƒ½ç´¯åŠ ã€‚è¿™ä¸ªå±æ€§å‘Šè¯‰åŠ¨ç”»æ˜¯å¦æ˜¯æ¯æ¬¡å¾ªç¯ï¼Œå‰ä¸€ä¸ªåŠ¨ç”»å±æ€§å€¼è¦åŠ ä¸Šå»ã€‚éœ€è¦è®¾ç½®fromä¸toå±æ€§ã€‚\n\n  > additiveã€accumulateä¾‹å­\n\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoREOjj?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/PoREOjj\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n## ç»“æ„å…ƒç´ \n\n> ç»“æ„å…ƒç´ å…³æ³¨çš„æ˜¯å¤ç”¨\n\n-   **defsï¼š** å®šä¹‰ä¸€ä¸ªå¤ç”¨çš„å›¾å½¢ã€‚åœ¨`defs`å…ƒç´ ä¸­å®šä¹‰çš„å›¾å½¢å…ƒç´ ä¸ä¼šç›´æ¥å‘ˆç°ã€‚ ä½ å¯ä»¥åœ¨ä½ çš„è§†å£çš„ä»»æ„åœ°æ–¹åˆ©ç”¨ `use`å…ƒç´ å‘ˆç°è¿™äº›å…ƒç´ ã€‚\n\n<!---->\n\n-   **gï¼š** ç»„åˆå­å…ƒç´ çš„å®¹å™¨ï¼Œgå…ƒç´ çš„å±æ€§ä¼šè¢«å…¶æ‰€æœ‰çš„å­å…ƒç´ ç»§æ‰¿ ã€‚ä¸`defs`ç›¸æ¯”ï¼Œgå®šä¹‰çš„é™¤äº†å¤ç”¨å¤–ï¼Œåœ¨å®šä¹‰æ—¶ä¼šè¿›è¡Œæ¸²æŸ“ã€‚\n\n<!---->\n\n-   **symbolï¼š** å®šä¹‰ä¸€ä¸ªå›¾å½¢æ¨¡ç‰ˆå¯¹è±¡ï¼Œä½¿ç”¨`use`å…ƒç´ å®ä¾‹åŒ–ã€‚`symbol`å…ƒç´ å¯¹å›¾å½¢çš„ä½œç”¨æ˜¯åœ¨åŒä¸€æ–‡æ¡£ä¸­å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ ç»“æ„å’Œè¯­ä¹‰ã€‚symbolé€šè¿‡`use`è°ƒç”¨æ—¶ï¼Œ` <use  ``/``>`å¯ä»¥è®¾ç½®heightã€widthæ§åˆ¶å®é™…ç»˜åˆ¶çš„å¤§å°ã€‚\n\n<!---->\n\n-   **svg** **ï¼š** å¦‚æœ `svg` ä¸æ˜¯æ ¹å…ƒç´ ï¼Œ`svg` å…ƒç´ å¯ä»¥ç”¨äºåœ¨å½“å‰æ–‡æ¡£ï¼ˆæ¯”å¦‚è¯´ï¼Œä¸€ä¸ª HTML æ–‡æ¡£ï¼‰å†…åµŒå¥—ä¸€ä¸ªç‹¬ç«‹çš„ svg ç‰‡æ®µ ã€‚ è¿™ä¸ªç‹¬ç«‹ç‰‡æ®µæ‹¥æœ‰ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿã€‚\n\n<!---->\n\n-   **markerï¼š** å®šä¹‰äº†åœ¨ç‰¹å®šçš„pathå…ƒç´ ã€lineå…ƒç´ ã€polylineå…ƒç´ æˆ–è€…polygonå…ƒç´ ä¸Šç»˜åˆ¶ç®­å¤´æˆ–è€…å¤šè¾¹å½¢æ ‡è®°å›¾å½¢ã€‚\n\n    -   refxï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„xåæ ‡ (é»˜è®¤æ˜¯0)\n    -   refyï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„yåæ ‡ (é»˜è®¤æ˜¯0)\n    -   markerWidthï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ `<marker>` æ—¶è¦é€‚åˆçš„è§†å£å®½åº¦\n    -   markerHeightï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ ` <marker>  `æ—¶è¦é€‚åˆçš„è§†å£é«˜åº¦\n    -   markerUnitsï¼šæŒ‡ç¤ºæ ‡è®°æ”¾ç½®åœ¨å½¢çŠ¶ä¸Šçš„ä½ç½®æ—¶å¦‚ä½•æ—‹è½¬\n\n<!---->\n\n-   mask\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/GRxmgEN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/GRxmgEN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n## æ»¤é•œå…ƒç´ \n\n### ç›¸å…³æ ‡ç­¾\n\n> æ»¤é•œé€šè¿‡`<filter>`åœ¨`<defs>`ä¸­è¿›è¡Œå®šä¹‰ï¼Œåœ¨filteræ ‡ç­¾ä¸­æä¾›ä¸€ç³»åˆ—å›¾å…ƒï¼Œä½¿ç”¨æ»¤é•œåªéœ€ä¸ºsvgå…ƒç´ è®¾ç½®filterå±æ€§å³å¯ã€‚\n\n### å¸¸è§å±æ€§\n\n  inï¼šæ ‡è¯†è¾“å…¥çš„åŸè¯­\n\n    -   SourceGraphicï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`<filter>`åŸè¯­çš„åŸå§‹è¾“å…¥\n    -   SourceAlphaï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`<filter>`åŸè¯­çš„åŸå§‹è¾“å…¥. SourceAlpha ä¸ SourceGraphic å…·æœ‰ç›¸åŒçš„è§„åˆ™é™¤äº† SourceAlpha åªä½¿ç”¨å…ƒç´ çš„é€æ˜åº¦ã€‚\n    -   BackgroundImageï¼šè¯¥å…³é”®è¯è¡¨ç¤º filter å…ƒç´ å½“å‰åº•ä¸‹çš„åŒºåŸŸçš„å›¾å½¢å¿«ç…§å°†è¢«è°ƒç”¨ã€‚\n    -   BackgroundAlphaï¼šBackgroundImage ç›¸åŒé™¤äº†åªä½¿ç”¨é€æ˜åº¦ã€‚\n    -   FillPaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºè¿‡æ»¤æ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„`fill`å±æ€§å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒFillPaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n    -   StrokePaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºæ»¤é•œæ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„ç¬”ç”»å±æ€§çš„å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒStrokePaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n\n<!---->\n\n  in2ï¼šin2 å±æ€§æ ‡è¯†ç»™å®šfilteråŸè¯­çš„ç¬¬äºŒä¸ªè¾“å…¥ã€‚å®ƒçš„å·¥ä½œåŸç†ä¸ in å±æ€§å®Œå…¨ç›¸åŒã€‚\n\n\n> colorMatrixé¢œè‰²çŸ©é˜µå˜æ¢\n\n```typescript\n/* R G B A 1 é¢œè‰²çŸ©é˜µè®¡ç®— */\n 1 0 0 0 0 // R = 1*R + 0*G + 0*B + 0*A + 0 \n 0 1 0 0 0 // G = 0*R + 1*G + 0*B + 0*A + 0 \n 0 0 1 0 0 // B = 0*R + 0*G + 1*B + 0*A + 0 \n 0 0 0 1 0 // A = 0*R + 0*G + 0*B + 1*A + 0\n```\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/xxWzjde?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/xxWzjde\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n> ä½¿ç”¨feGaussianBlurã€feColorMatrixã€feBlendå®ç°ç²˜ç¨ æ•ˆæœ\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLZbQO?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLZbQO\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n> ä½¿ç”¨feCompositeå¹¶è®¾ç½®operatorä¸ºinï¼Œæ§åˆ¶æ˜¾ç¤ºå›¾åƒçš„ä¸€éƒ¨åˆ†ã€‚\n\nå…³äºfeCompositeï¼Œæ›´å¤šå¯ä»¥çœ‹è¿™é‡Œï¼š[feComposite](https://apike.ca/prog_svg_filter_feComposite.html)\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmXOwZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmXOwZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n> feDisplacementMapã€feTurbulence\n\nfeDisplacementMapæ¨èçœ‹è¿™ç¯‡ï¼š[æ·±å…¥ç†è§£SVG feDisplacementMapæ»¤é•œåŠå®é™…åº”ç”¨](https://www.zhangxinxu.com/wordpress/2017/12/understand-svg-fedisplacementmap-filter/)\n\nfeTurbulenceæ¨èçœ‹è¿™ç¯‡ï¼š[è¯´è¯´SVGçš„feTurbulenceæ»¤é•œ](https://zhuanlan.zhihu.com/p/366438535)\n\nä½ç½®è½¬æ¢å…¬å¼ï¼š\n\n`P'(x,y) â† P(x + scale * (XC(x,y) - 0.5), y + scale * (YC(x,y) - 0.5))`\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/OJvwJqV?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/OJvwJqV\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n## æ¸å˜å…ƒç´ \n### Â Â linearGradientï¼šçº¿æ€§æ¸å˜\n  -   gradientUnits: æ§åˆ¶æ¸å˜åæ ‡çš„å•ä½\n  -   gradientTransform: å¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰\n  -   x1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹xåæ ‡-   y1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹yåæ ‡\n  -   x2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹xåæ ‡-   y2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹yåæ ‡\n  -   spreadMethodï¼šå®šä¹‰å¦‚ä½•åœ¨æ¸å˜ä¹‹å¤–å¡«å……\n    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ\n    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤\n    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤\n\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLMMjR?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLMMjR\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n### Â Â radialGradientï¼šå¾„å‘æ¸å˜\n  -   gradientUnitsï¼šæ§åˆ¶æ¸å˜åæ ‡çš„å•ä½\n  -   gradientTransformï¼šå¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰\n  -   cx: ç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ x è½´åæ ‡(é»˜è®¤50%)ã€‚\n  -   cyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ y è½´åæ ‡ã€‚\n  -   rï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„åŠå¾„ã€‚\n  -   fxï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ x è½´åæ ‡\n  -   fyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ y è½´åæ ‡\n  -   spreadMethodï¼šç¡®å®šå¦‚ä½•åœ¨æ¸å˜çš„å®šä¹‰è¾¹ç¼˜ä¹‹å¤–å¡«å……å½¢çŠ¶ã€‚\n    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ\n    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤\n    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤\n  -   stopï¼šæ¸å˜çš„é¢œè‰²å¡åº¦\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"svg-radialgradient\" src=\"https://codepen.io/l-jour/embed/zYWWLBa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/zYWWLBa\">\n  svg-radialgradient</a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n## å…³äºsvgä¸canvas\n  å¯ä»¥çœ‹çœ‹msdnçš„æ–‡ç« [å¦‚ä½•ä¸ºæ‚¨çš„ç½‘ç«™åœ¨Canvaså’ŒSVGä¹‹é—´åšå‡ºé€‰æ‹©](https://docs.microsoft.com/zh-cn/previous-versions/msdn10/Hh377884(v=MSDN.10))\n\n## æ€»ç»“\n  svgçš„ä¸–ç•Œéå¸¸ä¸°å¯Œï¼Œå¹¶ä¸”å¾ˆå¤šå±æ€§å¯ä»¥ä½œç”¨ä¸åŒçš„å…ƒç´ ã€æ‹¥æœ‰ä¸åŒçš„æ•ˆæœã€‚å…ƒç´ ç›´æ¥æœ‰å¯ä»¥æ­é…ä½¿ç”¨ï¼Œå¦‚å¤šä¸ªåŠ¨ç”»ï¼Œå¤šä¸ªæ»¤é•œç­‰ç­‰ï¼Œæ»¤é•œå…ƒç´ è¿˜æ¶‰åŠæ›´å¤šé¢†åŸŸçŸ¥è¯†ã€‚æ€»ä¹‹ï¼Œå…ƒç´ ç§ç±»ã€å…ƒç´ å±æ€§éå¸¸å¤šï¼Œè¿˜æ˜¯éœ€è¦å¾—æ…¢æ…¢åœ°å­¦ä¹ ã€é˜…è¯»ç›¸å…³çš„æ¡ˆä¾‹å¹¶æ“ä½œä¸€ä¸‹æ‰èƒ½æœ‰æ‰€æŒæ¡ã€‚\n## Reference\n  -   [feComposite](https://apike.ca/prog_svg_filter_feComposite.html)\n  -   [è´å¡å°”æ›²çº¿-wiki](https://zh.wikipedia.org/zh-cn/%E8%B2%9D%E8%8C%B2%E6%9B%B2%E7%B7%9A)\n\n","source":"_posts/svgåŸºç¡€.md","raw":"---\ntitle: svgåŸºç¡€\ndate: 2022-07-21 15:52:53\ntags:\ntoc: true\n---\n\n## å®šä¹‰\n\nsvgï¼ˆScalable Vector Graphicsï¼‰å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ï¼Œæ˜¯ W3C XML çš„åˆ†æ”¯è¯­è¨€ä¹‹ä¸€ï¼Œç”¨äºæ ‡è®°å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ã€‚\n\n<!-- more -->\n\n## å‘½åç©ºé—´\n\nå®šä¹‰çš„å‘½åç©ºé—´å¯ä»¥æŠŠé€šé…ã€å…ƒç´ ã€å±æ€§é€‰æ‹©å™¨é™åˆ¶åœ¨æŒ‡å®šå‘½åç©ºé—´é‡Œçš„å…ƒç´ ã€‚\n\n### å£°æ˜å‘½åç©ºé—´\n\nä½¿ç”¨xmlnså±æ€§è¿›è¡Œå‘½åç©ºé—´çš„å£°æ˜ï¼Œä¸‹é¢çš„å£°æ˜æ„å‘³ç€svgä»¥åŠå®ƒçš„å­èŠ‚ç‚¹éƒ½å±äºâ€œhttp://www.w3.org/2000/svgâ€è¿™ä¸ªsvgå‘½åç©ºé—´ã€‚\n\n```\n<svg xmlns=\"http://www.w3.org/2000/svg\">\n\n</svg>\n```\n\n## SVG å…ƒç´ \n\nSee moreï¼š[mdn-svgå…ƒç´ å‚è€ƒ](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element#svg_%E5%85%83%E7%B4%A0%EF%BC%88%E6%8C%89%E7%B1%BB%E5%88%AB%E5%88%86%E7%B1%BB%EF%BC%89)\n> ä¸Šé¢åˆ—å‡ºäº†ä¸€äº›å¸¸è§ä»¥åŠå¸¸ç”¨çš„svgå…ƒç´ ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆæ ·å­çš„ä»¥åŠæ€ä¹ˆæ”¹å˜å®ƒä»¬çš„å±æ€§ã€‚\n\n## å›¾å½¢å…ƒç´ \n\n### åŸºç¡€å›¾å½¢å…ƒç´ \n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/RwMVwNE?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/RwMVwNE\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n### çº¿æ®µå±æ€§\n\nå¯¹äºstrokeå¡«å……çš„çº¿æ®µæ¥è¯´ï¼Œstroke-dasharrayä¸stroke-dashoffsetæ˜¯ä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å±æ€§ã€‚\n\n-   stroke-dasharrayï¼šæ§åˆ¶ç”¨æ§åˆ¶çº¿æ®µå®çº¿ä¸è™šçº¿çš„å•å…ƒé•¿åº¦ã€‚\n\n<!---->\n\n-   stroke-dasharrayï¼šæ§åˆ¶è™šçº¿çš„åç§»\n\n> stroke-dasharrayç»“åˆanimateçš„ä¾‹å­\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ZExoMmN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ZExoMmN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n> ä½¿ç”¨stroke-dashoffsetä¸animateTransformã€animateç»˜åˆ¶åŠ è½½åŠ¨ç”»\n\nç”¨animateæ§åˆ¶stroke-dashoffsetè™šçº¿éƒ¨åˆ†çš„åç§»ï¼ŒåŒæ—¶animateTransformæ§åˆ¶æ•´ä¸ªåœ†ç¯çš„è‡ªè½¬ã€‚\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ExELqMa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ExELqMa\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n> å¿ƒç”µå›¾\n\nè¿™é‡Œä¸»è¦æ€è·¯å°±æ˜¯ä½¿ç”¨polylineç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œä½¿ç”¨stroke-dasharrayç»˜åˆ¶è™šçº¿ï¼Œstroke-dashoffsetæ§åˆ¶è™šçº¿ç©ºç™½å¤„çš„åç§»ï¼Œç„¶åç”¨animateæ§åˆ¶stroke-dashoffsetçš„å€¼ï¼Œå°±èƒ½çœ‹è§è¿™ç§çº¿æ®µç§»åŠ¨çš„æ•ˆæœäº†ğŸ«¥\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/qBoYyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/qBoYyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n### å¼ºå¤§çš„pathå…ƒç´ \n\nä¸Šé¢çš„åŸºæœ¬å›¾å½¢éƒ½æ˜¯å¯ä»¥ç”¨pathæ¥åˆ›å»ºçš„ï¼Œè€Œpathçš„åŠŸèƒ½è¿œè¿œä¸æ­¢ä¸Šé¢è¿™äº›å›¾å½¢ğŸ˜ã€‚pathå…ƒç´ çš„å½¢çŠ¶é€šè¿‡å±æ€§dæ¥å®šä¹‰ï¼Œå±æ€§dçš„å€¼æ˜¯ä¸€ä¸ªâ€œå‘½ä»¤+å‚æ•°â€çš„åºåˆ—ã€‚ä¸‹é¢å°±åˆ—å‡ºäº†ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ã€‚\n\n#### ç›´çº¿å‘½ä»¤\n\n1.  Moveto\n\n    -  `M x,y` åœ¨è¿™é‡Œxå’Œyæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡ã€‚\n    -  `m dx,dy` åœ¨è¿™é‡Œdxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»ã€‚\n\n<!---->\n\n2.  Lineto\n   `Lineto`æŒ‡ä»¤å°†ç»˜åˆ¶ä¸€æ¡ç›´çº¿æ®µã€‚è¿™ä¸ªç›´çº¿æ®µä»å½“å‰ä½ç½®ç§»åˆ°æŒ‡å®šä½ç½®\n    -   `Lx,y` xä¸yæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡\n    -   `ldx,dy` dxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»\n    -   `Hx` ç»å¯¹åæ ‡ï¼Œæ°´å¹³ç§»åŠ¨\n    -   `Vy` ç»å¯¹åæ ‡ï¼Œå‚ç›´ç§»åŠ¨\n    -   `hdx` æ°´å¹³ç§»åŠ¨ç›¸å¯¹è·ç¦»\n    -   `vdy` å‚ç›´ç§»åŠ¨ç›¸å¯¹è·ç¦»\n\n3.  Z or zï¼šé—­åˆè·¯å¾„\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/NWYjyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/NWYjyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n#### æ›²çº¿å‘½ä»¤\n\nå°å†™çš„æŒ‡ä»¤æ„ä¹‰åŒä¸Šï¼Œéƒ½æ˜¯è·Ÿç›¸å¯¹çš„è·ç¦»\n\n1.  Curveto\n\n  -  Â Â Cå‘½ä»¤åˆ›å»ºä¸€ä¸ªä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œå…¶ä¸­ (x1,y1) (x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œx,yä¸ºæ›²çº¿ç»ˆç‚¹\n  -  ` C x1 y1, x2 y2, x y  `or `c dx1 dy1, dx2 dy2, dx dy`\n\n<!---->\n\n2.  Smooth Curveto\n\n  -  Â Â Så‘½ä»¤å¯ä»¥ç”¨æ¥åˆ›å»ºäºä¸å‰é¢ä¸€æ ·çš„è´å¡å°”æ›²çº¿ï¼Œå¦‚æœSå‘½ä»¤è·Ÿåœ¨ä¸€ä¸ªCæˆ–Så‘½ä»¤åé¢ï¼Œåˆ™å®ƒçš„ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¼šè¢«å‡è®¾æˆå‰ä¸€ä¸ªå‘½ä»¤æ›²çº¿çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ã€‚å¦‚æœSå‘½ä»¤å•ç‹¬ä½¿ç”¨ï¼Œå‰é¢æ²¡æœ‰Cæˆ–è€…Så‘½ä»¤ï¼Œé‚£å½“å‰ç‚¹å°†ä½œä¸ºç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ã€‚æœ€å¤§çš„ä½œç”¨å°±æ˜¯å…‰æ»‘åœ°è¿æ¥ä¸¤æ¡æ›²çº¿\n  -  `S x2 y2,x y` or `s dx2 dy2, dx dy`\n\n> Cã€Så‘½ä»¤ä¾‹å­\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/rNdmJma?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/rNdmJma\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n3.  Quadratic BÃ©zier curveto\n\n  -   Qå‘½ä»¤ç”¨æ¥åˆ›å»ºä¸€æ¡äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œåªéœ€è¦ä¸€ä¸ªæ§åˆ¶ç‚¹\n  -   `Q x1 y1,x y` or `q dx1 dx2,dx dy`\n\n4.  Smooth quadratic BÃ©zier curveto\n\n  -  Tå‘½ä»¤ç±»ä¼¼Så‘½ä»¤ï¼Œç”¨äºå¹³æ»‘é“¾æ¥äºŒæ¬¡è´å¡å°”æ›²çº¿\n  -  ` T x1 y1  `or `t dx dy`\n\n> Qã€Tå‘½ä»¤ä¾‹å­\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoRJaqN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/PoRJaqN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n5.  Arc\n\n-   Aå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºç»˜åˆ¶æ›²çº¿\n    -   `A rx ry x-axis-rotation large-arc-flag sweep-flag x y` `a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy`\n    -   Â Â å‚æ•°è¯´æ˜ï¼š\n    -   Â Â rx ry: xã€yè½´åŠå¾„\n    -   Â Â X-axis-rotation: ç»•xè½´æ—‹è½¬è§’åº¦\n    -   Â Â large-arc-flagï¼š0-å¼§å°äº180åº¦ã€1-å¼§å¤§äº180åº¦\n    -   Â Â sweep-flagï¼š0-é€†æ—¶é’ˆç”»å¼§ã€1-é¡ºæ—¶é’ˆç”»å¼§\n    -   Â Â x yï¼šç»ˆç‚¹åæ ‡\n\n## åŠ¨ç”»\n\n> æ”¾å…¥å½¢çŠ¶å…ƒç´ å†…éƒ¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´æ®µé‡Œï¼Œè®¾ç½®ç›¸å…³å±æ€§çš„å¼€å§‹ä¸ç»“æŸå€¼ï¼Œå˜åŒ–æ›²çº¿ç­‰ã€‚\n\n### åŠ¨ç”»å…ƒç´ \n  -   animateï¼šç”¨æ¥å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„æŸä¸ªå±æ€§åœ¨ç›¸åº”æ—¶é—´çš„å˜åŒ–\n  -   animateTransformï¼šæ”¹å˜ç›®æ ‡å…ƒç´ ä¸Šçš„ä¸€ä¸ªå˜å½¢å±æ€§ï¼Œæ§åˆ¶æ—‹è½¬ã€ç¼©æ”¾ã€å¹³ç§»ã€æ–œåˆ‡å˜æ¢\n  -   animateMotionï¼šå®šä¹‰ç›®æ ‡å…ƒç´ å¦‚ä½•æ²¿ä¸€ä¸ªè·¯å¾„è¿åŠ¨\n  -   discardï¼šæŒ‡å®šåœ¨ä½•æ—¶ä¸¢å¼ƒç‰¹å®šå…ƒç´ ï¼Œä»è€Œå‡å°‘ SVG ç”¨æˆ·ä»£ç†æ‰€éœ€çš„èµ„æºã€‚\n  -   mpathï¼šé…åˆanimateMotionï¼Œå¯ä»£æ›¿animateMotionçš„pathå±æ€§ï¼Œç”¨äºå¼•ç”¨ä¸€ä¸ªå¤–éƒ¨çš„path\n  -   setï¼šå¯ä»¥ç”¨æ¥è®¾å®šä¸€ä¸ªå±æ€§å€¼ï¼Œå¹¶ä¸ºè¯¥å€¼èµ‹äºˆä¸€ä¸ªæŒç»­æ—¶é—´ã€‚å®ƒæ”¯æŒæ‰€æœ‰çš„å±æ€§ç±»å‹ï¼Œ åŒ…æ‹¬é‚£äº›åŸç†ä¸Šä¸èƒ½æ’å€¼çš„ï¼Œ ä¾‹å¦‚å€¼ä¸ºå­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹çš„å±æ€§ã€‚ set å…ƒç´ æ˜¯éå åŠ çš„ã€‚æ— æ³•åœ¨å…¶ä¸Šä½¿ç”¨ additive å±æ€§æˆ– accumulate å±æ€§ï¼Œå³ä½¿å£°æ˜äº†è¿™äº›å±æ€§ä¹Ÿä¼šè‡ªåŠ¨è¢«å¿½ç•¥ã€‚\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmrYLy?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmrYLy\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n### åŠ¨ç”»å±æ€§\n\nè¿™é‡Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š\n\n  1.  å–å€¼å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§ï¼ˆå¦‚xåæ ‡ï¼Œwidthç­‰å±æ€§ï¼‰çš„å€¼\n\n    -  **calcModeï¼š** è®¾ç½®åŠ¨ç”»çš„å˜åŒ–æ›²çº¿ï¼ˆdiscrete | linear | paced | splineï¼‰ï¼Œé™¤äº†animateMotioné»˜è®¤æ˜¯pacedå¤–ï¼Œå…¶ä»–æ˜¯é»˜è®¤linearï¼Œå½“ä¸€äº›ä¸æ”¯æŒçº¿æ€§å˜åŒ–çš„å±æ€§å€¼ï¼ˆstringç±»å‹çš„ï¼‰å°±ä¼šå˜ä¸ºdiscreteã€‚\n\n    -  **valuesï¼š** å®šä¹‰åŠ¨ç”»è¿‡ç¨‹ä¸­çš„å€¼åºåˆ—ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªå€¼çš„åˆ†å·åˆ†éš”åˆ—è¡¨ï¼‰çš„å€¼ã€‚ å¦‚æœæŒ‡å®šäº†æ­¤å±æ€§ï¼Œåˆ™å°†å¿½ç•¥åœ¨å…ƒç´ ä¸Šè®¾ç½®çš„ä»»ä½• `from`, `to`, å’Œ `by` å±æ€§å€¼ã€‚\n\n    -  **keyTimesï¼š** ä»¥åˆ†å·åˆ†éš”çš„æ—¶é—´å€¼åˆ—è¡¨ï¼Œç”¨äºæ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œæ­¥éª¤ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼ä¸`values`ä¸­çš„å€¼ä¸€ä¸€å¯¹åº”ï¼Œå®šä¹‰äº†`values`ä¸­çš„å€¼åœ¨åŠ¨ç”»ä¸­ä½•æ—¶æ‰§è¡Œï¼ŒkeyTimes åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯æŒ‡å®šåœ¨ [0-1] ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºåŠ¨ç”»çš„å®Œæˆæ—¶é—´ã€‚æ¯ä¸€ä¸ªè¿ç»­çš„æ—¶é—´å€¼å¿…é¡»å¤§äºç­‰äºå‰ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n\n        -   å¯¹äº linear å’Œ splineåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 0ï¼Œåˆ—è¡¨çš„æœ€åä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 1ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼Œè¯¥ value åœ¨ keyTimes çš„æ—¶é—´ å€¼çš„ä¸­é—´æ’å€¼ã€‚\n        -   å¯¹äº discreteåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼å¿…é¡»ä¸º 0ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼ŒåŠ¨ç”»å‡½æ•°ä½¿ç”¨è¯¥ valueï¼Œç›´åˆ° keyTimes ä¸­å®šä¹‰çš„ä¸‹ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n        -   å¦‚æœæ’å€¼æ¨¡å¼æ˜¯ pacedåŠ¨ç”»ï¼ŒkeyTimes å±æ€§è¢«å¿½ç•¥ã€‚\n\n    -  **keySplinesï¼š** å®šä¹‰äº†ä¸€ç»„ä¸ keyTimes åˆ—è¡¨å…³è”çš„ BÃ©zier æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ§åˆ¶é—´éš”ï¼ˆkeyTimesçš„å€¼åˆ—è¡¨é•¿åº¦å‡1å³ä¸ºé—´éš”æ•°ï¼‰çš„ä¸‰æ¬¡ BÃ©zier å‡½æ•°ã€‚åªæœ‰splineåŠ¨ç”»æ‰ä¼šæœ‰æ•ˆã€‚\n\n    -  **fromï¼š** æŒ‡å®šå±æ€§çš„å¼€å§‹å€¼\n\n    -  **byï¼š** æŒ‡å®šå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„ç›¸å¯¹åç§»å€¼\n\n    -  **toï¼š** è¡¨ç¤ºå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„æœ€ç»ˆå€¼\n\n  > å–å€¼å±æ€§ä¾‹å­\n\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/WNzdXNZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/WNzdXNZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n  2.  æ—¶é—´å±æ€§ï¼šæ§åˆ¶åŠ¨ç”»å¦‚ä½•å¼€å§‹ï¼Œä½•æ—¶å¼€å§‹ã€é‡å¤æ¬¡æ•°ç­‰\n\n    -  **beginï¼š** åŠ¨ç”»å¼€å§‹æ—¶é—´\n\n    -  **endï¼š** åŠ¨ç”»ç»“æŸæ—¶é—´\n\n    -  **durï¼š** åŠ¨ç”»æŒç»­æ—¶é—´\n\n    -  **min/maxï¼š** é™åˆ¶åŠ¨ç”»çš„æœ€å°/å¤§æŒç»­æ—¶é—´\n\n    -  **restartï¼š** æ§åˆ¶åŠ¨ç”»æ˜¯å¦å¯ä»¥é‡æ–°å¼€å§‹\n\n        -   `always` ï¼šä»»ä½•æ—¶å€™éƒ½å¯é‡æ–°å¼€å§‹\n        -   `whenNotActive` ï¼šéåŠ¨ç”»æ—¶å¯é‡æ–°å¼€å§‹\n        -   `never` ï¼šä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é‡æ–°å¼€å§‹\n\n    -  **repeatCountï¼š** æŒ‡å®šåŠ¨ç”»é‡å¤çš„æ¬¡æ•°ã€å€¼å¿…é¡»å¤§äº 0ã€‚\n\n    -  **repeatDurï¼š** æŒ‡å®šåŠ¨ç”»çš„é‡å¤æ—¶é—´\n\n    -  **fillï¼š** æ§åˆ¶åŠ¨ç”»ç»“æŸæ—¶çš„çŠ¶æ€ã€‚æœ‰ä¸¤ä¸ªå€¼å¯é€‰\n\n        -   removeï¼šåœ¨åŠ¨ç”»çš„æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼ŒåŠ¨ç”»æ•ˆæœä¼šç§»é™¤ï¼ˆä¸å†åº”ç”¨ï¼‰ã€‚åœ¨åŠ¨ç”»çš„æ¿€æ´»ç»“æŸåï¼ŒåŠ¨ç”»ä¸å†å¯¹ç›®æ ‡å…ƒç´ æœ‰å½±å“ï¼ˆé™¤éåŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰ã€‚\n        -   freezeï¼šåœ¨åŠ¨ç”»æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼Œæ–‡æ¡£æŒç»­æ—¶é—´çš„å‰©ä½™æ—¶é—´é‡Œï¼ˆæˆ–è€…ç›´åˆ°åŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰åŠ¨ç”»æ•ˆæœä¼šâ€œå†»ç»“â€ç€ã€‚ï¼ˆä¿æŒåŠ¨ç”»ç»ˆæ€ï¼‰\n\n  3.  ç›®æ ‡å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§\n\n    -  **ttributeTypeï¼š** å½“attributeType=\"XML\"æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯XMLçš„å±æ€§ï¼›å½“attributeType=\"CSS\"æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯cssçš„å±æ€§ï¼›ä¸æŒ‡å®šattributeTypeæ—¶ï¼Œé»˜è®¤ä¸º\"auto\"ï¼Œä¼šå…ˆå°†attributeNameä½œä¸ºcssçš„å±æ€§ï¼Œå¦‚æœæ— æ•ˆï¼Œå†å°†attributeNameä½œä¸ºXMLçš„å±æ€§ã€‚\n    -  **attributeNameï¼š** è¦åŠ¨ç”»çš„å±æ€§å\n\n<!---->\n\n  4.  å…¶ä»–å±æ€§ï¼šadditiveã€accumulate\n\n    -  **additiveï¼š** æ§åˆ¶åŠ¨ç”»å±æ€§æ˜¯å¦æ˜¯é™„åŠ çš„ã€‚\n    -  **accumulateï¼š** åœ¨åŸæ¥çš„ç»“æœçš„åŸºç¡€ä¸Šé‡å¤åŠ¨ç”»çš„æ—¶å€™æ¯ä¸€æ¬¡å¾ªç¯éƒ½ç´¯åŠ ã€‚è¿™ä¸ªå±æ€§å‘Šè¯‰åŠ¨ç”»æ˜¯å¦æ˜¯æ¯æ¬¡å¾ªç¯ï¼Œå‰ä¸€ä¸ªåŠ¨ç”»å±æ€§å€¼è¦åŠ ä¸Šå»ã€‚éœ€è¦è®¾ç½®fromä¸toå±æ€§ã€‚\n\n  > additiveã€accumulateä¾‹å­\n\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoREOjj?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/PoREOjj\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n## ç»“æ„å…ƒç´ \n\n> ç»“æ„å…ƒç´ å…³æ³¨çš„æ˜¯å¤ç”¨\n\n-   **defsï¼š** å®šä¹‰ä¸€ä¸ªå¤ç”¨çš„å›¾å½¢ã€‚åœ¨`defs`å…ƒç´ ä¸­å®šä¹‰çš„å›¾å½¢å…ƒç´ ä¸ä¼šç›´æ¥å‘ˆç°ã€‚ ä½ å¯ä»¥åœ¨ä½ çš„è§†å£çš„ä»»æ„åœ°æ–¹åˆ©ç”¨ `use`å…ƒç´ å‘ˆç°è¿™äº›å…ƒç´ ã€‚\n\n<!---->\n\n-   **gï¼š** ç»„åˆå­å…ƒç´ çš„å®¹å™¨ï¼Œgå…ƒç´ çš„å±æ€§ä¼šè¢«å…¶æ‰€æœ‰çš„å­å…ƒç´ ç»§æ‰¿ ã€‚ä¸`defs`ç›¸æ¯”ï¼Œgå®šä¹‰çš„é™¤äº†å¤ç”¨å¤–ï¼Œåœ¨å®šä¹‰æ—¶ä¼šè¿›è¡Œæ¸²æŸ“ã€‚\n\n<!---->\n\n-   **symbolï¼š** å®šä¹‰ä¸€ä¸ªå›¾å½¢æ¨¡ç‰ˆå¯¹è±¡ï¼Œä½¿ç”¨`use`å…ƒç´ å®ä¾‹åŒ–ã€‚`symbol`å…ƒç´ å¯¹å›¾å½¢çš„ä½œç”¨æ˜¯åœ¨åŒä¸€æ–‡æ¡£ä¸­å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ ç»“æ„å’Œè¯­ä¹‰ã€‚symbolé€šè¿‡`use`è°ƒç”¨æ—¶ï¼Œ` <use  ``/``>`å¯ä»¥è®¾ç½®heightã€widthæ§åˆ¶å®é™…ç»˜åˆ¶çš„å¤§å°ã€‚\n\n<!---->\n\n-   **svg** **ï¼š** å¦‚æœ `svg` ä¸æ˜¯æ ¹å…ƒç´ ï¼Œ`svg` å…ƒç´ å¯ä»¥ç”¨äºåœ¨å½“å‰æ–‡æ¡£ï¼ˆæ¯”å¦‚è¯´ï¼Œä¸€ä¸ª HTML æ–‡æ¡£ï¼‰å†…åµŒå¥—ä¸€ä¸ªç‹¬ç«‹çš„ svg ç‰‡æ®µ ã€‚ è¿™ä¸ªç‹¬ç«‹ç‰‡æ®µæ‹¥æœ‰ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿã€‚\n\n<!---->\n\n-   **markerï¼š** å®šä¹‰äº†åœ¨ç‰¹å®šçš„pathå…ƒç´ ã€lineå…ƒç´ ã€polylineå…ƒç´ æˆ–è€…polygonå…ƒç´ ä¸Šç»˜åˆ¶ç®­å¤´æˆ–è€…å¤šè¾¹å½¢æ ‡è®°å›¾å½¢ã€‚\n\n    -   refxï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„xåæ ‡ (é»˜è®¤æ˜¯0)\n    -   refyï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„yåæ ‡ (é»˜è®¤æ˜¯0)\n    -   markerWidthï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ `<marker>` æ—¶è¦é€‚åˆçš„è§†å£å®½åº¦\n    -   markerHeightï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ ` <marker>  `æ—¶è¦é€‚åˆçš„è§†å£é«˜åº¦\n    -   markerUnitsï¼šæŒ‡ç¤ºæ ‡è®°æ”¾ç½®åœ¨å½¢çŠ¶ä¸Šçš„ä½ç½®æ—¶å¦‚ä½•æ—‹è½¬\n\n<!---->\n\n-   mask\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/GRxmgEN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/GRxmgEN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n## æ»¤é•œå…ƒç´ \n\n### ç›¸å…³æ ‡ç­¾\n\n> æ»¤é•œé€šè¿‡`<filter>`åœ¨`<defs>`ä¸­è¿›è¡Œå®šä¹‰ï¼Œåœ¨filteræ ‡ç­¾ä¸­æä¾›ä¸€ç³»åˆ—å›¾å…ƒï¼Œä½¿ç”¨æ»¤é•œåªéœ€ä¸ºsvgå…ƒç´ è®¾ç½®filterå±æ€§å³å¯ã€‚\n\n### å¸¸è§å±æ€§\n\n  inï¼šæ ‡è¯†è¾“å…¥çš„åŸè¯­\n\n    -   SourceGraphicï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`<filter>`åŸè¯­çš„åŸå§‹è¾“å…¥\n    -   SourceAlphaï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`<filter>`åŸè¯­çš„åŸå§‹è¾“å…¥. SourceAlpha ä¸ SourceGraphic å…·æœ‰ç›¸åŒçš„è§„åˆ™é™¤äº† SourceAlpha åªä½¿ç”¨å…ƒç´ çš„é€æ˜åº¦ã€‚\n    -   BackgroundImageï¼šè¯¥å…³é”®è¯è¡¨ç¤º filter å…ƒç´ å½“å‰åº•ä¸‹çš„åŒºåŸŸçš„å›¾å½¢å¿«ç…§å°†è¢«è°ƒç”¨ã€‚\n    -   BackgroundAlphaï¼šBackgroundImage ç›¸åŒé™¤äº†åªä½¿ç”¨é€æ˜åº¦ã€‚\n    -   FillPaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºè¿‡æ»¤æ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„`fill`å±æ€§å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒFillPaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n    -   StrokePaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºæ»¤é•œæ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„ç¬”ç”»å±æ€§çš„å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒStrokePaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n\n<!---->\n\n  in2ï¼šin2 å±æ€§æ ‡è¯†ç»™å®šfilteråŸè¯­çš„ç¬¬äºŒä¸ªè¾“å…¥ã€‚å®ƒçš„å·¥ä½œåŸç†ä¸ in å±æ€§å®Œå…¨ç›¸åŒã€‚\n\n\n> colorMatrixé¢œè‰²çŸ©é˜µå˜æ¢\n\n```typescript\n/* R G B A 1 é¢œè‰²çŸ©é˜µè®¡ç®— */\n 1 0 0 0 0 // R = 1*R + 0*G + 0*B + 0*A + 0 \n 0 1 0 0 0 // G = 0*R + 1*G + 0*B + 0*A + 0 \n 0 0 1 0 0 // B = 0*R + 0*G + 1*B + 0*A + 0 \n 0 0 0 1 0 // A = 0*R + 0*G + 0*B + 1*A + 0\n```\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/xxWzjde?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/xxWzjde\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n> ä½¿ç”¨feGaussianBlurã€feColorMatrixã€feBlendå®ç°ç²˜ç¨ æ•ˆæœ\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLZbQO?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLZbQO\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n> ä½¿ç”¨feCompositeå¹¶è®¾ç½®operatorä¸ºinï¼Œæ§åˆ¶æ˜¾ç¤ºå›¾åƒçš„ä¸€éƒ¨åˆ†ã€‚\n\nå…³äºfeCompositeï¼Œæ›´å¤šå¯ä»¥çœ‹è¿™é‡Œï¼š[feComposite](https://apike.ca/prog_svg_filter_feComposite.html)\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmXOwZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmXOwZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n> feDisplacementMapã€feTurbulence\n\nfeDisplacementMapæ¨èçœ‹è¿™ç¯‡ï¼š[æ·±å…¥ç†è§£SVG feDisplacementMapæ»¤é•œåŠå®é™…åº”ç”¨](https://www.zhangxinxu.com/wordpress/2017/12/understand-svg-fedisplacementmap-filter/)\n\nfeTurbulenceæ¨èçœ‹è¿™ç¯‡ï¼š[è¯´è¯´SVGçš„feTurbulenceæ»¤é•œ](https://zhuanlan.zhihu.com/p/366438535)\n\nä½ç½®è½¬æ¢å…¬å¼ï¼š\n\n`P'(x,y) â† P(x + scale * (XC(x,y) - 0.5), y + scale * (YC(x,y) - 0.5))`\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/OJvwJqV?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/OJvwJqV\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n## æ¸å˜å…ƒç´ \n### Â Â linearGradientï¼šçº¿æ€§æ¸å˜\n  -   gradientUnits: æ§åˆ¶æ¸å˜åæ ‡çš„å•ä½\n  -   gradientTransform: å¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰\n  -   x1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹xåæ ‡-   y1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹yåæ ‡\n  -   x2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹xåæ ‡-   y2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹yåæ ‡\n  -   spreadMethodï¼šå®šä¹‰å¦‚ä½•åœ¨æ¸å˜ä¹‹å¤–å¡«å……\n    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ\n    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤\n    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤\n\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLMMjR?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLMMjR\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n### Â Â radialGradientï¼šå¾„å‘æ¸å˜\n  -   gradientUnitsï¼šæ§åˆ¶æ¸å˜åæ ‡çš„å•ä½\n  -   gradientTransformï¼šå¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰\n  -   cx: ç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ x è½´åæ ‡(é»˜è®¤50%)ã€‚\n  -   cyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ y è½´åæ ‡ã€‚\n  -   rï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„åŠå¾„ã€‚\n  -   fxï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ x è½´åæ ‡\n  -   fyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ y è½´åæ ‡\n  -   spreadMethodï¼šç¡®å®šå¦‚ä½•åœ¨æ¸å˜çš„å®šä¹‰è¾¹ç¼˜ä¹‹å¤–å¡«å……å½¢çŠ¶ã€‚\n    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ\n    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤\n    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤\n  -   stopï¼šæ¸å˜çš„é¢œè‰²å¡åº¦\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"svg-radialgradient\" src=\"https://codepen.io/l-jour/embed/zYWWLBa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/zYWWLBa\">\n  svg-radialgradient</a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n## å…³äºsvgä¸canvas\n  å¯ä»¥çœ‹çœ‹msdnçš„æ–‡ç« [å¦‚ä½•ä¸ºæ‚¨çš„ç½‘ç«™åœ¨Canvaså’ŒSVGä¹‹é—´åšå‡ºé€‰æ‹©](https://docs.microsoft.com/zh-cn/previous-versions/msdn10/Hh377884(v=MSDN.10))\n\n## æ€»ç»“\n  svgçš„ä¸–ç•Œéå¸¸ä¸°å¯Œï¼Œå¹¶ä¸”å¾ˆå¤šå±æ€§å¯ä»¥ä½œç”¨ä¸åŒçš„å…ƒç´ ã€æ‹¥æœ‰ä¸åŒçš„æ•ˆæœã€‚å…ƒç´ ç›´æ¥æœ‰å¯ä»¥æ­é…ä½¿ç”¨ï¼Œå¦‚å¤šä¸ªåŠ¨ç”»ï¼Œå¤šä¸ªæ»¤é•œç­‰ç­‰ï¼Œæ»¤é•œå…ƒç´ è¿˜æ¶‰åŠæ›´å¤šé¢†åŸŸçŸ¥è¯†ã€‚æ€»ä¹‹ï¼Œå…ƒç´ ç§ç±»ã€å…ƒç´ å±æ€§éå¸¸å¤šï¼Œè¿˜æ˜¯éœ€è¦å¾—æ…¢æ…¢åœ°å­¦ä¹ ã€é˜…è¯»ç›¸å…³çš„æ¡ˆä¾‹å¹¶æ“ä½œä¸€ä¸‹æ‰èƒ½æœ‰æ‰€æŒæ¡ã€‚\n## Reference\n  -   [feComposite](https://apike.ca/prog_svg_filter_feComposite.html)\n  -   [è´å¡å°”æ›²çº¿-wiki](https://zh.wikipedia.org/zh-cn/%E8%B2%9D%E8%8C%B2%E6%9B%B2%E7%B7%9A)\n\n","slug":"svgåŸºç¡€","published":1,"updated":"2022-12-31T10:26:33.590Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nht0000m3kv7379ybc9g","content":"<h2 id=\"å®šä¹‰\"><a href=\"#å®šä¹‰\" class=\"headerlink\" title=\"å®šä¹‰\"></a>å®šä¹‰</h2><p>svgï¼ˆScalable Vector Graphicsï¼‰å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ï¼Œæ˜¯ W3C XML çš„åˆ†æ”¯è¯­è¨€ä¹‹ä¸€ï¼Œç”¨äºæ ‡è®°å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ã€‚</p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‘½åç©ºé—´\"><a href=\"#å‘½åç©ºé—´\" class=\"headerlink\" title=\"å‘½åç©ºé—´\"></a>å‘½åç©ºé—´</h2><p>å®šä¹‰çš„å‘½åç©ºé—´å¯ä»¥æŠŠé€šé…ã€å…ƒç´ ã€å±æ€§é€‰æ‹©å™¨é™åˆ¶åœ¨æŒ‡å®šå‘½åç©ºé—´é‡Œçš„å…ƒç´ ã€‚</p>\n<h3 id=\"å£°æ˜å‘½åç©ºé—´\"><a href=\"#å£°æ˜å‘½åç©ºé—´\" class=\"headerlink\" title=\"å£°æ˜å‘½åç©ºé—´\"></a>å£°æ˜å‘½åç©ºé—´</h3><p>ä½¿ç”¨xmlnså±æ€§è¿›è¡Œå‘½åç©ºé—´çš„å£°æ˜ï¼Œä¸‹é¢çš„å£°æ˜æ„å‘³ç€svgä»¥åŠå®ƒçš„å­èŠ‚ç‚¹éƒ½å±äºâ€œ<a href=\"http://www.w3.org/2000/svg%E2%80%9D%E8%BF%99%E4%B8%AAsvg%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E3%80%82\">http://www.w3.org/2000/svgâ€è¿™ä¸ªsvgå‘½åç©ºé—´ã€‚</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"SVG-å…ƒç´ \"><a href=\"#SVG-å…ƒç´ \" class=\"headerlink\" title=\"SVG å…ƒç´ \"></a>SVG å…ƒç´ </h2><p>See moreï¼š<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element#svg_%E5%85%83%E7%B4%A0%EF%BC%88%E6%8C%89%E7%B1%BB%E5%88%AB%E5%88%86%E7%B1%BB%EF%BC%89\">mdn-svgå…ƒç´ å‚è€ƒ</a></p>\n<blockquote>\n<p>ä¸Šé¢åˆ—å‡ºäº†ä¸€äº›å¸¸è§ä»¥åŠå¸¸ç”¨çš„svgå…ƒç´ ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆæ ·å­çš„ä»¥åŠæ€ä¹ˆæ”¹å˜å®ƒä»¬çš„å±æ€§ã€‚</p>\n</blockquote>\n<h2 id=\"å›¾å½¢å…ƒç´ \"><a href=\"#å›¾å½¢å…ƒç´ \" class=\"headerlink\" title=\"å›¾å½¢å…ƒç´ \"></a>å›¾å½¢å…ƒç´ </h2><h3 id=\"åŸºç¡€å›¾å½¢å…ƒç´ \"><a href=\"#åŸºç¡€å›¾å½¢å…ƒç´ \" class=\"headerlink\" title=\"åŸºç¡€å›¾å½¢å…ƒç´ \"></a>åŸºç¡€å›¾å½¢å…ƒç´ </h3><iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/RwMVwNE?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/RwMVwNE\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h3 id=\"çº¿æ®µå±æ€§\"><a href=\"#çº¿æ®µå±æ€§\" class=\"headerlink\" title=\"çº¿æ®µå±æ€§\"></a>çº¿æ®µå±æ€§</h3><p>å¯¹äºstrokeå¡«å……çš„çº¿æ®µæ¥è¯´ï¼Œstroke-dasharrayä¸stroke-dashoffsetæ˜¯ä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å±æ€§ã€‚</p>\n<ul>\n<li>  stroke-dasharrayï¼šæ§åˆ¶ç”¨æ§åˆ¶çº¿æ®µå®çº¿ä¸è™šçº¿çš„å•å…ƒé•¿åº¦ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  stroke-dasharrayï¼šæ§åˆ¶è™šçº¿çš„åç§»</li>\n</ul>\n<blockquote>\n<p>stroke-dasharrayç»“åˆanimateçš„ä¾‹å­</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ZExoMmN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ZExoMmN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<blockquote>\n<p>ä½¿ç”¨stroke-dashoffsetä¸animateTransformã€animateç»˜åˆ¶åŠ è½½åŠ¨ç”»</p>\n</blockquote>\n<p>ç”¨animateæ§åˆ¶stroke-dashoffsetè™šçº¿éƒ¨åˆ†çš„åç§»ï¼ŒåŒæ—¶animateTransformæ§åˆ¶æ•´ä¸ªåœ†ç¯çš„è‡ªè½¬ã€‚</p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ExELqMa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ExELqMa\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<blockquote>\n<p>å¿ƒç”µå›¾</p>\n</blockquote>\n<p>è¿™é‡Œä¸»è¦æ€è·¯å°±æ˜¯ä½¿ç”¨polylineç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œä½¿ç”¨stroke-dasharrayç»˜åˆ¶è™šçº¿ï¼Œstroke-dashoffsetæ§åˆ¶è™šçº¿ç©ºç™½å¤„çš„åç§»ï¼Œç„¶åç”¨animateæ§åˆ¶stroke-dashoffsetçš„å€¼ï¼Œå°±èƒ½çœ‹è§è¿™ç§çº¿æ®µç§»åŠ¨çš„æ•ˆæœäº†ğŸ«¥</p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/qBoYyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/qBoYyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h3 id=\"å¼ºå¤§çš„pathå…ƒç´ \"><a href=\"#å¼ºå¤§çš„pathå…ƒç´ \" class=\"headerlink\" title=\"å¼ºå¤§çš„pathå…ƒç´ \"></a>å¼ºå¤§çš„pathå…ƒç´ </h3><p>ä¸Šé¢çš„åŸºæœ¬å›¾å½¢éƒ½æ˜¯å¯ä»¥ç”¨pathæ¥åˆ›å»ºçš„ï¼Œè€Œpathçš„åŠŸèƒ½è¿œè¿œä¸æ­¢ä¸Šé¢è¿™äº›å›¾å½¢ğŸ˜ã€‚pathå…ƒç´ çš„å½¢çŠ¶é€šè¿‡å±æ€§dæ¥å®šä¹‰ï¼Œå±æ€§dçš„å€¼æ˜¯ä¸€ä¸ªâ€œå‘½ä»¤+å‚æ•°â€çš„åºåˆ—ã€‚ä¸‹é¢å°±åˆ—å‡ºäº†ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ã€‚</p>\n<h4 id=\"ç›´çº¿å‘½ä»¤\"><a href=\"#ç›´çº¿å‘½ä»¤\" class=\"headerlink\" title=\"ç›´çº¿å‘½ä»¤\"></a>ç›´çº¿å‘½ä»¤</h4><ol>\n<li><p>Moveto</p>\n<ul>\n<li> <code>M x,y</code> åœ¨è¿™é‡Œxå’Œyæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡ã€‚</li>\n<li> <code>m dx,dy</code> åœ¨è¿™é‡Œdxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»ã€‚</li>\n</ul>\n</li>\n</ol>\n<!---->\n\n<ol start=\"2\">\n<li><p>Lineto<br><code>Lineto</code>æŒ‡ä»¤å°†ç»˜åˆ¶ä¸€æ¡ç›´çº¿æ®µã€‚è¿™ä¸ªç›´çº¿æ®µä»å½“å‰ä½ç½®ç§»åˆ°æŒ‡å®šä½ç½®</p>\n<ul>\n<li>  <code>Lx,y</code> xä¸yæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡</li>\n<li>  <code>ldx,dy</code> dxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»</li>\n<li>  <code>Hx</code> ç»å¯¹åæ ‡ï¼Œæ°´å¹³ç§»åŠ¨</li>\n<li>  <code>Vy</code> ç»å¯¹åæ ‡ï¼Œå‚ç›´ç§»åŠ¨</li>\n<li>  <code>hdx</code> æ°´å¹³ç§»åŠ¨ç›¸å¯¹è·ç¦»</li>\n<li>  <code>vdy</code> å‚ç›´ç§»åŠ¨ç›¸å¯¹è·ç¦»</li>\n</ul>\n</li>\n<li><p> Z or zï¼šé—­åˆè·¯å¾„</p>\n</li>\n</ol>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/NWYjyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/NWYjyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h4 id=\"æ›²çº¿å‘½ä»¤\"><a href=\"#æ›²çº¿å‘½ä»¤\" class=\"headerlink\" title=\"æ›²çº¿å‘½ä»¤\"></a>æ›²çº¿å‘½ä»¤</h4><p>å°å†™çš„æŒ‡ä»¤æ„ä¹‰åŒä¸Šï¼Œéƒ½æ˜¯è·Ÿç›¸å¯¹çš„è·ç¦»</p>\n<ol>\n<li> Curveto</li>\n</ol>\n<ul>\n<li> Â Â Cå‘½ä»¤åˆ›å»ºä¸€ä¸ªä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œå…¶ä¸­ (x1,y1) (x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œx,yä¸ºæ›²çº¿ç»ˆç‚¹</li>\n<li> <code>C x1 y1, x2 y2, x y </code>or <code>c dx1 dy1, dx2 dy2, dx dy</code></li>\n</ul>\n<!---->\n\n<ol start=\"2\">\n<li> Smooth Curveto</li>\n</ol>\n<ul>\n<li> Â Â Så‘½ä»¤å¯ä»¥ç”¨æ¥åˆ›å»ºäºä¸å‰é¢ä¸€æ ·çš„è´å¡å°”æ›²çº¿ï¼Œå¦‚æœSå‘½ä»¤è·Ÿåœ¨ä¸€ä¸ªCæˆ–Så‘½ä»¤åé¢ï¼Œåˆ™å®ƒçš„ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¼šè¢«å‡è®¾æˆå‰ä¸€ä¸ªå‘½ä»¤æ›²çº¿çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ã€‚å¦‚æœSå‘½ä»¤å•ç‹¬ä½¿ç”¨ï¼Œå‰é¢æ²¡æœ‰Cæˆ–è€…Så‘½ä»¤ï¼Œé‚£å½“å‰ç‚¹å°†ä½œä¸ºç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ã€‚æœ€å¤§çš„ä½œç”¨å°±æ˜¯å…‰æ»‘åœ°è¿æ¥ä¸¤æ¡æ›²çº¿</li>\n<li> <code>S x2 y2,x y</code> or <code>s dx2 dy2, dx dy</code></li>\n</ul>\n<blockquote>\n<p>Cã€Så‘½ä»¤ä¾‹å­</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/rNdmJma?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/rNdmJma\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<ol start=\"3\">\n<li> Quadratic BÃ©zier curveto</li>\n</ol>\n<ul>\n<li>  Qå‘½ä»¤ç”¨æ¥åˆ›å»ºä¸€æ¡äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œåªéœ€è¦ä¸€ä¸ªæ§åˆ¶ç‚¹</li>\n<li>  <code>Q x1 y1,x y</code> or <code>q dx1 dx2,dx dy</code></li>\n</ul>\n<ol start=\"4\">\n<li> Smooth quadratic BÃ©zier curveto</li>\n</ol>\n<ul>\n<li> Tå‘½ä»¤ç±»ä¼¼Så‘½ä»¤ï¼Œç”¨äºå¹³æ»‘é“¾æ¥äºŒæ¬¡è´å¡å°”æ›²çº¿</li>\n<li> <code>T x1 y1 </code>or <code>t dx dy</code></li>\n</ul>\n<blockquote>\n<p>Qã€Tå‘½ä»¤ä¾‹å­</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoRJaqN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/PoRJaqN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<ol start=\"5\">\n<li> Arc</li>\n</ol>\n<ul>\n<li>Aå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºç»˜åˆ¶æ›²çº¿<ul>\n<li>  <code>A rx ry x-axis-rotation large-arc-flag sweep-flag x y</code> <code>a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy</code></li>\n<li>  Â Â å‚æ•°è¯´æ˜ï¼š</li>\n<li>  Â Â rx ry: xã€yè½´åŠå¾„</li>\n<li>  Â Â X-axis-rotation: ç»•xè½´æ—‹è½¬è§’åº¦</li>\n<li>  Â Â large-arc-flagï¼š0-å¼§å°äº180åº¦ã€1-å¼§å¤§äº180åº¦</li>\n<li>  Â Â sweep-flagï¼š0-é€†æ—¶é’ˆç”»å¼§ã€1-é¡ºæ—¶é’ˆç”»å¼§</li>\n<li>  Â Â x yï¼šç»ˆç‚¹åæ ‡</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"åŠ¨ç”»\"><a href=\"#åŠ¨ç”»\" class=\"headerlink\" title=\"åŠ¨ç”»\"></a>åŠ¨ç”»</h2><blockquote>\n<p>æ”¾å…¥å½¢çŠ¶å…ƒç´ å†…éƒ¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´æ®µé‡Œï¼Œè®¾ç½®ç›¸å…³å±æ€§çš„å¼€å§‹ä¸ç»“æŸå€¼ï¼Œå˜åŒ–æ›²çº¿ç­‰ã€‚</p>\n</blockquote>\n<h3 id=\"åŠ¨ç”»å…ƒç´ \"><a href=\"#åŠ¨ç”»å…ƒç´ \" class=\"headerlink\" title=\"åŠ¨ç”»å…ƒç´ \"></a>åŠ¨ç”»å…ƒç´ </h3><ul>\n<li>  animateï¼šç”¨æ¥å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„æŸä¸ªå±æ€§åœ¨ç›¸åº”æ—¶é—´çš„å˜åŒ–</li>\n<li>  animateTransformï¼šæ”¹å˜ç›®æ ‡å…ƒç´ ä¸Šçš„ä¸€ä¸ªå˜å½¢å±æ€§ï¼Œæ§åˆ¶æ—‹è½¬ã€ç¼©æ”¾ã€å¹³ç§»ã€æ–œåˆ‡å˜æ¢</li>\n<li>  animateMotionï¼šå®šä¹‰ç›®æ ‡å…ƒç´ å¦‚ä½•æ²¿ä¸€ä¸ªè·¯å¾„è¿åŠ¨</li>\n<li>  discardï¼šæŒ‡å®šåœ¨ä½•æ—¶ä¸¢å¼ƒç‰¹å®šå…ƒç´ ï¼Œä»è€Œå‡å°‘ SVG ç”¨æˆ·ä»£ç†æ‰€éœ€çš„èµ„æºã€‚</li>\n<li>  mpathï¼šé…åˆanimateMotionï¼Œå¯ä»£æ›¿animateMotionçš„pathå±æ€§ï¼Œç”¨äºå¼•ç”¨ä¸€ä¸ªå¤–éƒ¨çš„path</li>\n<li>  setï¼šå¯ä»¥ç”¨æ¥è®¾å®šä¸€ä¸ªå±æ€§å€¼ï¼Œå¹¶ä¸ºè¯¥å€¼èµ‹äºˆä¸€ä¸ªæŒç»­æ—¶é—´ã€‚å®ƒæ”¯æŒæ‰€æœ‰çš„å±æ€§ç±»å‹ï¼Œ åŒ…æ‹¬é‚£äº›åŸç†ä¸Šä¸èƒ½æ’å€¼çš„ï¼Œ ä¾‹å¦‚å€¼ä¸ºå­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹çš„å±æ€§ã€‚ set å…ƒç´ æ˜¯éå åŠ çš„ã€‚æ— æ³•åœ¨å…¶ä¸Šä½¿ç”¨ additive å±æ€§æˆ– accumulate å±æ€§ï¼Œå³ä½¿å£°æ˜äº†è¿™äº›å±æ€§ä¹Ÿä¼šè‡ªåŠ¨è¢«å¿½ç•¥ã€‚</li>\n</ul>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmrYLy?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmrYLy\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h3 id=\"åŠ¨ç”»å±æ€§\"><a href=\"#åŠ¨ç”»å±æ€§\" class=\"headerlink\" title=\"åŠ¨ç”»å±æ€§\"></a>åŠ¨ç”»å±æ€§</h3><p>è¿™é‡Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š</p>\n<ol>\n<li> å–å€¼å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§ï¼ˆå¦‚xåæ ‡ï¼Œwidthç­‰å±æ€§ï¼‰çš„å€¼</li>\n</ol>\n<pre><code>-  **calcModeï¼š** è®¾ç½®åŠ¨ç”»çš„å˜åŒ–æ›²çº¿ï¼ˆdiscrete | linear | paced | splineï¼‰ï¼Œé™¤äº†animateMotioné»˜è®¤æ˜¯pacedå¤–ï¼Œå…¶ä»–æ˜¯é»˜è®¤linearï¼Œå½“ä¸€äº›ä¸æ”¯æŒçº¿æ€§å˜åŒ–çš„å±æ€§å€¼ï¼ˆstringç±»å‹çš„ï¼‰å°±ä¼šå˜ä¸ºdiscreteã€‚\n\n-  **valuesï¼š** å®šä¹‰åŠ¨ç”»è¿‡ç¨‹ä¸­çš„å€¼åºåˆ—ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªå€¼çš„åˆ†å·åˆ†éš”åˆ—è¡¨ï¼‰çš„å€¼ã€‚ å¦‚æœæŒ‡å®šäº†æ­¤å±æ€§ï¼Œåˆ™å°†å¿½ç•¥åœ¨å…ƒç´ ä¸Šè®¾ç½®çš„ä»»ä½• `from`, `to`, å’Œ `by` å±æ€§å€¼ã€‚\n\n-  **keyTimesï¼š** ä»¥åˆ†å·åˆ†éš”çš„æ—¶é—´å€¼åˆ—è¡¨ï¼Œç”¨äºæ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œæ­¥éª¤ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼ä¸`values`ä¸­çš„å€¼ä¸€ä¸€å¯¹åº”ï¼Œå®šä¹‰äº†`values`ä¸­çš„å€¼åœ¨åŠ¨ç”»ä¸­ä½•æ—¶æ‰§è¡Œï¼ŒkeyTimes åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯æŒ‡å®šåœ¨ [0-1] ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºåŠ¨ç”»çš„å®Œæˆæ—¶é—´ã€‚æ¯ä¸€ä¸ªè¿ç»­çš„æ—¶é—´å€¼å¿…é¡»å¤§äºç­‰äºå‰ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n\n    -   å¯¹äº linear å’Œ splineåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 0ï¼Œåˆ—è¡¨çš„æœ€åä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 1ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼Œè¯¥ value åœ¨ keyTimes çš„æ—¶é—´ å€¼çš„ä¸­é—´æ’å€¼ã€‚\n    -   å¯¹äº discreteåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼å¿…é¡»ä¸º 0ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼ŒåŠ¨ç”»å‡½æ•°ä½¿ç”¨è¯¥ valueï¼Œç›´åˆ° keyTimes ä¸­å®šä¹‰çš„ä¸‹ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n    -   å¦‚æœæ’å€¼æ¨¡å¼æ˜¯ pacedåŠ¨ç”»ï¼ŒkeyTimes å±æ€§è¢«å¿½ç•¥ã€‚\n\n-  **keySplinesï¼š** å®šä¹‰äº†ä¸€ç»„ä¸ keyTimes åˆ—è¡¨å…³è”çš„ BÃ©zier æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ§åˆ¶é—´éš”ï¼ˆkeyTimesçš„å€¼åˆ—è¡¨é•¿åº¦å‡1å³ä¸ºé—´éš”æ•°ï¼‰çš„ä¸‰æ¬¡ BÃ©zier å‡½æ•°ã€‚åªæœ‰splineåŠ¨ç”»æ‰ä¼šæœ‰æ•ˆã€‚\n\n-  **fromï¼š** æŒ‡å®šå±æ€§çš„å¼€å§‹å€¼\n\n-  **byï¼š** æŒ‡å®šå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„ç›¸å¯¹åç§»å€¼\n\n-  **toï¼š** è¡¨ç¤ºå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„æœ€ç»ˆå€¼\n</code></pre>\n<blockquote>\n<p>å–å€¼å±æ€§ä¾‹å­</p>\n</blockquote>\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/WNzdXNZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/WNzdXNZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n<ol start=\"2\">\n<li> æ—¶é—´å±æ€§ï¼šæ§åˆ¶åŠ¨ç”»å¦‚ä½•å¼€å§‹ï¼Œä½•æ—¶å¼€å§‹ã€é‡å¤æ¬¡æ•°ç­‰</li>\n</ol>\n<pre><code>-  **beginï¼š** åŠ¨ç”»å¼€å§‹æ—¶é—´\n\n-  **endï¼š** åŠ¨ç”»ç»“æŸæ—¶é—´\n\n-  **durï¼š** åŠ¨ç”»æŒç»­æ—¶é—´\n\n-  **min/maxï¼š** é™åˆ¶åŠ¨ç”»çš„æœ€å°/å¤§æŒç»­æ—¶é—´\n\n-  **restartï¼š** æ§åˆ¶åŠ¨ç”»æ˜¯å¦å¯ä»¥é‡æ–°å¼€å§‹\n\n    -   `always` ï¼šä»»ä½•æ—¶å€™éƒ½å¯é‡æ–°å¼€å§‹\n    -   `whenNotActive` ï¼šéåŠ¨ç”»æ—¶å¯é‡æ–°å¼€å§‹\n    -   `never` ï¼šä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é‡æ–°å¼€å§‹\n\n-  **repeatCountï¼š** æŒ‡å®šåŠ¨ç”»é‡å¤çš„æ¬¡æ•°ã€å€¼å¿…é¡»å¤§äº 0ã€‚\n\n-  **repeatDurï¼š** æŒ‡å®šåŠ¨ç”»çš„é‡å¤æ—¶é—´\n\n-  **fillï¼š** æ§åˆ¶åŠ¨ç”»ç»“æŸæ—¶çš„çŠ¶æ€ã€‚æœ‰ä¸¤ä¸ªå€¼å¯é€‰\n\n    -   removeï¼šåœ¨åŠ¨ç”»çš„æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼ŒåŠ¨ç”»æ•ˆæœä¼šç§»é™¤ï¼ˆä¸å†åº”ç”¨ï¼‰ã€‚åœ¨åŠ¨ç”»çš„æ¿€æ´»ç»“æŸåï¼ŒåŠ¨ç”»ä¸å†å¯¹ç›®æ ‡å…ƒç´ æœ‰å½±å“ï¼ˆé™¤éåŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰ã€‚\n    -   freezeï¼šåœ¨åŠ¨ç”»æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼Œæ–‡æ¡£æŒç»­æ—¶é—´çš„å‰©ä½™æ—¶é—´é‡Œï¼ˆæˆ–è€…ç›´åˆ°åŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰åŠ¨ç”»æ•ˆæœä¼šâ€œå†»ç»“â€ç€ã€‚ï¼ˆä¿æŒåŠ¨ç”»ç»ˆæ€ï¼‰\n</code></pre>\n<ol start=\"3\">\n<li> ç›®æ ‡å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§</li>\n</ol>\n<pre><code>-  **ttributeTypeï¼š** å½“attributeType=&quot;XML&quot;æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯XMLçš„å±æ€§ï¼›å½“attributeType=&quot;CSS&quot;æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯cssçš„å±æ€§ï¼›ä¸æŒ‡å®šattributeTypeæ—¶ï¼Œé»˜è®¤ä¸º&quot;auto&quot;ï¼Œä¼šå…ˆå°†attributeNameä½œä¸ºcssçš„å±æ€§ï¼Œå¦‚æœæ— æ•ˆï¼Œå†å°†attributeNameä½œä¸ºXMLçš„å±æ€§ã€‚\n-  **attributeNameï¼š** è¦åŠ¨ç”»çš„å±æ€§å\n</code></pre>\n<!---->\n\n<ol start=\"4\">\n<li> å…¶ä»–å±æ€§ï¼šadditiveã€accumulate</li>\n</ol>\n<pre><code>-  **additiveï¼š** æ§åˆ¶åŠ¨ç”»å±æ€§æ˜¯å¦æ˜¯é™„åŠ çš„ã€‚\n-  **accumulateï¼š** åœ¨åŸæ¥çš„ç»“æœçš„åŸºç¡€ä¸Šé‡å¤åŠ¨ç”»çš„æ—¶å€™æ¯ä¸€æ¬¡å¾ªç¯éƒ½ç´¯åŠ ã€‚è¿™ä¸ªå±æ€§å‘Šè¯‰åŠ¨ç”»æ˜¯å¦æ˜¯æ¯æ¬¡å¾ªç¯ï¼Œå‰ä¸€ä¸ªåŠ¨ç”»å±æ€§å€¼è¦åŠ ä¸Šå»ã€‚éœ€è¦è®¾ç½®fromä¸toå±æ€§ã€‚\n</code></pre>\n<blockquote>\n<p>additiveã€accumulateä¾‹å­</p>\n</blockquote>\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoREOjj?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/PoREOjj\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n<h2 id=\"ç»“æ„å…ƒç´ \"><a href=\"#ç»“æ„å…ƒç´ \" class=\"headerlink\" title=\"ç»“æ„å…ƒç´ \"></a>ç»“æ„å…ƒç´ </h2><blockquote>\n<p>ç»“æ„å…ƒç´ å…³æ³¨çš„æ˜¯å¤ç”¨</p>\n</blockquote>\n<ul>\n<li>  <strong>defsï¼š</strong> å®šä¹‰ä¸€ä¸ªå¤ç”¨çš„å›¾å½¢ã€‚åœ¨<code>defs</code>å…ƒç´ ä¸­å®šä¹‰çš„å›¾å½¢å…ƒç´ ä¸ä¼šç›´æ¥å‘ˆç°ã€‚ ä½ å¯ä»¥åœ¨ä½ çš„è§†å£çš„ä»»æ„åœ°æ–¹åˆ©ç”¨ <code>use</code>å…ƒç´ å‘ˆç°è¿™äº›å…ƒç´ ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  <strong>gï¼š</strong> ç»„åˆå­å…ƒç´ çš„å®¹å™¨ï¼Œgå…ƒç´ çš„å±æ€§ä¼šè¢«å…¶æ‰€æœ‰çš„å­å…ƒç´ ç»§æ‰¿ ã€‚ä¸<code>defs</code>ç›¸æ¯”ï¼Œgå®šä¹‰çš„é™¤äº†å¤ç”¨å¤–ï¼Œåœ¨å®šä¹‰æ—¶ä¼šè¿›è¡Œæ¸²æŸ“ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  <strong>symbolï¼š</strong> å®šä¹‰ä¸€ä¸ªå›¾å½¢æ¨¡ç‰ˆå¯¹è±¡ï¼Œä½¿ç”¨<code>use</code>å…ƒç´ å®ä¾‹åŒ–ã€‚<code>symbol</code>å…ƒç´ å¯¹å›¾å½¢çš„ä½œç”¨æ˜¯åœ¨åŒä¸€æ–‡æ¡£ä¸­å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ ç»“æ„å’Œè¯­ä¹‰ã€‚symbolé€šè¿‡<code>use</code>è°ƒç”¨æ—¶ï¼Œ<code> &lt;use  ``/``&gt;</code>å¯ä»¥è®¾ç½®heightã€widthæ§åˆ¶å®é™…ç»˜åˆ¶çš„å¤§å°ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  <strong>svg</strong> <strong>ï¼š</strong> å¦‚æœ <code>svg</code> ä¸æ˜¯æ ¹å…ƒç´ ï¼Œ<code>svg</code> å…ƒç´ å¯ä»¥ç”¨äºåœ¨å½“å‰æ–‡æ¡£ï¼ˆæ¯”å¦‚è¯´ï¼Œä¸€ä¸ª HTML æ–‡æ¡£ï¼‰å†…åµŒå¥—ä¸€ä¸ªç‹¬ç«‹çš„ svg ç‰‡æ®µ ã€‚ è¿™ä¸ªç‹¬ç«‹ç‰‡æ®µæ‹¥æœ‰ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li><p><strong>markerï¼š</strong> å®šä¹‰äº†åœ¨ç‰¹å®šçš„pathå…ƒç´ ã€lineå…ƒç´ ã€polylineå…ƒç´ æˆ–è€…polygonå…ƒç´ ä¸Šç»˜åˆ¶ç®­å¤´æˆ–è€…å¤šè¾¹å½¢æ ‡è®°å›¾å½¢ã€‚</p>\n<ul>\n<li>  refxï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„xåæ ‡ (é»˜è®¤æ˜¯0)</li>\n<li>  refyï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„yåæ ‡ (é»˜è®¤æ˜¯0)</li>\n<li>  markerWidthï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ <code>&lt;marker&gt;</code> æ—¶è¦é€‚åˆçš„è§†å£å®½åº¦</li>\n<li>  markerHeightï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ <code>&lt;marker&gt; </code>æ—¶è¦é€‚åˆçš„è§†å£é«˜åº¦</li>\n<li>  markerUnitsï¼šæŒ‡ç¤ºæ ‡è®°æ”¾ç½®åœ¨å½¢çŠ¶ä¸Šçš„ä½ç½®æ—¶å¦‚ä½•æ—‹è½¬</li>\n</ul>\n</li>\n</ul>\n<!---->\n\n<ul>\n<li>  mask</li>\n</ul>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/GRxmgEN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/GRxmgEN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h2 id=\"æ»¤é•œå…ƒç´ \"><a href=\"#æ»¤é•œå…ƒç´ \" class=\"headerlink\" title=\"æ»¤é•œå…ƒç´ \"></a>æ»¤é•œå…ƒç´ </h2><h3 id=\"ç›¸å…³æ ‡ç­¾\"><a href=\"#ç›¸å…³æ ‡ç­¾\" class=\"headerlink\" title=\"ç›¸å…³æ ‡ç­¾\"></a>ç›¸å…³æ ‡ç­¾</h3><blockquote>\n<p>æ»¤é•œé€šè¿‡<code>&lt;filter&gt;</code>åœ¨<code>&lt;defs&gt;</code>ä¸­è¿›è¡Œå®šä¹‰ï¼Œåœ¨filteræ ‡ç­¾ä¸­æä¾›ä¸€ç³»åˆ—å›¾å…ƒï¼Œä½¿ç”¨æ»¤é•œåªéœ€ä¸ºsvgå…ƒç´ è®¾ç½®filterå±æ€§å³å¯ã€‚</p>\n</blockquote>\n<h3 id=\"å¸¸è§å±æ€§\"><a href=\"#å¸¸è§å±æ€§\" class=\"headerlink\" title=\"å¸¸è§å±æ€§\"></a>å¸¸è§å±æ€§</h3><p>  inï¼šæ ‡è¯†è¾“å…¥çš„åŸè¯­</p>\n<pre><code>-   SourceGraphicï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`&lt;filter&gt;`åŸè¯­çš„åŸå§‹è¾“å…¥\n-   SourceAlphaï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`&lt;filter&gt;`åŸè¯­çš„åŸå§‹è¾“å…¥. SourceAlpha ä¸ SourceGraphic å…·æœ‰ç›¸åŒçš„è§„åˆ™é™¤äº† SourceAlpha åªä½¿ç”¨å…ƒç´ çš„é€æ˜åº¦ã€‚\n-   BackgroundImageï¼šè¯¥å…³é”®è¯è¡¨ç¤º filter å…ƒç´ å½“å‰åº•ä¸‹çš„åŒºåŸŸçš„å›¾å½¢å¿«ç…§å°†è¢«è°ƒç”¨ã€‚\n-   BackgroundAlphaï¼šBackgroundImage ç›¸åŒé™¤äº†åªä½¿ç”¨é€æ˜åº¦ã€‚\n-   FillPaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºè¿‡æ»¤æ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„`fill`å±æ€§å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒFillPaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n-   StrokePaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºæ»¤é•œæ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„ç¬”ç”»å±æ€§çš„å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒStrokePaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n</code></pre>\n<!---->\n\n<p>  in2ï¼šin2 å±æ€§æ ‡è¯†ç»™å®šfilteråŸè¯­çš„ç¬¬äºŒä¸ªè¾“å…¥ã€‚å®ƒçš„å·¥ä½œåŸç†ä¸ in å±æ€§å®Œå…¨ç›¸åŒã€‚</p>\n<blockquote>\n<p>colorMatrixé¢œè‰²çŸ©é˜µå˜æ¢</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* R G B A 1 é¢œè‰²çŸ©é˜µè®¡ç®— */</span></span><br><span class=\"line\"> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"comment\">// R = 1*R + 0*G + 0*B + 0*A + 0 </span></span><br><span class=\"line\"> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"comment\">// G = 0*R + 1*G + 0*B + 0*A + 0 </span></span><br><span class=\"line\"> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"comment\">// B = 0*R + 0*G + 1*B + 0*A + 0 </span></span><br><span class=\"line\"> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"comment\">// A = 0*R + 0*G + 0*B + 1*A + 0</span></span><br></pre></td></tr></table></figure>\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/xxWzjde?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/xxWzjde\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n<blockquote>\n<p>ä½¿ç”¨feGaussianBlurã€feColorMatrixã€feBlendå®ç°ç²˜ç¨ æ•ˆæœ</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLZbQO?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLZbQO\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n<blockquote>\n<p>ä½¿ç”¨feCompositeå¹¶è®¾ç½®operatorä¸ºinï¼Œæ§åˆ¶æ˜¾ç¤ºå›¾åƒçš„ä¸€éƒ¨åˆ†ã€‚</p>\n</blockquote>\n<p>å…³äºfeCompositeï¼Œæ›´å¤šå¯ä»¥çœ‹è¿™é‡Œï¼š<a href=\"https://apike.ca/prog_svg_filter_feComposite.html\">feComposite</a></p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmXOwZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmXOwZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n<blockquote>\n<p>feDisplacementMapã€feTurbulence</p>\n</blockquote>\n<p>feDisplacementMapæ¨èçœ‹è¿™ç¯‡ï¼š<a href=\"https://www.zhangxinxu.com/wordpress/2017/12/understand-svg-fedisplacementmap-filter/\">æ·±å…¥ç†è§£SVG feDisplacementMapæ»¤é•œåŠå®é™…åº”ç”¨</a></p>\n<p>feTurbulenceæ¨èçœ‹è¿™ç¯‡ï¼š<a href=\"https://zhuanlan.zhihu.com/p/366438535\">è¯´è¯´SVGçš„feTurbulenceæ»¤é•œ</a></p>\n<p>ä½ç½®è½¬æ¢å…¬å¼ï¼š</p>\n<p><code>P&#39;(x,y) â† P(x + scale * (XC(x,y) - 0.5), y + scale * (YC(x,y) - 0.5))</code></p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/OJvwJqV?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/OJvwJqV\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h2 id=\"æ¸å˜å…ƒç´ \"><a href=\"#æ¸å˜å…ƒç´ \" class=\"headerlink\" title=\"æ¸å˜å…ƒç´ \"></a>æ¸å˜å…ƒç´ </h2><h3 id=\"linearGradientï¼šçº¿æ€§æ¸å˜\"><a href=\"#linearGradientï¼šçº¿æ€§æ¸å˜\" class=\"headerlink\" title=\"linearGradientï¼šçº¿æ€§æ¸å˜\"></a>linearGradientï¼šçº¿æ€§æ¸å˜</h3><ul>\n<li>  gradientUnits: æ§åˆ¶æ¸å˜åæ ‡çš„å•ä½</li>\n<li>  gradientTransform: å¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰</li>\n<li>  x1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹xåæ ‡-   y1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹yåæ ‡</li>\n<li>  x2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹xåæ ‡-   y2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹yåæ ‡</li>\n<li>  spreadMethodï¼šå®šä¹‰å¦‚ä½•åœ¨æ¸å˜ä¹‹å¤–å¡«å……    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤</li>\n</ul>\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLMMjR?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLMMjR\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n<h3 id=\"radialGradientï¼šå¾„å‘æ¸å˜\"><a href=\"#radialGradientï¼šå¾„å‘æ¸å˜\" class=\"headerlink\" title=\"radialGradientï¼šå¾„å‘æ¸å˜\"></a>radialGradientï¼šå¾„å‘æ¸å˜</h3><ul>\n<li>  gradientUnitsï¼šæ§åˆ¶æ¸å˜åæ ‡çš„å•ä½</li>\n<li>  gradientTransformï¼šå¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰</li>\n<li>  cx: ç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ x è½´åæ ‡(é»˜è®¤50%)ã€‚</li>\n<li>  cyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ y è½´åæ ‡ã€‚</li>\n<li>  rï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„åŠå¾„ã€‚</li>\n<li>  fxï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ x è½´åæ ‡</li>\n<li>  fyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ y è½´åæ ‡</li>\n<li>  spreadMethodï¼šç¡®å®šå¦‚ä½•åœ¨æ¸å˜çš„å®šä¹‰è¾¹ç¼˜ä¹‹å¤–å¡«å……å½¢çŠ¶ã€‚    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤</li>\n<li>  stopï¼šæ¸å˜çš„é¢œè‰²å¡åº¦</li>\n</ul>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"svg-radialgradient\" src=\"https://codepen.io/l-jour/embed/zYWWLBa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/zYWWLBa\">\n  svg-radialgradient</a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h2 id=\"å…³äºsvgä¸canvas\"><a href=\"#å…³äºsvgä¸canvas\" class=\"headerlink\" title=\"å…³äºsvgä¸canvas\"></a>å…³äºsvgä¸canvas</h2><p>  å¯ä»¥çœ‹çœ‹msdnçš„æ–‡ç« <a href=\"https://docs.microsoft.com/zh-cn/previous-versions/msdn10/Hh377884(v=MSDN.10)\">å¦‚ä½•ä¸ºæ‚¨çš„ç½‘ç«™åœ¨Canvaså’ŒSVGä¹‹é—´åšå‡ºé€‰æ‹©</a></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>  svgçš„ä¸–ç•Œéå¸¸ä¸°å¯Œï¼Œå¹¶ä¸”å¾ˆå¤šå±æ€§å¯ä»¥ä½œç”¨ä¸åŒçš„å…ƒç´ ã€æ‹¥æœ‰ä¸åŒçš„æ•ˆæœã€‚å…ƒç´ ç›´æ¥æœ‰å¯ä»¥æ­é…ä½¿ç”¨ï¼Œå¦‚å¤šä¸ªåŠ¨ç”»ï¼Œå¤šä¸ªæ»¤é•œç­‰ç­‰ï¼Œæ»¤é•œå…ƒç´ è¿˜æ¶‰åŠæ›´å¤šé¢†åŸŸçŸ¥è¯†ã€‚æ€»ä¹‹ï¼Œå…ƒç´ ç§ç±»ã€å…ƒç´ å±æ€§éå¸¸å¤šï¼Œè¿˜æ˜¯éœ€è¦å¾—æ…¢æ…¢åœ°å­¦ä¹ ã€é˜…è¯»ç›¸å…³çš„æ¡ˆä¾‹å¹¶æ“ä½œä¸€ä¸‹æ‰èƒ½æœ‰æ‰€æŒæ¡ã€‚</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><ul>\n<li>  <a href=\"https://apike.ca/prog_svg_filter_feComposite.html\">feComposite</a></li>\n<li>  <a href=\"https://zh.wikipedia.org/zh-cn/%E8%B2%9D%E8%8C%B2%E6%9B%B2%E7%B7%9A\">è´å¡å°”æ›²çº¿-wiki</a></li>\n</ul>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":6733,"excerpt":"<h2 id=\"å®šä¹‰\"><a href=\"#å®šä¹‰\" class=\"headerlink\" title=\"å®šä¹‰\"></a>å®šä¹‰</h2><p>svgï¼ˆScalable Vector Graphicsï¼‰å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ï¼Œæ˜¯ W3C XML çš„åˆ†æ”¯è¯­è¨€ä¹‹ä¸€ï¼Œç”¨äºæ ‡è®°å¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢ã€‚</p>","more":"<h2 id=\"å‘½åç©ºé—´\"><a href=\"#å‘½åç©ºé—´\" class=\"headerlink\" title=\"å‘½åç©ºé—´\"></a>å‘½åç©ºé—´</h2><p>å®šä¹‰çš„å‘½åç©ºé—´å¯ä»¥æŠŠé€šé…ã€å…ƒç´ ã€å±æ€§é€‰æ‹©å™¨é™åˆ¶åœ¨æŒ‡å®šå‘½åç©ºé—´é‡Œçš„å…ƒç´ ã€‚</p>\n<h3 id=\"å£°æ˜å‘½åç©ºé—´\"><a href=\"#å£°æ˜å‘½åç©ºé—´\" class=\"headerlink\" title=\"å£°æ˜å‘½åç©ºé—´\"></a>å£°æ˜å‘½åç©ºé—´</h3><p>ä½¿ç”¨xmlnså±æ€§è¿›è¡Œå‘½åç©ºé—´çš„å£°æ˜ï¼Œä¸‹é¢çš„å£°æ˜æ„å‘³ç€svgä»¥åŠå®ƒçš„å­èŠ‚ç‚¹éƒ½å±äºâ€œ<a href=\"http://www.w3.org/2000/svg%E2%80%9D%E8%BF%99%E4%B8%AAsvg%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E3%80%82\">http://www.w3.org/2000/svgâ€è¿™ä¸ªsvgå‘½åç©ºé—´ã€‚</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"SVG-å…ƒç´ \"><a href=\"#SVG-å…ƒç´ \" class=\"headerlink\" title=\"SVG å…ƒç´ \"></a>SVG å…ƒç´ </h2><p>See moreï¼š<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element#svg_%E5%85%83%E7%B4%A0%EF%BC%88%E6%8C%89%E7%B1%BB%E5%88%AB%E5%88%86%E7%B1%BB%EF%BC%89\">mdn-svgå…ƒç´ å‚è€ƒ</a></p>\n<blockquote>\n<p>ä¸Šé¢åˆ—å‡ºäº†ä¸€äº›å¸¸è§ä»¥åŠå¸¸ç”¨çš„svgå…ƒç´ ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆæ ·å­çš„ä»¥åŠæ€ä¹ˆæ”¹å˜å®ƒä»¬çš„å±æ€§ã€‚</p>\n</blockquote>\n<h2 id=\"å›¾å½¢å…ƒç´ \"><a href=\"#å›¾å½¢å…ƒç´ \" class=\"headerlink\" title=\"å›¾å½¢å…ƒç´ \"></a>å›¾å½¢å…ƒç´ </h2><h3 id=\"åŸºç¡€å›¾å½¢å…ƒç´ \"><a href=\"#åŸºç¡€å›¾å½¢å…ƒç´ \" class=\"headerlink\" title=\"åŸºç¡€å›¾å½¢å…ƒç´ \"></a>åŸºç¡€å›¾å½¢å…ƒç´ </h3><iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/RwMVwNE?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/RwMVwNE\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h3 id=\"çº¿æ®µå±æ€§\"><a href=\"#çº¿æ®µå±æ€§\" class=\"headerlink\" title=\"çº¿æ®µå±æ€§\"></a>çº¿æ®µå±æ€§</h3><p>å¯¹äºstrokeå¡«å……çš„çº¿æ®µæ¥è¯´ï¼Œstroke-dasharrayä¸stroke-dashoffsetæ˜¯ä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å±æ€§ã€‚</p>\n<ul>\n<li>  stroke-dasharrayï¼šæ§åˆ¶ç”¨æ§åˆ¶çº¿æ®µå®çº¿ä¸è™šçº¿çš„å•å…ƒé•¿åº¦ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  stroke-dasharrayï¼šæ§åˆ¶è™šçº¿çš„åç§»</li>\n</ul>\n<blockquote>\n<p>stroke-dasharrayç»“åˆanimateçš„ä¾‹å­</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ZExoMmN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ZExoMmN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<blockquote>\n<p>ä½¿ç”¨stroke-dashoffsetä¸animateTransformã€animateç»˜åˆ¶åŠ è½½åŠ¨ç”»</p>\n</blockquote>\n<p>ç”¨animateæ§åˆ¶stroke-dashoffsetè™šçº¿éƒ¨åˆ†çš„åç§»ï¼ŒåŒæ—¶animateTransformæ§åˆ¶æ•´ä¸ªåœ†ç¯çš„è‡ªè½¬ã€‚</p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/ExELqMa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/ExELqMa\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<blockquote>\n<p>å¿ƒç”µå›¾</p>\n</blockquote>\n<p>è¿™é‡Œä¸»è¦æ€è·¯å°±æ˜¯ä½¿ç”¨polylineç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œä½¿ç”¨stroke-dasharrayç»˜åˆ¶è™šçº¿ï¼Œstroke-dashoffsetæ§åˆ¶è™šçº¿ç©ºç™½å¤„çš„åç§»ï¼Œç„¶åç”¨animateæ§åˆ¶stroke-dashoffsetçš„å€¼ï¼Œå°±èƒ½çœ‹è§è¿™ç§çº¿æ®µç§»åŠ¨çš„æ•ˆæœäº†ğŸ«¥</p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/qBoYyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/qBoYyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h3 id=\"å¼ºå¤§çš„pathå…ƒç´ \"><a href=\"#å¼ºå¤§çš„pathå…ƒç´ \" class=\"headerlink\" title=\"å¼ºå¤§çš„pathå…ƒç´ \"></a>å¼ºå¤§çš„pathå…ƒç´ </h3><p>ä¸Šé¢çš„åŸºæœ¬å›¾å½¢éƒ½æ˜¯å¯ä»¥ç”¨pathæ¥åˆ›å»ºçš„ï¼Œè€Œpathçš„åŠŸèƒ½è¿œè¿œä¸æ­¢ä¸Šé¢è¿™äº›å›¾å½¢ğŸ˜ã€‚pathå…ƒç´ çš„å½¢çŠ¶é€šè¿‡å±æ€§dæ¥å®šä¹‰ï¼Œå±æ€§dçš„å€¼æ˜¯ä¸€ä¸ªâ€œå‘½ä»¤+å‚æ•°â€çš„åºåˆ—ã€‚ä¸‹é¢å°±åˆ—å‡ºäº†ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ã€‚</p>\n<h4 id=\"ç›´çº¿å‘½ä»¤\"><a href=\"#ç›´çº¿å‘½ä»¤\" class=\"headerlink\" title=\"ç›´çº¿å‘½ä»¤\"></a>ç›´çº¿å‘½ä»¤</h4><ol>\n<li><p>Moveto</p>\n<ul>\n<li> <code>M x,y</code> åœ¨è¿™é‡Œxå’Œyæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡ã€‚</li>\n<li> <code>m dx,dy</code> åœ¨è¿™é‡Œdxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»ã€‚</li>\n</ul>\n</li>\n</ol>\n<!---->\n\n<ol start=\"2\">\n<li><p>Lineto<br><code>Lineto</code>æŒ‡ä»¤å°†ç»˜åˆ¶ä¸€æ¡ç›´çº¿æ®µã€‚è¿™ä¸ªç›´çº¿æ®µä»å½“å‰ä½ç½®ç§»åˆ°æŒ‡å®šä½ç½®</p>\n<ul>\n<li>  <code>Lx,y</code> xä¸yæ˜¯ç»å¯¹åæ ‡ï¼Œåˆ†åˆ«ä»£è¡¨æ°´å¹³åæ ‡å’Œå‚ç›´åæ ‡</li>\n<li>  <code>ldx,dy</code> dxå’Œdyæ˜¯ç›¸å¯¹äºå½“å‰ç‚¹çš„è·ç¦»ï¼Œåˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸‹çš„è·ç¦»</li>\n<li>  <code>Hx</code> ç»å¯¹åæ ‡ï¼Œæ°´å¹³ç§»åŠ¨</li>\n<li>  <code>Vy</code> ç»å¯¹åæ ‡ï¼Œå‚ç›´ç§»åŠ¨</li>\n<li>  <code>hdx</code> æ°´å¹³ç§»åŠ¨ç›¸å¯¹è·ç¦»</li>\n<li>  <code>vdy</code> å‚ç›´ç§»åŠ¨ç›¸å¯¹è·ç¦»</li>\n</ul>\n</li>\n<li><p> Z or zï¼šé—­åˆè·¯å¾„</p>\n</li>\n</ol>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/NWYjyxL?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/NWYjyxL\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h4 id=\"æ›²çº¿å‘½ä»¤\"><a href=\"#æ›²çº¿å‘½ä»¤\" class=\"headerlink\" title=\"æ›²çº¿å‘½ä»¤\"></a>æ›²çº¿å‘½ä»¤</h4><p>å°å†™çš„æŒ‡ä»¤æ„ä¹‰åŒä¸Šï¼Œéƒ½æ˜¯è·Ÿç›¸å¯¹çš„è·ç¦»</p>\n<ol>\n<li> Curveto</li>\n</ol>\n<ul>\n<li> Â Â Cå‘½ä»¤åˆ›å»ºä¸€ä¸ªä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œå…¶ä¸­ (x1,y1) (x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œx,yä¸ºæ›²çº¿ç»ˆç‚¹</li>\n<li> <code>C x1 y1, x2 y2, x y </code>or <code>c dx1 dy1, dx2 dy2, dx dy</code></li>\n</ul>\n<!---->\n\n<ol start=\"2\">\n<li> Smooth Curveto</li>\n</ol>\n<ul>\n<li> Â Â Så‘½ä»¤å¯ä»¥ç”¨æ¥åˆ›å»ºäºä¸å‰é¢ä¸€æ ·çš„è´å¡å°”æ›²çº¿ï¼Œå¦‚æœSå‘½ä»¤è·Ÿåœ¨ä¸€ä¸ªCæˆ–Så‘½ä»¤åé¢ï¼Œåˆ™å®ƒçš„ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¼šè¢«å‡è®¾æˆå‰ä¸€ä¸ªå‘½ä»¤æ›²çº¿çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ã€‚å¦‚æœSå‘½ä»¤å•ç‹¬ä½¿ç”¨ï¼Œå‰é¢æ²¡æœ‰Cæˆ–è€…Så‘½ä»¤ï¼Œé‚£å½“å‰ç‚¹å°†ä½œä¸ºç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ã€‚æœ€å¤§çš„ä½œç”¨å°±æ˜¯å…‰æ»‘åœ°è¿æ¥ä¸¤æ¡æ›²çº¿</li>\n<li> <code>S x2 y2,x y</code> or <code>s dx2 dy2, dx dy</code></li>\n</ul>\n<blockquote>\n<p>Cã€Så‘½ä»¤ä¾‹å­</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/rNdmJma?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/rNdmJma\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<ol start=\"3\">\n<li> Quadratic BÃ©zier curveto</li>\n</ol>\n<ul>\n<li>  Qå‘½ä»¤ç”¨æ¥åˆ›å»ºä¸€æ¡äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œåªéœ€è¦ä¸€ä¸ªæ§åˆ¶ç‚¹</li>\n<li>  <code>Q x1 y1,x y</code> or <code>q dx1 dx2,dx dy</code></li>\n</ul>\n<ol start=\"4\">\n<li> Smooth quadratic BÃ©zier curveto</li>\n</ol>\n<ul>\n<li> Tå‘½ä»¤ç±»ä¼¼Så‘½ä»¤ï¼Œç”¨äºå¹³æ»‘é“¾æ¥äºŒæ¬¡è´å¡å°”æ›²çº¿</li>\n<li> <code>T x1 y1 </code>or <code>t dx dy</code></li>\n</ul>\n<blockquote>\n<p>Qã€Tå‘½ä»¤ä¾‹å­</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoRJaqN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/PoRJaqN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<ol start=\"5\">\n<li> Arc</li>\n</ol>\n<ul>\n<li>Aå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºç»˜åˆ¶æ›²çº¿<ul>\n<li>  <code>A rx ry x-axis-rotation large-arc-flag sweep-flag x y</code> <code>a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy</code></li>\n<li>  Â Â å‚æ•°è¯´æ˜ï¼š</li>\n<li>  Â Â rx ry: xã€yè½´åŠå¾„</li>\n<li>  Â Â X-axis-rotation: ç»•xè½´æ—‹è½¬è§’åº¦</li>\n<li>  Â Â large-arc-flagï¼š0-å¼§å°äº180åº¦ã€1-å¼§å¤§äº180åº¦</li>\n<li>  Â Â sweep-flagï¼š0-é€†æ—¶é’ˆç”»å¼§ã€1-é¡ºæ—¶é’ˆç”»å¼§</li>\n<li>  Â Â x yï¼šç»ˆç‚¹åæ ‡</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"åŠ¨ç”»\"><a href=\"#åŠ¨ç”»\" class=\"headerlink\" title=\"åŠ¨ç”»\"></a>åŠ¨ç”»</h2><blockquote>\n<p>æ”¾å…¥å½¢çŠ¶å…ƒç´ å†…éƒ¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´æ®µé‡Œï¼Œè®¾ç½®ç›¸å…³å±æ€§çš„å¼€å§‹ä¸ç»“æŸå€¼ï¼Œå˜åŒ–æ›²çº¿ç­‰ã€‚</p>\n</blockquote>\n<h3 id=\"åŠ¨ç”»å…ƒç´ \"><a href=\"#åŠ¨ç”»å…ƒç´ \" class=\"headerlink\" title=\"åŠ¨ç”»å…ƒç´ \"></a>åŠ¨ç”»å…ƒç´ </h3><ul>\n<li>  animateï¼šç”¨æ¥å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„æŸä¸ªå±æ€§åœ¨ç›¸åº”æ—¶é—´çš„å˜åŒ–</li>\n<li>  animateTransformï¼šæ”¹å˜ç›®æ ‡å…ƒç´ ä¸Šçš„ä¸€ä¸ªå˜å½¢å±æ€§ï¼Œæ§åˆ¶æ—‹è½¬ã€ç¼©æ”¾ã€å¹³ç§»ã€æ–œåˆ‡å˜æ¢</li>\n<li>  animateMotionï¼šå®šä¹‰ç›®æ ‡å…ƒç´ å¦‚ä½•æ²¿ä¸€ä¸ªè·¯å¾„è¿åŠ¨</li>\n<li>  discardï¼šæŒ‡å®šåœ¨ä½•æ—¶ä¸¢å¼ƒç‰¹å®šå…ƒç´ ï¼Œä»è€Œå‡å°‘ SVG ç”¨æˆ·ä»£ç†æ‰€éœ€çš„èµ„æºã€‚</li>\n<li>  mpathï¼šé…åˆanimateMotionï¼Œå¯ä»£æ›¿animateMotionçš„pathå±æ€§ï¼Œç”¨äºå¼•ç”¨ä¸€ä¸ªå¤–éƒ¨çš„path</li>\n<li>  setï¼šå¯ä»¥ç”¨æ¥è®¾å®šä¸€ä¸ªå±æ€§å€¼ï¼Œå¹¶ä¸ºè¯¥å€¼èµ‹äºˆä¸€ä¸ªæŒç»­æ—¶é—´ã€‚å®ƒæ”¯æŒæ‰€æœ‰çš„å±æ€§ç±»å‹ï¼Œ åŒ…æ‹¬é‚£äº›åŸç†ä¸Šä¸èƒ½æ’å€¼çš„ï¼Œ ä¾‹å¦‚å€¼ä¸ºå­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹çš„å±æ€§ã€‚ set å…ƒç´ æ˜¯éå åŠ çš„ã€‚æ— æ³•åœ¨å…¶ä¸Šä½¿ç”¨ additive å±æ€§æˆ– accumulate å±æ€§ï¼Œå³ä½¿å£°æ˜äº†è¿™äº›å±æ€§ä¹Ÿä¼šè‡ªåŠ¨è¢«å¿½ç•¥ã€‚</li>\n</ul>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmrYLy?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmrYLy\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h3 id=\"åŠ¨ç”»å±æ€§\"><a href=\"#åŠ¨ç”»å±æ€§\" class=\"headerlink\" title=\"åŠ¨ç”»å±æ€§\"></a>åŠ¨ç”»å±æ€§</h3><p>è¿™é‡Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š</p>\n<ol>\n<li> å–å€¼å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§ï¼ˆå¦‚xåæ ‡ï¼Œwidthç­‰å±æ€§ï¼‰çš„å€¼</li>\n</ol>\n<pre><code>-  **calcModeï¼š** è®¾ç½®åŠ¨ç”»çš„å˜åŒ–æ›²çº¿ï¼ˆdiscrete | linear | paced | splineï¼‰ï¼Œé™¤äº†animateMotioné»˜è®¤æ˜¯pacedå¤–ï¼Œå…¶ä»–æ˜¯é»˜è®¤linearï¼Œå½“ä¸€äº›ä¸æ”¯æŒçº¿æ€§å˜åŒ–çš„å±æ€§å€¼ï¼ˆstringç±»å‹çš„ï¼‰å°±ä¼šå˜ä¸ºdiscreteã€‚\n\n-  **valuesï¼š** å®šä¹‰åŠ¨ç”»è¿‡ç¨‹ä¸­çš„å€¼åºåˆ—ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªå€¼çš„åˆ†å·åˆ†éš”åˆ—è¡¨ï¼‰çš„å€¼ã€‚ å¦‚æœæŒ‡å®šäº†æ­¤å±æ€§ï¼Œåˆ™å°†å¿½ç•¥åœ¨å…ƒç´ ä¸Šè®¾ç½®çš„ä»»ä½• `from`, `to`, å’Œ `by` å±æ€§å€¼ã€‚\n\n-  **keyTimesï¼š** ä»¥åˆ†å·åˆ†éš”çš„æ—¶é—´å€¼åˆ—è¡¨ï¼Œç”¨äºæ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œæ­¥éª¤ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼ä¸`values`ä¸­çš„å€¼ä¸€ä¸€å¯¹åº”ï¼Œå®šä¹‰äº†`values`ä¸­çš„å€¼åœ¨åŠ¨ç”»ä¸­ä½•æ—¶æ‰§è¡Œï¼ŒkeyTimes åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯æŒ‡å®šåœ¨ [0-1] ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºåŠ¨ç”»çš„å®Œæˆæ—¶é—´ã€‚æ¯ä¸€ä¸ªè¿ç»­çš„æ—¶é—´å€¼å¿…é¡»å¤§äºç­‰äºå‰ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n\n    -   å¯¹äº linear å’Œ splineåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 0ï¼Œåˆ—è¡¨çš„æœ€åä¸€ä¸ªæ—¶é—´å€¼å¿…é¡»ä¸º 1ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼Œè¯¥ value åœ¨ keyTimes çš„æ—¶é—´ å€¼çš„ä¸­é—´æ’å€¼ã€‚\n    -   å¯¹äº discreteåŠ¨ç”»ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼å¿…é¡»ä¸º 0ã€‚ä¸æ¯ä¸ª value å…³è”çš„æ—¶é—´å€¼å®šä¹‰äº†ä½•æ—¶è®¾ç½®è¯¥ valueï¼ŒåŠ¨ç”»å‡½æ•°ä½¿ç”¨è¯¥ valueï¼Œç›´åˆ° keyTimes ä¸­å®šä¹‰çš„ä¸‹ä¸€ä¸ªæ—¶é—´å€¼ã€‚\n    -   å¦‚æœæ’å€¼æ¨¡å¼æ˜¯ pacedåŠ¨ç”»ï¼ŒkeyTimes å±æ€§è¢«å¿½ç•¥ã€‚\n\n-  **keySplinesï¼š** å®šä¹‰äº†ä¸€ç»„ä¸ keyTimes åˆ—è¡¨å…³è”çš„ BÃ©zier æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ§åˆ¶é—´éš”ï¼ˆkeyTimesçš„å€¼åˆ—è¡¨é•¿åº¦å‡1å³ä¸ºé—´éš”æ•°ï¼‰çš„ä¸‰æ¬¡ BÃ©zier å‡½æ•°ã€‚åªæœ‰splineåŠ¨ç”»æ‰ä¼šæœ‰æ•ˆã€‚\n\n-  **fromï¼š** æŒ‡å®šå±æ€§çš„å¼€å§‹å€¼\n\n-  **byï¼š** æŒ‡å®šå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„ç›¸å¯¹åç§»å€¼\n\n-  **toï¼š** è¡¨ç¤ºå°†åœ¨åŠ¨ç”»æœŸé—´ä¿®æ”¹çš„å±æ€§çš„æœ€ç»ˆå€¼\n</code></pre>\n<blockquote>\n<p>å–å€¼å±æ€§ä¾‹å­</p>\n</blockquote>\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/WNzdXNZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/WNzdXNZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n<ol start=\"2\">\n<li> æ—¶é—´å±æ€§ï¼šæ§åˆ¶åŠ¨ç”»å¦‚ä½•å¼€å§‹ï¼Œä½•æ—¶å¼€å§‹ã€é‡å¤æ¬¡æ•°ç­‰</li>\n</ol>\n<pre><code>-  **beginï¼š** åŠ¨ç”»å¼€å§‹æ—¶é—´\n\n-  **endï¼š** åŠ¨ç”»ç»“æŸæ—¶é—´\n\n-  **durï¼š** åŠ¨ç”»æŒç»­æ—¶é—´\n\n-  **min/maxï¼š** é™åˆ¶åŠ¨ç”»çš„æœ€å°/å¤§æŒç»­æ—¶é—´\n\n-  **restartï¼š** æ§åˆ¶åŠ¨ç”»æ˜¯å¦å¯ä»¥é‡æ–°å¼€å§‹\n\n    -   `always` ï¼šä»»ä½•æ—¶å€™éƒ½å¯é‡æ–°å¼€å§‹\n    -   `whenNotActive` ï¼šéåŠ¨ç”»æ—¶å¯é‡æ–°å¼€å§‹\n    -   `never` ï¼šä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é‡æ–°å¼€å§‹\n\n-  **repeatCountï¼š** æŒ‡å®šåŠ¨ç”»é‡å¤çš„æ¬¡æ•°ã€å€¼å¿…é¡»å¤§äº 0ã€‚\n\n-  **repeatDurï¼š** æŒ‡å®šåŠ¨ç”»çš„é‡å¤æ—¶é—´\n\n-  **fillï¼š** æ§åˆ¶åŠ¨ç”»ç»“æŸæ—¶çš„çŠ¶æ€ã€‚æœ‰ä¸¤ä¸ªå€¼å¯é€‰\n\n    -   removeï¼šåœ¨åŠ¨ç”»çš„æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼ŒåŠ¨ç”»æ•ˆæœä¼šç§»é™¤ï¼ˆä¸å†åº”ç”¨ï¼‰ã€‚åœ¨åŠ¨ç”»çš„æ¿€æ´»ç»“æŸåï¼ŒåŠ¨ç”»ä¸å†å¯¹ç›®æ ‡å…ƒç´ æœ‰å½±å“ï¼ˆé™¤éåŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰ã€‚\n    -   freezeï¼šåœ¨åŠ¨ç”»æ¿€æ´»æŒç»­æ—¶é—´ç»“æŸåï¼Œæ–‡æ¡£æŒç»­æ—¶é—´çš„å‰©ä½™æ—¶é—´é‡Œï¼ˆæˆ–è€…ç›´åˆ°åŠ¨ç”»é‡æ–°å¼€å§‹ï¼‰åŠ¨ç”»æ•ˆæœä¼šâ€œå†»ç»“â€ç€ã€‚ï¼ˆä¿æŒåŠ¨ç”»ç»ˆæ€ï¼‰\n</code></pre>\n<ol start=\"3\">\n<li> ç›®æ ‡å±æ€§ï¼šæ§åˆ¶è¦åŠ¨ç”»çš„å±æ€§</li>\n</ol>\n<pre><code>-  **ttributeTypeï¼š** å½“attributeType=&quot;XML&quot;æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯XMLçš„å±æ€§ï¼›å½“attributeType=&quot;CSS&quot;æ—¶ï¼ŒattributeNameè¢«è®¤ä¸ºæ˜¯cssçš„å±æ€§ï¼›ä¸æŒ‡å®šattributeTypeæ—¶ï¼Œé»˜è®¤ä¸º&quot;auto&quot;ï¼Œä¼šå…ˆå°†attributeNameä½œä¸ºcssçš„å±æ€§ï¼Œå¦‚æœæ— æ•ˆï¼Œå†å°†attributeNameä½œä¸ºXMLçš„å±æ€§ã€‚\n-  **attributeNameï¼š** è¦åŠ¨ç”»çš„å±æ€§å\n</code></pre>\n<!---->\n\n<ol start=\"4\">\n<li> å…¶ä»–å±æ€§ï¼šadditiveã€accumulate</li>\n</ol>\n<pre><code>-  **additiveï¼š** æ§åˆ¶åŠ¨ç”»å±æ€§æ˜¯å¦æ˜¯é™„åŠ çš„ã€‚\n-  **accumulateï¼š** åœ¨åŸæ¥çš„ç»“æœçš„åŸºç¡€ä¸Šé‡å¤åŠ¨ç”»çš„æ—¶å€™æ¯ä¸€æ¬¡å¾ªç¯éƒ½ç´¯åŠ ã€‚è¿™ä¸ªå±æ€§å‘Šè¯‰åŠ¨ç”»æ˜¯å¦æ˜¯æ¯æ¬¡å¾ªç¯ï¼Œå‰ä¸€ä¸ªåŠ¨ç”»å±æ€§å€¼è¦åŠ ä¸Šå»ã€‚éœ€è¦è®¾ç½®fromä¸toå±æ€§ã€‚\n</code></pre>\n<blockquote>\n<p>additiveã€accumulateä¾‹å­</p>\n</blockquote>\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/PoREOjj?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/PoREOjj\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n<h2 id=\"ç»“æ„å…ƒç´ \"><a href=\"#ç»“æ„å…ƒç´ \" class=\"headerlink\" title=\"ç»“æ„å…ƒç´ \"></a>ç»“æ„å…ƒç´ </h2><blockquote>\n<p>ç»“æ„å…ƒç´ å…³æ³¨çš„æ˜¯å¤ç”¨</p>\n</blockquote>\n<ul>\n<li>  <strong>defsï¼š</strong> å®šä¹‰ä¸€ä¸ªå¤ç”¨çš„å›¾å½¢ã€‚åœ¨<code>defs</code>å…ƒç´ ä¸­å®šä¹‰çš„å›¾å½¢å…ƒç´ ä¸ä¼šç›´æ¥å‘ˆç°ã€‚ ä½ å¯ä»¥åœ¨ä½ çš„è§†å£çš„ä»»æ„åœ°æ–¹åˆ©ç”¨ <code>use</code>å…ƒç´ å‘ˆç°è¿™äº›å…ƒç´ ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  <strong>gï¼š</strong> ç»„åˆå­å…ƒç´ çš„å®¹å™¨ï¼Œgå…ƒç´ çš„å±æ€§ä¼šè¢«å…¶æ‰€æœ‰çš„å­å…ƒç´ ç»§æ‰¿ ã€‚ä¸<code>defs</code>ç›¸æ¯”ï¼Œgå®šä¹‰çš„é™¤äº†å¤ç”¨å¤–ï¼Œåœ¨å®šä¹‰æ—¶ä¼šè¿›è¡Œæ¸²æŸ“ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  <strong>symbolï¼š</strong> å®šä¹‰ä¸€ä¸ªå›¾å½¢æ¨¡ç‰ˆå¯¹è±¡ï¼Œä½¿ç”¨<code>use</code>å…ƒç´ å®ä¾‹åŒ–ã€‚<code>symbol</code>å…ƒç´ å¯¹å›¾å½¢çš„ä½œç”¨æ˜¯åœ¨åŒä¸€æ–‡æ¡£ä¸­å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ ç»“æ„å’Œè¯­ä¹‰ã€‚symbolé€šè¿‡<code>use</code>è°ƒç”¨æ—¶ï¼Œ<code> &lt;use  ``/``&gt;</code>å¯ä»¥è®¾ç½®heightã€widthæ§åˆ¶å®é™…ç»˜åˆ¶çš„å¤§å°ã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li>  <strong>svg</strong> <strong>ï¼š</strong> å¦‚æœ <code>svg</code> ä¸æ˜¯æ ¹å…ƒç´ ï¼Œ<code>svg</code> å…ƒç´ å¯ä»¥ç”¨äºåœ¨å½“å‰æ–‡æ¡£ï¼ˆæ¯”å¦‚è¯´ï¼Œä¸€ä¸ª HTML æ–‡æ¡£ï¼‰å†…åµŒå¥—ä¸€ä¸ªç‹¬ç«‹çš„ svg ç‰‡æ®µ ã€‚ è¿™ä¸ªç‹¬ç«‹ç‰‡æ®µæ‹¥æœ‰ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿã€‚</li>\n</ul>\n<!---->\n\n<ul>\n<li><p><strong>markerï¼š</strong> å®šä¹‰äº†åœ¨ç‰¹å®šçš„pathå…ƒç´ ã€lineå…ƒç´ ã€polylineå…ƒç´ æˆ–è€…polygonå…ƒç´ ä¸Šç»˜åˆ¶ç®­å¤´æˆ–è€…å¤šè¾¹å½¢æ ‡è®°å›¾å½¢ã€‚</p>\n<ul>\n<li>  refxï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„xåæ ‡ (é»˜è®¤æ˜¯0)</li>\n<li>  refyï¼šå®šä¹‰å…ƒç´ å‚è€ƒç‚¹çš„yåæ ‡ (é»˜è®¤æ˜¯0)</li>\n<li>  markerWidthï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ <code>&lt;marker&gt;</code> æ—¶è¦é€‚åˆçš„è§†å£å®½åº¦</li>\n<li>  markerHeightï¼šè¡¨ç¤ºæ ¹æ® viewBox å’Œ preserveAspectRatio å±æ€§æ¸²æŸ“ <code>&lt;marker&gt; </code>æ—¶è¦é€‚åˆçš„è§†å£é«˜åº¦</li>\n<li>  markerUnitsï¼šæŒ‡ç¤ºæ ‡è®°æ”¾ç½®åœ¨å½¢çŠ¶ä¸Šçš„ä½ç½®æ—¶å¦‚ä½•æ—‹è½¬</li>\n</ul>\n</li>\n</ul>\n<!---->\n\n<ul>\n<li>  mask</li>\n</ul>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/GRxmgEN?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/GRxmgEN\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h2 id=\"æ»¤é•œå…ƒç´ \"><a href=\"#æ»¤é•œå…ƒç´ \" class=\"headerlink\" title=\"æ»¤é•œå…ƒç´ \"></a>æ»¤é•œå…ƒç´ </h2><h3 id=\"ç›¸å…³æ ‡ç­¾\"><a href=\"#ç›¸å…³æ ‡ç­¾\" class=\"headerlink\" title=\"ç›¸å…³æ ‡ç­¾\"></a>ç›¸å…³æ ‡ç­¾</h3><blockquote>\n<p>æ»¤é•œé€šè¿‡<code>&lt;filter&gt;</code>åœ¨<code>&lt;defs&gt;</code>ä¸­è¿›è¡Œå®šä¹‰ï¼Œåœ¨filteræ ‡ç­¾ä¸­æä¾›ä¸€ç³»åˆ—å›¾å…ƒï¼Œä½¿ç”¨æ»¤é•œåªéœ€ä¸ºsvgå…ƒç´ è®¾ç½®filterå±æ€§å³å¯ã€‚</p>\n</blockquote>\n<h3 id=\"å¸¸è§å±æ€§\"><a href=\"#å¸¸è§å±æ€§\" class=\"headerlink\" title=\"å¸¸è§å±æ€§\"></a>å¸¸è§å±æ€§</h3><p>  inï¼šæ ‡è¯†è¾“å…¥çš„åŸè¯­</p>\n<pre><code>-   SourceGraphicï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`&lt;filter&gt;`åŸè¯­çš„åŸå§‹è¾“å…¥\n-   SourceAlphaï¼šè¯¥å…³é”®è¯è¡¨ç¤ºå›¾å½¢å…ƒç´ è‡ªèº«å°†ä½œä¸º`&lt;filter&gt;`åŸè¯­çš„åŸå§‹è¾“å…¥. SourceAlpha ä¸ SourceGraphic å…·æœ‰ç›¸åŒçš„è§„åˆ™é™¤äº† SourceAlpha åªä½¿ç”¨å…ƒç´ çš„é€æ˜åº¦ã€‚\n-   BackgroundImageï¼šè¯¥å…³é”®è¯è¡¨ç¤º filter å…ƒç´ å½“å‰åº•ä¸‹çš„åŒºåŸŸçš„å›¾å½¢å¿«ç…§å°†è¢«è°ƒç”¨ã€‚\n-   BackgroundAlphaï¼šBackgroundImage ç›¸åŒé™¤äº†åªä½¿ç”¨é€æ˜åº¦ã€‚\n-   FillPaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºè¿‡æ»¤æ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„`fill`å±æ€§å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒFillPaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n-   StrokePaintï¼šæ­¤å…³é”®å­—è¡¨ç¤ºæ»¤é•œæ•ˆæœçš„ç›®æ ‡å…ƒç´ ä¸Šçš„ç¬”ç”»å±æ€§çš„å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒStrokePaint åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ä¸é€æ˜çš„ï¼Œä½†å¦‚æœå½¢çŠ¶æ˜¯ä½¿ç”¨æ¸å˜æˆ–å›¾æ¡ˆç»˜åˆ¶çš„ï¼Œå®ƒæœ¬èº«åŒ…æ‹¬é€æ˜æˆ–åŠé€æ˜éƒ¨åˆ†ï¼Œåˆ™æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ã€‚\n</code></pre>\n<!---->\n\n<p>  in2ï¼šin2 å±æ€§æ ‡è¯†ç»™å®šfilteråŸè¯­çš„ç¬¬äºŒä¸ªè¾“å…¥ã€‚å®ƒçš„å·¥ä½œåŸç†ä¸ in å±æ€§å®Œå…¨ç›¸åŒã€‚</p>\n<blockquote>\n<p>colorMatrixé¢œè‰²çŸ©é˜µå˜æ¢</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* R G B A 1 é¢œè‰²çŸ©é˜µè®¡ç®— */</span></span><br><span class=\"line\"> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"comment\">// R = 1*R + 0*G + 0*B + 0*A + 0 </span></span><br><span class=\"line\"> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"comment\">// G = 0*R + 1*G + 0*B + 0*A + 0 </span></span><br><span class=\"line\"> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"comment\">// B = 0*R + 0*G + 1*B + 0*A + 0 </span></span><br><span class=\"line\"> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">0</span> <span class=\"comment\">// A = 0*R + 0*G + 0*B + 1*A + 0</span></span><br></pre></td></tr></table></figure>\n\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/xxWzjde?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/xxWzjde\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n<blockquote>\n<p>ä½¿ç”¨feGaussianBlurã€feColorMatrixã€feBlendå®ç°ç²˜ç¨ æ•ˆæœ</p>\n</blockquote>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLZbQO?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLZbQO\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n<blockquote>\n<p>ä½¿ç”¨feCompositeå¹¶è®¾ç½®operatorä¸ºinï¼Œæ§åˆ¶æ˜¾ç¤ºå›¾åƒçš„ä¸€éƒ¨åˆ†ã€‚</p>\n</blockquote>\n<p>å…³äºfeCompositeï¼Œæ›´å¤šå¯ä»¥çœ‹è¿™é‡Œï¼š<a href=\"https://apike.ca/prog_svg_filter_feComposite.html\">feComposite</a></p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/wvmXOwZ?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/wvmXOwZ\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n\n<blockquote>\n<p>feDisplacementMapã€feTurbulence</p>\n</blockquote>\n<p>feDisplacementMapæ¨èçœ‹è¿™ç¯‡ï¼š<a href=\"https://www.zhangxinxu.com/wordpress/2017/12/understand-svg-fedisplacementmap-filter/\">æ·±å…¥ç†è§£SVG feDisplacementMapæ»¤é•œåŠå®é™…åº”ç”¨</a></p>\n<p>feTurbulenceæ¨èçœ‹è¿™ç¯‡ï¼š<a href=\"https://zhuanlan.zhihu.com/p/366438535\">è¯´è¯´SVGçš„feTurbulenceæ»¤é•œ</a></p>\n<p>ä½ç½®è½¬æ¢å…¬å¼ï¼š</p>\n<p><code>P&#39;(x,y) â† P(x + scale * (XC(x,y) - 0.5), y + scale * (YC(x,y) - 0.5))</code></p>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/OJvwJqV?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/OJvwJqV\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h2 id=\"æ¸å˜å…ƒç´ \"><a href=\"#æ¸å˜å…ƒç´ \" class=\"headerlink\" title=\"æ¸å˜å…ƒç´ \"></a>æ¸å˜å…ƒç´ </h2><h3 id=\"linearGradientï¼šçº¿æ€§æ¸å˜\"><a href=\"#linearGradientï¼šçº¿æ€§æ¸å˜\" class=\"headerlink\" title=\"linearGradientï¼šçº¿æ€§æ¸å˜\"></a>linearGradientï¼šçº¿æ€§æ¸å˜</h3><ul>\n<li>  gradientUnits: æ§åˆ¶æ¸å˜åæ ‡çš„å•ä½</li>\n<li>  gradientTransform: å¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰</li>\n<li>  x1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹xåæ ‡-   y1ï¼šçº¿æ€§æ¸å˜èµ·ç‚¹yåæ ‡</li>\n<li>  x2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹xåæ ‡-   y2ï¼šçº¿æ€§æ¸å˜ç»ˆç‚¹yåæ ‡</li>\n<li>  spreadMethodï¼šå®šä¹‰å¦‚ä½•åœ¨æ¸å˜ä¹‹å¤–å¡«å……    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤</li>\n</ul>\n  <iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"feDisplacementMap\" src=\"https://codepen.io/l-jour/embed/JjLMMjR?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n    See the Pen <a href=\"https://codepen.io/l-jour/pen/JjLMMjR\"></a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n    on <a href=\"https://codepen.io\">CodePen</a>.\n  </iframe>\n\n<h3 id=\"radialGradientï¼šå¾„å‘æ¸å˜\"><a href=\"#radialGradientï¼šå¾„å‘æ¸å˜\" class=\"headerlink\" title=\"radialGradientï¼šå¾„å‘æ¸å˜\"></a>radialGradientï¼šå¾„å‘æ¸å˜</h3><ul>\n<li>  gradientUnitsï¼šæ§åˆ¶æ¸å˜åæ ‡çš„å•ä½</li>\n<li>  gradientTransformï¼šå¯¹æ¸å˜åæ ‡ç³»è¿›è¡Œå˜æ¢ï¼ˆtranslateã€skewã€rotateã€‚ã€‚ã€‚ï¼‰</li>\n<li>  cx: ç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ x è½´åæ ‡(é»˜è®¤50%)ã€‚</li>\n<li>  cyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„ y è½´åæ ‡ã€‚</li>\n<li>  rï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ç»ˆæ­¢åœ†çš„åŠå¾„ã€‚</li>\n<li>  fxï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ x è½´åæ ‡</li>\n<li>  fyï¼šç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜çš„ç„¦ç‚¹çš„ y è½´åæ ‡</li>\n<li>  spreadMethodï¼šç¡®å®šå¦‚ä½•åœ¨æ¸å˜çš„å®šä¹‰è¾¹ç¼˜ä¹‹å¤–å¡«å……å½¢çŠ¶ã€‚    -   padï¼šç”¨æ¸å˜ç»ˆç‚¹é¢œè‰²å»å¡«å……é¢å¤–åŒºåŸŸ    -   repeatï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜é¡ºåºé‡å¤    -   reflectï¼šæŒ‰ç…§å¼€å§‹çš„æ¸å˜ç›¸åé¡ºåºé‡å¤</li>\n<li>  stopï¼šæ¸å˜çš„é¢œè‰²å¡åº¦</li>\n</ul>\n<iframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"svg-radialgradient\" src=\"https://codepen.io/l-jour/embed/zYWWLBa?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/l-jour/pen/zYWWLBa\">\n  svg-radialgradient</a> by L-jour (<a href=\"https://codepen.io/l-jour\">@l-jour</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n\n<h2 id=\"å…³äºsvgä¸canvas\"><a href=\"#å…³äºsvgä¸canvas\" class=\"headerlink\" title=\"å…³äºsvgä¸canvas\"></a>å…³äºsvgä¸canvas</h2><p>  å¯ä»¥çœ‹çœ‹msdnçš„æ–‡ç« <a href=\"https://docs.microsoft.com/zh-cn/previous-versions/msdn10/Hh377884(v=MSDN.10)\">å¦‚ä½•ä¸ºæ‚¨çš„ç½‘ç«™åœ¨Canvaså’ŒSVGä¹‹é—´åšå‡ºé€‰æ‹©</a></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>  svgçš„ä¸–ç•Œéå¸¸ä¸°å¯Œï¼Œå¹¶ä¸”å¾ˆå¤šå±æ€§å¯ä»¥ä½œç”¨ä¸åŒçš„å…ƒç´ ã€æ‹¥æœ‰ä¸åŒçš„æ•ˆæœã€‚å…ƒç´ ç›´æ¥æœ‰å¯ä»¥æ­é…ä½¿ç”¨ï¼Œå¦‚å¤šä¸ªåŠ¨ç”»ï¼Œå¤šä¸ªæ»¤é•œç­‰ç­‰ï¼Œæ»¤é•œå…ƒç´ è¿˜æ¶‰åŠæ›´å¤šé¢†åŸŸçŸ¥è¯†ã€‚æ€»ä¹‹ï¼Œå…ƒç´ ç§ç±»ã€å…ƒç´ å±æ€§éå¸¸å¤šï¼Œè¿˜æ˜¯éœ€è¦å¾—æ…¢æ…¢åœ°å­¦ä¹ ã€é˜…è¯»ç›¸å…³çš„æ¡ˆä¾‹å¹¶æ“ä½œä¸€ä¸‹æ‰èƒ½æœ‰æ‰€æŒæ¡ã€‚</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><ul>\n<li>  <a href=\"https://apike.ca/prog_svg_filter_feComposite.html\">feComposite</a></li>\n<li>  <a href=\"https://zh.wikipedia.org/zh-cn/%E8%B2%9D%E8%8C%B2%E6%9B%B2%E7%B7%9A\">è´å¡å°”æ›²çº¿-wiki</a></li>\n</ul>"},{"title":"ä¸€å°é˜¿é‡Œäº‘çš„å–èŒ¶é‚®ä»¶","date":"2022-02-08T04:37:52.000Z","_content":"\näº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå°±åœ¨ä»Šå¤©æ—©ä¸Šï¼Œæ”¶åˆ°äº†ä¸€å°æ¥è‡ªé˜¿é‡Œäº‘çš„ã€å–èŒ¶ï¼ˆæ ¸æŸ¥ï¼‰é€šçŸ¥ã€‘ã€‚ä¸€çœ‹é‚®ä»¶ï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯åŸŸåæ²¡æœ‰è§£æåˆ°å†…åœ°èŠ‚ç‚¹çš„æœåŠ¡å™¨ä¸Šé¢å‘¢ã€‚å›æƒ³ä¸€ä¸‹è‡ªå·±çš„è§£æï¼Œå®ƒè¯´çš„å¯¹ï¼ã€‚ã€‚ã€‚\n![why](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081154.png)\n\n<!-- more -->\n\n## åŸç”±\n\nåœ¨è€æ—©ä»¥å‰äº†ï¼Œæˆ‘ç”¨ hexo éƒ¨ç½² blog åœ¨ GitHub Page ä¸Šé¢ï¼Œç„¶åè§£æäº†è‡ªå·±çš„åŸŸååœ¨ gh-page ä¸Šï¼Œæ˜¾ç„¶ï¼ŒGitHub Page çš„æœåŠ¡å™¨ä¸åœ¨å†…åœ°ã€‚æˆ‘ä¸ºäº†è®¿é—®é€Ÿåº¦èƒ½å¿«é‚£ä¹ˆä¸€ä¸ç‚¹ï¼Œå°±ç»§ç»­ä½¿ç”¨äº† cloudflare çš„ cdn åŠ é€Ÿï¼Œå› æ­¤ä¹Ÿåœ¨ä¸Šé¢è®¾ç½®äº† DNSï¼Œä½†æ˜¯æˆ‘åœ¨ DNS ä¸Šä¹Ÿè§£æäº†ä¸€ä¸ªäºŒçº§åŸŸååˆ°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¸Šå•Šã€‚æŒ‰ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œè®¾ç½®ä¸€ä¸ªäºŒçº§åŸŸåè§£æåˆ°å†…åœ°æœåŠ¡å™¨å°±è¡Œäº†å‘¢ï¼Œç„¶åç‚¹å‡»å¤æŸ¥è¿æ¥åè¿˜æ˜¯æ£€æŸ¥æœ‰é—®é¢˜ã€‚\n\n## è§£å†³\n\né€šè¿‡åŸç”±çš„åˆ†æï¼Œæˆ‘è¿™æ¬¡å°†é—®é¢˜æ”¾åœ¨äº† cloudflare ä¸Šé¢ï¼Œçœ‹äº†ä¸€ä¸‹ DNS è®¾ç½®ã€‚\n![dns setting](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081207.png)\nçœ‹åˆ°ä¸Šé¢çš„ä»£ç†çŠ¶æ€äº†å—ï¼Œæˆ‘å°±å¼€å§‹æ€€ç–‘æ˜¯è¿™ä¸ªçš„é—®é¢˜ï¼Œok,æŸ¥æŸ¥ä»€ä¹ˆæ„æ€ã€‚çœ‹åˆ°äº†ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ã€‚\n![Q&A proxy](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081210.png)\næŒ‰ç…§ä¸Šé¢çš„è¯´æ³•ï¼Œæ˜¾ç„¶ proxy å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œè®¿é—®åŸŸåæ—¶ï¼Œå¦‚æœè®¾ç½®äº†ä»£ç†ï¼Œé‚£ä¹ˆå°±ä¼šèµ°ä»£ç†ï¼Œè€Œä¸æ˜¯ç›´æ¥èµ°è§£æåœ°å€ã€‚\né‚£æˆ‘ä»¬æ¥ ping ä¸€ä¸‹çœ‹çœ‹ã€‚\n![ping res](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081213.png)\nä¸Šé¢çš„ä¸¤ä¸ªåŸŸåå…¶å®æ˜¯åŒä¸€ä¸ª ip,ä½†æ˜¯ ping å‡ºæ¥å“åº”çš„ä¸ä¸€æ ·ï¼Œå› æ­¤ï¼Œç¡®å®æ˜¯æœ‰ä»£ç†çš„å­˜åœ¨ã€‚\næˆ‘è‡ªå·±çš„æœåŠ¡å™¨ ip æ˜¯ 47 å¼€å§‹çš„ï¼Œä¸Šé¢çš„ ping ç»“æœä¸€ä¸ªæ˜¯ cloudflare ä»£ç†çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæ˜¯ gh-page çš„æœåŠ¡å™¨ã€‚\né‚£ä¹ˆå…³é—­ä»£ç†å°±å¯ä»¥äº†å—ï¼Ÿ\næ˜¯çš„ï¼Œå¯ä»¥äº†ã€‚\n![pre|left|350*0](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081229.jpg)\n![|right|250*0](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081231.png)\n![result](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081217.png)\n","source":"_posts/ä¸€å°é˜¿é‡Œäº‘çš„å–èŒ¶é‚®ä»¶.md","raw":"---\ntitle: ä¸€å°é˜¿é‡Œäº‘çš„å–èŒ¶é‚®ä»¶\ndate: 2022-02-08 12:37:52\ntags:\ncategories: ä¸€äº›è¶£äº‹çš„ğŸŒŸ\n---\n\näº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå°±åœ¨ä»Šå¤©æ—©ä¸Šï¼Œæ”¶åˆ°äº†ä¸€å°æ¥è‡ªé˜¿é‡Œäº‘çš„ã€å–èŒ¶ï¼ˆæ ¸æŸ¥ï¼‰é€šçŸ¥ã€‘ã€‚ä¸€çœ‹é‚®ä»¶ï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯åŸŸåæ²¡æœ‰è§£æåˆ°å†…åœ°èŠ‚ç‚¹çš„æœåŠ¡å™¨ä¸Šé¢å‘¢ã€‚å›æƒ³ä¸€ä¸‹è‡ªå·±çš„è§£æï¼Œå®ƒè¯´çš„å¯¹ï¼ã€‚ã€‚ã€‚\n![why](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081154.png)\n\n<!-- more -->\n\n## åŸç”±\n\nåœ¨è€æ—©ä»¥å‰äº†ï¼Œæˆ‘ç”¨ hexo éƒ¨ç½² blog åœ¨ GitHub Page ä¸Šé¢ï¼Œç„¶åè§£æäº†è‡ªå·±çš„åŸŸååœ¨ gh-page ä¸Šï¼Œæ˜¾ç„¶ï¼ŒGitHub Page çš„æœåŠ¡å™¨ä¸åœ¨å†…åœ°ã€‚æˆ‘ä¸ºäº†è®¿é—®é€Ÿåº¦èƒ½å¿«é‚£ä¹ˆä¸€ä¸ç‚¹ï¼Œå°±ç»§ç»­ä½¿ç”¨äº† cloudflare çš„ cdn åŠ é€Ÿï¼Œå› æ­¤ä¹Ÿåœ¨ä¸Šé¢è®¾ç½®äº† DNSï¼Œä½†æ˜¯æˆ‘åœ¨ DNS ä¸Šä¹Ÿè§£æäº†ä¸€ä¸ªäºŒçº§åŸŸååˆ°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¸Šå•Šã€‚æŒ‰ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œè®¾ç½®ä¸€ä¸ªäºŒçº§åŸŸåè§£æåˆ°å†…åœ°æœåŠ¡å™¨å°±è¡Œäº†å‘¢ï¼Œç„¶åç‚¹å‡»å¤æŸ¥è¿æ¥åè¿˜æ˜¯æ£€æŸ¥æœ‰é—®é¢˜ã€‚\n\n## è§£å†³\n\né€šè¿‡åŸç”±çš„åˆ†æï¼Œæˆ‘è¿™æ¬¡å°†é—®é¢˜æ”¾åœ¨äº† cloudflare ä¸Šé¢ï¼Œçœ‹äº†ä¸€ä¸‹ DNS è®¾ç½®ã€‚\n![dns setting](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081207.png)\nçœ‹åˆ°ä¸Šé¢çš„ä»£ç†çŠ¶æ€äº†å—ï¼Œæˆ‘å°±å¼€å§‹æ€€ç–‘æ˜¯è¿™ä¸ªçš„é—®é¢˜ï¼Œok,æŸ¥æŸ¥ä»€ä¹ˆæ„æ€ã€‚çœ‹åˆ°äº†ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ã€‚\n![Q&A proxy](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081210.png)\næŒ‰ç…§ä¸Šé¢çš„è¯´æ³•ï¼Œæ˜¾ç„¶ proxy å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œè®¿é—®åŸŸåæ—¶ï¼Œå¦‚æœè®¾ç½®äº†ä»£ç†ï¼Œé‚£ä¹ˆå°±ä¼šèµ°ä»£ç†ï¼Œè€Œä¸æ˜¯ç›´æ¥èµ°è§£æåœ°å€ã€‚\né‚£æˆ‘ä»¬æ¥ ping ä¸€ä¸‹çœ‹çœ‹ã€‚\n![ping res](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081213.png)\nä¸Šé¢çš„ä¸¤ä¸ªåŸŸåå…¶å®æ˜¯åŒä¸€ä¸ª ip,ä½†æ˜¯ ping å‡ºæ¥å“åº”çš„ä¸ä¸€æ ·ï¼Œå› æ­¤ï¼Œç¡®å®æ˜¯æœ‰ä»£ç†çš„å­˜åœ¨ã€‚\næˆ‘è‡ªå·±çš„æœåŠ¡å™¨ ip æ˜¯ 47 å¼€å§‹çš„ï¼Œä¸Šé¢çš„ ping ç»“æœä¸€ä¸ªæ˜¯ cloudflare ä»£ç†çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæ˜¯ gh-page çš„æœåŠ¡å™¨ã€‚\né‚£ä¹ˆå…³é—­ä»£ç†å°±å¯ä»¥äº†å—ï¼Ÿ\næ˜¯çš„ï¼Œå¯ä»¥äº†ã€‚\n![pre|left|350*0](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081229.jpg)\n![|right|250*0](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081231.png)\n![result](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081217.png)\n","slug":"ä¸€å°é˜¿é‡Œäº‘çš„å–èŒ¶é‚®ä»¶","published":1,"updated":"2022-12-31T10:26:33.596Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nht3000p3kv70o0x3isw","content":"<p>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå°±åœ¨ä»Šå¤©æ—©ä¸Šï¼Œæ”¶åˆ°äº†ä¸€å°æ¥è‡ªé˜¿é‡Œäº‘çš„ã€å–èŒ¶ï¼ˆæ ¸æŸ¥ï¼‰é€šçŸ¥ã€‘ã€‚ä¸€çœ‹é‚®ä»¶ï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯åŸŸåæ²¡æœ‰è§£æåˆ°å†…åœ°èŠ‚ç‚¹çš„æœåŠ¡å™¨ä¸Šé¢å‘¢ã€‚å›æƒ³ä¸€ä¸‹è‡ªå·±çš„è§£æï¼Œå®ƒè¯´çš„å¯¹ï¼ã€‚ã€‚ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081154.png\" alt=\"why\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"åŸç”±\"><a href=\"#åŸç”±\" class=\"headerlink\" title=\"åŸç”±\"></a>åŸç”±</h2><p>åœ¨è€æ—©ä»¥å‰äº†ï¼Œæˆ‘ç”¨ hexo éƒ¨ç½² blog åœ¨ GitHub Page ä¸Šé¢ï¼Œç„¶åè§£æäº†è‡ªå·±çš„åŸŸååœ¨ gh-page ä¸Šï¼Œæ˜¾ç„¶ï¼ŒGitHub Page çš„æœåŠ¡å™¨ä¸åœ¨å†…åœ°ã€‚æˆ‘ä¸ºäº†è®¿é—®é€Ÿåº¦èƒ½å¿«é‚£ä¹ˆä¸€ä¸ç‚¹ï¼Œå°±ç»§ç»­ä½¿ç”¨äº† cloudflare çš„ cdn åŠ é€Ÿï¼Œå› æ­¤ä¹Ÿåœ¨ä¸Šé¢è®¾ç½®äº† DNSï¼Œä½†æ˜¯æˆ‘åœ¨ DNS ä¸Šä¹Ÿè§£æäº†ä¸€ä¸ªäºŒçº§åŸŸååˆ°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¸Šå•Šã€‚æŒ‰ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œè®¾ç½®ä¸€ä¸ªäºŒçº§åŸŸåè§£æåˆ°å†…åœ°æœåŠ¡å™¨å°±è¡Œäº†å‘¢ï¼Œç„¶åç‚¹å‡»å¤æŸ¥è¿æ¥åè¿˜æ˜¯æ£€æŸ¥æœ‰é—®é¢˜ã€‚</p>\n<h2 id=\"è§£å†³\"><a href=\"#è§£å†³\" class=\"headerlink\" title=\"è§£å†³\"></a>è§£å†³</h2><p>é€šè¿‡åŸç”±çš„åˆ†æï¼Œæˆ‘è¿™æ¬¡å°†é—®é¢˜æ”¾åœ¨äº† cloudflare ä¸Šé¢ï¼Œçœ‹äº†ä¸€ä¸‹ DNS è®¾ç½®ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081207.png\" alt=\"dns setting\"><br>çœ‹åˆ°ä¸Šé¢çš„ä»£ç†çŠ¶æ€äº†å—ï¼Œæˆ‘å°±å¼€å§‹æ€€ç–‘æ˜¯è¿™ä¸ªçš„é—®é¢˜ï¼Œok,æŸ¥æŸ¥ä»€ä¹ˆæ„æ€ã€‚çœ‹åˆ°äº†ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081210.png\" alt=\"Q&amp;A proxy\"><br>æŒ‰ç…§ä¸Šé¢çš„è¯´æ³•ï¼Œæ˜¾ç„¶ proxy å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œè®¿é—®åŸŸåæ—¶ï¼Œå¦‚æœè®¾ç½®äº†ä»£ç†ï¼Œé‚£ä¹ˆå°±ä¼šèµ°ä»£ç†ï¼Œè€Œä¸æ˜¯ç›´æ¥èµ°è§£æåœ°å€ã€‚<br>é‚£æˆ‘ä»¬æ¥ ping ä¸€ä¸‹çœ‹çœ‹ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081213.png\" alt=\"ping res\"><br>ä¸Šé¢çš„ä¸¤ä¸ªåŸŸåå…¶å®æ˜¯åŒä¸€ä¸ª ip,ä½†æ˜¯ ping å‡ºæ¥å“åº”çš„ä¸ä¸€æ ·ï¼Œå› æ­¤ï¼Œç¡®å®æ˜¯æœ‰ä»£ç†çš„å­˜åœ¨ã€‚<br>æˆ‘è‡ªå·±çš„æœåŠ¡å™¨ ip æ˜¯ 47 å¼€å§‹çš„ï¼Œä¸Šé¢çš„ ping ç»“æœä¸€ä¸ªæ˜¯ cloudflare ä»£ç†çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæ˜¯ gh-page çš„æœåŠ¡å™¨ã€‚<br>é‚£ä¹ˆå…³é—­ä»£ç†å°±å¯ä»¥äº†å—ï¼Ÿ<br>æ˜¯çš„ï¼Œå¯ä»¥äº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081229.jpg\" alt=\"pre|left|350*0\"><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081231.png\" alt=\"|right|250*0\"><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081217.png\" alt=\"result\"></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":566,"excerpt":"<p>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå°±åœ¨ä»Šå¤©æ—©ä¸Šï¼Œæ”¶åˆ°äº†ä¸€å°æ¥è‡ªé˜¿é‡Œäº‘çš„ã€å–èŒ¶ï¼ˆæ ¸æŸ¥ï¼‰é€šçŸ¥ã€‘ã€‚ä¸€çœ‹é‚®ä»¶ï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯åŸŸåæ²¡æœ‰è§£æåˆ°å†…åœ°èŠ‚ç‚¹çš„æœåŠ¡å™¨ä¸Šé¢å‘¢ã€‚å›æƒ³ä¸€ä¸‹è‡ªå·±çš„è§£æï¼Œå®ƒè¯´çš„å¯¹ï¼ã€‚ã€‚ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081154.png\" alt=\"why\"></p>","more":"<h2 id=\"åŸç”±\"><a href=\"#åŸç”±\" class=\"headerlink\" title=\"åŸç”±\"></a>åŸç”±</h2><p>åœ¨è€æ—©ä»¥å‰äº†ï¼Œæˆ‘ç”¨ hexo éƒ¨ç½² blog åœ¨ GitHub Page ä¸Šé¢ï¼Œç„¶åè§£æäº†è‡ªå·±çš„åŸŸååœ¨ gh-page ä¸Šï¼Œæ˜¾ç„¶ï¼ŒGitHub Page çš„æœåŠ¡å™¨ä¸åœ¨å†…åœ°ã€‚æˆ‘ä¸ºäº†è®¿é—®é€Ÿåº¦èƒ½å¿«é‚£ä¹ˆä¸€ä¸ç‚¹ï¼Œå°±ç»§ç»­ä½¿ç”¨äº† cloudflare çš„ cdn åŠ é€Ÿï¼Œå› æ­¤ä¹Ÿåœ¨ä¸Šé¢è®¾ç½®äº† DNSï¼Œä½†æ˜¯æˆ‘åœ¨ DNS ä¸Šä¹Ÿè§£æäº†ä¸€ä¸ªäºŒçº§åŸŸååˆ°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¸Šå•Šã€‚æŒ‰ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œè®¾ç½®ä¸€ä¸ªäºŒçº§åŸŸåè§£æåˆ°å†…åœ°æœåŠ¡å™¨å°±è¡Œäº†å‘¢ï¼Œç„¶åç‚¹å‡»å¤æŸ¥è¿æ¥åè¿˜æ˜¯æ£€æŸ¥æœ‰é—®é¢˜ã€‚</p>\n<h2 id=\"è§£å†³\"><a href=\"#è§£å†³\" class=\"headerlink\" title=\"è§£å†³\"></a>è§£å†³</h2><p>é€šè¿‡åŸç”±çš„åˆ†æï¼Œæˆ‘è¿™æ¬¡å°†é—®é¢˜æ”¾åœ¨äº† cloudflare ä¸Šé¢ï¼Œçœ‹äº†ä¸€ä¸‹ DNS è®¾ç½®ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081207.png\" alt=\"dns setting\"><br>çœ‹åˆ°ä¸Šé¢çš„ä»£ç†çŠ¶æ€äº†å—ï¼Œæˆ‘å°±å¼€å§‹æ€€ç–‘æ˜¯è¿™ä¸ªçš„é—®é¢˜ï¼Œok,æŸ¥æŸ¥ä»€ä¹ˆæ„æ€ã€‚çœ‹åˆ°äº†ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081210.png\" alt=\"Q&amp;A proxy\"><br>æŒ‰ç…§ä¸Šé¢çš„è¯´æ³•ï¼Œæ˜¾ç„¶ proxy å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œè®¿é—®åŸŸåæ—¶ï¼Œå¦‚æœè®¾ç½®äº†ä»£ç†ï¼Œé‚£ä¹ˆå°±ä¼šèµ°ä»£ç†ï¼Œè€Œä¸æ˜¯ç›´æ¥èµ°è§£æåœ°å€ã€‚<br>é‚£æˆ‘ä»¬æ¥ ping ä¸€ä¸‹çœ‹çœ‹ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081213.png\" alt=\"ping res\"><br>ä¸Šé¢çš„ä¸¤ä¸ªåŸŸåå…¶å®æ˜¯åŒä¸€ä¸ª ip,ä½†æ˜¯ ping å‡ºæ¥å“åº”çš„ä¸ä¸€æ ·ï¼Œå› æ­¤ï¼Œç¡®å®æ˜¯æœ‰ä»£ç†çš„å­˜åœ¨ã€‚<br>æˆ‘è‡ªå·±çš„æœåŠ¡å™¨ ip æ˜¯ 47 å¼€å§‹çš„ï¼Œä¸Šé¢çš„ ping ç»“æœä¸€ä¸ªæ˜¯ cloudflare ä»£ç†çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæ˜¯ gh-page çš„æœåŠ¡å™¨ã€‚<br>é‚£ä¹ˆå…³é—­ä»£ç†å°±å¯ä»¥äº†å—ï¼Ÿ<br>æ˜¯çš„ï¼Œå¯ä»¥äº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081229.jpg\" alt=\"pre|left|350*0\"><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081231.png\" alt=\"|right|250*0\"><br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202202081217.png\" alt=\"result\"></p>"},{"title":"ã€è¯‘ã€‘ä¼˜åŒ–é•¿ä»»åŠ¡ Optimize long tasks","date":"2022-10-11T14:42:10.000Z","_content":"\nåŸæ–‡ï¼š[https://web.dev/optimize-long-tasks/](https://web.dev/optimize-long-tasks/)\n\n> ä½ æ›¾è¢«å‘Šè¯‰è¿‡ï¼Œä¸è¦é˜»å¡ä¸»çº¿ç¨‹å¹¶ä¸”åˆ†è§£ä½ çš„é•¿ä»»åŠ¡ï¼Œä½†æ˜¯æœ‰æƒ³è¿‡è¿™æ ·åšçš„æ„ä¹‰å—ï¼Ÿ\n\nå¦‚æœä½ è¯»äº†å¾ˆå¤šå…³äºç½‘ç«™æ€§èƒ½çš„èµ„æ–™, ä¿æŒ JavasScript åº”ç”¨ç¨‹åºå¿«é€Ÿè¿è¡Œçš„å»ºè®®å¾€å¾€æ¶‰åŠä»¥ä¸‹çš„å»ºè®®ï¼š\n\n- ä¸è¦é˜»å¡ä¸»çº¿ç¨‹\n- åˆ†è§£ä½ çš„é•¿ä»»åŠ¡\n\né‚£è¿™äº›æ„å‘³ç€ä»€ä¹ˆï¼Ÿå‡å°‘ JavaScript æ˜¯å¥½çš„ï¼Œä½†è¿™æ˜¯å¦è‡ªåŠ¨ç­‰åŒåœ¨æ•´ä¸ªé¡µé¢ç”Ÿå‘½å‘¨æœŸä¸­æ›´å¿«é€Ÿçš„ç”¨æˆ·ç•Œé¢ï¼Ÿä¹Ÿè®¸æ˜¯ï¼Œä¹Ÿè®¸ä¸æ˜¯.\n\n<!-- more -->\n\n## ä¸€ä¸ª task æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\n\nä¸€ä¸ª task æ˜¯æµè§ˆå™¨æ‰€åšçš„ä»»ä½•ç¦»æ•£çš„å·¥ä½œï¼Œtask åŒ…æ‹¬è§£æ HTML å’Œ CSS, è¿è¡Œ JavaScript ä»£ç , ä»¥åŠä¸€äº›ä½ ä¸èƒ½ç›´æ¥æ§åˆ¶çš„äº‹æƒ…ã€‚å¯¹äºæ‰€æœ‰çš„è¿™äº›ï¼Œä½ æ‰€ç¼–å†™çš„å¹¶ä¸”éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ JavaScript æ˜¯ä¸»è¦çš„ä»»åŠ¡æ¥æºã€‚\n\n![img_1](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.23.12.png)\n\nTasks ä»¥å¤šç§æ–¹å¼å½±å“æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå½“æµè§ˆå™¨åœ¨å¯åŠ¨æ—¶ä¸‹è½½ js æ–‡ä»¶æ—¶ï¼Œæµè§ˆå™¨å°†ä»»åŠ¡è¿›è¡Œæ’é˜Ÿå¹¶ä¸”ç¼–è¯‘ js ä»¥è®©å…¶èƒ½è¢«æ‰§è¡Œã€‚ç„¶ååœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œï¼ˆä¾‹å¦‚é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºé©±åŠ¨äº¤äº’ã€JavaScript é©±åŠ¨çš„åŠ¨ç”»å’Œåå°æ´»åŠ¨ï¼ˆä¾‹å¦‚åˆ†ææ”¶é›†ï¼‰ï¼‰å¯åŠ¨ä»»åŠ¡ã€‚æ‰€æœ‰çš„è¿™äº›ä¸œè¥¿ï¼Œé™¤äº† web worker å’Œç±»ä¼¼çš„ API éƒ½å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸Šã€‚\n\n## ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ ï¼Ÿ\n\nä¸»çº¿ç¨‹æ˜¯å¤§å¤šæ•°ä»»åŠ¡åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„åœ°æ–¹ã€‚å®ƒè¢«ç§°ä¸ºä¸»çº¿ç¨‹çš„åŸå› æ˜¯ï¼šå®ƒæ˜¯æ‚¨ç¼–å†™çš„å‡ ä¹æ‰€æœ‰ JavaScript éƒ½åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­å·¥ä½œã€‚\n\nä¸»çº¿ç¨‹ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ã€‚å½“ä»»åŠ¡è¶…å‡ºæŸä¸ªç¡®å®šçš„ç‚¹ï¼ˆå‡†ç¡®æ¥è¯´æ˜¯ 50ms ï¼‰æ—¶,å®ƒä»¬è¢«å½’ç±»ä¸ºé•¿ä»»åŠ¡ã€‚å¦‚æœç”¨æˆ·åœ¨é•¿æ—¶é—´çš„ä»»åŠ¡è¿è¡Œæ—¶å°è¯•ä¸é¡µé¢äº¤äº’ â€” æˆ–è€…å¦‚æœéœ€è¦è¿›è¡Œé‡è¦çš„æ¸²æŸ“æ›´æ–° â€” æµè§ˆå™¨å°†å»¶è¿Ÿå¤„ç†è¯¥å·¥ä½œã€‚è¿™ä¼šå¯¼è‡´äº¤äº’æˆ–æ¸²æŸ“å»¶è¿Ÿã€‚\n\n![img_2](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.42.24.png)\n\n<em style=\"font-size:12px\">Chromeæµè§ˆå™¨çš„æ€§èƒ½åˆ†æå™¨ä¸­æè¿°çš„é•¿ä»»åŠ¡ã€‚é•¿ä»»åŠ¡çš„è§’è½é‡Œæœ‰ä¸€ä¸ªçº¢è‰²çš„ä¸‰è§’å½¢ï¼Œä»»åŠ¡çš„é˜»å¡éƒ¨åˆ†ç”¨å¯¹è§’çº¿çš„çº¢è‰²æ¡çº¹å¡«å……</em>\n\nä½ éœ€è¦åˆ†è§£ä»»åŠ¡ã€‚è¿™æ„å‘³ç€å°†ä¸€ä¸ªé•¿ä»»åŠ¡åˆ’åˆ†ä¸ºè¾ƒå°çš„ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å•ç‹¬è¿è¡Œæ‰€éœ€çš„æ—¶é—´æ›´å°‘ã€‚\n\n![img_3](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8Bhl9Ilki4tM0aC1nfn8.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">å•ä¸ªé•¿ä»»åŠ¡ä¸åŒä¸€ä»»åŠ¡åˆ†è§£ä¸ºäº”ä¸ªè¾ƒçŸ­ä»»åŠ¡çš„å¯è§†åŒ–</em>\n\nè¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œæµè§ˆå™¨æœ‰æ›´å¤šæœºä¼šå“åº”æ›´é«˜ä¼˜å…ˆçº§çš„å·¥ä½œâ€”â€”åŒ…æ‹¬ç”¨æˆ·äº¤äº’ã€‚\n\n![img_3](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0yV0ynwW7FujIwvCbCxQ.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">å½“ä»»åŠ¡å¤ªé•¿ï¼Œæµè§ˆå™¨ä¸èƒ½å¯¹äº’åŠ¨åšå‡ºè¶³å¤Ÿå¿«çš„ååº”æ—¶ï¼Œä¸å°†è¾ƒé•¿çš„ä»»åŠ¡åˆ†è§£æˆè¾ƒå°çš„ä»»åŠ¡æ—¶ç›¸æ¯”ï¼Œäº’åŠ¨ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„æƒ…å†µï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„ç»“æœ</em>\n\nå¦‚ä¸Šå›¾çš„ä¸ŠåŠéƒ¨åˆ†æ‰€è¿°ï¼Œç”±ç”¨æˆ·äº¤äº’æ’é˜Ÿçš„äº‹ä»¶å¤„ç†ç¨‹åºå¿…é¡»ç­‰å¾…ä¸€ä¸ªé•¿ä»»åŠ¡æ‰èƒ½è¿è¡Œã€‚è¿™å»¶è¿Ÿäº†äº¤äº’çš„å‘ç”Ÿã€‚åœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šæ›´å¿«åœ°è¿è¡Œã€‚å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šåœ¨è¾ƒå°çš„ä»»åŠ¡ä¹‹é—´è¿è¡Œã€‚å®ƒè¿è¡Œå¾—æ¯”å®ƒå¿…é¡»ç­‰å¾…ä¸€ä¸ªå¾ˆé•¿çš„ä»»åŠ¡å®Œæˆè¦å¿«ã€‚åœ¨ä¸ŠåŠéƒ¨åˆ†ä¸­ï¼Œç”¨æˆ·å¯èƒ½å·²ç»æ„Ÿå—åˆ°äº†å»¶è¿Ÿï¼Œåœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº¤äº’å¯èƒ½æ˜¯å³æ—¶çš„ã€‚\n\nç„¶è€Œï¼Œé—®é¢˜åœ¨äº â€œåˆ†è§£ä½ çš„é•¿ä»»åŠ¡â€ å’Œ â€œä¸è¦é˜»å¡ä¸»çº¿ç¨‹â€çš„å»ºè®®ä¸å¤Ÿå…·ä½“,é™¤éä½ å·²ç»çŸ¥é“å¦‚ä½•åšè¿™äº›äº‹æƒ…ï¼Œè¿™å°±æ˜¯æœ¬æŒ‡å—å°†è¦è§£é‡Šçš„å†…å®¹ã€‚\n\n## ä»»åŠ¡ç®¡ç†ç­–ç•¥\n\nåœ¨è½¯ä»¶æ¶æ„ä¸­ï¼Œä¸€ä¸ªå¸¸è§å»ºè®®æ˜¯å°†æ‚¨çš„å·¥ä½œåˆ†è§£æ›´å°çš„åŠŸèƒ½ã€‚è¿™ä¸ºæ‚¨æä¾›äº†æ›´å¥½çš„ä»£ç å¯è¯»æ€§å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§çš„å¥½å¤„ã€‚è¿™ä½¿å¾—æµ‹è¯•æ›´å®¹æ˜“ç¼–å†™ã€‚\n\n```ts\nfunction saveSettings() {\n  validateForm();\n  showSpinner();\n  saveToDatabase();\n  updateUI();\n  sendAnalytics();\n}\n```\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™é‡Œçš„ saveSettings å‡½æ•°ï¼Œåœ¨å®ƒè°ƒç”¨æ—¶ï¼Œå®ƒè°ƒç”¨äº†å…¶ä»–äº”ä¸ªå‡½æ•°ã€‚ä»æ¦‚å¿µä¸Šè®²ï¼Œè¿™æ˜¯å¾ˆå¥½çš„æ¶æ„ï¼Œå¦‚æœä½ éœ€è¦è°ƒè¯•è¿™äº›å‡½æ•°ä¸­çš„ä¸€ä¸ªï¼Œä½ å¯ä»¥ä¾¿åˆ©é¡¹ç›®æ ‘ä»¥å¼„æ¸…æ¯ä¸ªå‡½æ•°çš„ä½œç”¨ã€‚\n\nç„¶è€Œï¼Œé—®é¢˜åœ¨äº JavaScript ä¸ä¼šå°†è¿™äº›å‡½æ•°ä¸­çš„æ¯ä¸€ä¸ªä½œä¸ºå•ç‹¬çš„ä»»åŠ¡è¿è¡Œï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ savaSettings å‡½æ•°ä¸­æ‰§è¡Œçš„ã€‚__è¿™æ„å‘³ç€æ‰€æœ‰äº”ä¸ªåŠŸèƒ½éƒ½ä½œä¸ºå•ç‹¬ä»»åŠ¡è¿è¡Œã€‚__\n\n> JavaScript ä»¥è¿™ç§æ–¹å¼å·¥ä½œæ˜¯å› ä¸ºå®ƒä½¿ç”¨ä»»åŠ¡æ‰§è¡Œçš„è¿è¡Œåˆ°å®Œæˆæ¨¡å‹ã€‚è¿™æ„å‘³ç€æ¯ä¸ªä»»åŠ¡å°†ä¸€ç›´è¿è¡Œåˆ°å®Œæˆï¼Œæ— è®ºå®ƒé˜»å¡ä¸»çº¿ç¨‹å¤šé•¿æ—¶é—´ã€‚\n\n![img_4](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0c61l5DCix9y0GBa3pFj.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">è°ƒç”¨äº”ä¸ªå‡½æ•°çš„å•ä¸ªå‡½æ•° saveSettings()ã€‚è¿™é¡¹å·¥ä½œæ˜¯ä½œä¸ºä¸€é¡¹é•¿æœŸçš„æ•´ä½“ä»»åŠ¡çš„ä¸€éƒ¨åˆ†è¿è¡Œçš„</em>\n\nåœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œå³ä½¿åªæ˜¯è¿™äº›åŠŸèƒ½ä¸­çš„ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥ä¸ºä»»åŠ¡çš„æ€»é•¿åº¦è´¡çŒ®50æ¯«ç§’æˆ–æ›´å¤šã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ›´å¤šçš„è¿™äº›ä»»åŠ¡å¯ä»¥è¿è¡Œç›¸å½“é•¿çš„æ—¶é—´â€“ç‰¹åˆ«æ˜¯åœ¨èµ„æºæœ‰é™çš„è®¾å¤‡ä¸Šã€‚ä¸‹é¢æ˜¯ä¸€å¥—ç­–ç•¥ï¼Œä½ å¯ä»¥ç”¨æ¥åˆ†è§£å’Œä¼˜å…ˆå¤„ç†ä»»åŠ¡ã€‚\n\n## æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\n\nå¼€å‘äººå‘˜ä½¿ç”¨çš„ä¸€ç§å°†ä»»åŠ¡åˆ†è§£æˆå°ä»»åŠ¡çš„æ–¹æ³•æ¶‰åŠåˆ° setTimeout(). ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œä½ æŠŠå‡½æ•°ä¼ ç»™ setTimeout è¿™å°†å›è°ƒçš„æ‰§è¡Œæ¨è¿Ÿåˆ°ä¸€ä¸ªå•ç‹¬çš„ä»»åŠ¡ä¸­ï¼Œå³æ—¶ä½ æŒ‡å®šçš„æ—¶é—´ä¸º 0ã€‚\n\n```ts\nfunction saveSettings () {\n  // å®Œæˆç”¨æˆ·å¯è§çš„å…³é”®å·¥ä½œ:\n  validateForm();\n  showSpinner();\n  updateUI();\n\n  // å°†ç”¨æˆ·ä¸å¯è§çš„å·¥ä½œæ¨è¿Ÿåˆ°å•ç‹¬çš„ä»»åŠ¡:\n  setTimeout(() => {\n    saveToDatabase();\n    sendAnalytics();\n  }, 0);\n}\n```\n\nå¦‚æœæ‚¨æœ‰ä¸€ç³»åˆ—éœ€è¦æŒ‰é¡ºåºè¿è¡Œçš„å‡½æ•°ï¼Œè¿™å¾ˆæœ‰æ•ˆï¼Œä½†æ‚¨çš„ä»£ç å¯èƒ½å¹¶ä¸æ€»æ˜¯ä»¥è¿™ç§æ–¹å¼ç»„ç»‡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœ‰å¤§é‡æ•°æ®éœ€è¦å¾ªç¯å¤„ç†ï¼Œå¦‚æœæ‚¨æœ‰æ•°ç™¾ä¸‡ä¸ªé¡¹ç›®ï¼Œè¯¥ä»»åŠ¡å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚\n\n```ts\nfunction processData () {\n  for (const item of largeDataArray) {\n    // Process the individual item here.\n  }\n}\n```\n\nä½¿ç”¨ setTimeout æ˜¯å­˜åœ¨é—®é¢˜çš„, å› ä¸ºå®ƒçš„äººæœºå·¥ç¨‹å­¦ï¼ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ğŸ¤”ï¼ŒåŸæ–‡ï¼šergonomicsï¼‰ä½¿å…¶éš¾ä»¥å®ç°ï¼Œå¹¶ä¸”æ•´ä¸ªæ•°æ®æ•°ç»„å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´å¤„ç†ï¼Œå³ä½¿æ¯ä¸ªé¡¹ç›®éƒ½å¯ä»¥éå¸¸å¿«é€Ÿåœ°å¤„ç†ã€‚è¿™ä¸€åˆ‡åŠ èµ·æ¥ï¼ŒsetTimeout ä¸æ˜¯åˆé€‚çš„å·¥å…·ï¼Œè‡³å°‘åœ¨è¿™æ ·ä½¿ç”¨æ—¶ä¸æ˜¯ã€‚\n\né™¤äº† setTimeout ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»– API å…è®¸æ‚¨å°†ä»£ç æ‰§è¡Œæ¨è¿Ÿåˆ°åç»­ä»»åŠ¡ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ postMessage æ¥åŠ å¿«è¶…æ—¶ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ requestIdleCallback() æ¥åˆ†è§£å·¥ä½œã€‚ ä½†æ˜¯è¦æ³¨æ„ â€“ requestIdleCallback() ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§å®‰æ’ä»»åŠ¡ï¼Œè€Œä¸”åªåœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´å†…è¿›è¡Œã€‚å½“ä¸»çº¿ç¨‹æ‹¥æŒ¤æ—¶,ç”¨ requestIdleCallback() å®‰æ’çš„ä»»åŠ¡å¯èƒ½æ°¸è¿œæ— æ³•è¿è¡Œã€‚\n\n## ä½¿ç”¨ async/await yield points\n\nåœ¨æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªçŸ­è¯­æ˜¯ â€œyield to the main threadâ€ï¼Œä½†æ˜¯ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä½ è¦è¿™ä¹ˆåšï¼Ÿä½ ä»€ä¹ˆæ—¶å€™è¯¥è¿™æ ·åšï¼Ÿ\n\n> å½“ä½  yield to the main threadï¼Œä½ ä¼šç»™å®ƒä¸€ä¸ªæœºä¼šæ¥å¤„ç†æ¯”å½“å‰æ’é˜Ÿçš„ä»»åŠ¡æ›´é‡è¦çš„ä»»åŠ¡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼ˆideallyï¼‰ï¼Œå½“ä½ æœ‰ä¸€äº›å…³é”®çš„é¢å‘ç”¨æˆ·çš„å·¥ä½œï¼Œéœ€è¦æ¯” yield æ›´æ—©åœ°æ‰§è¡Œæ—¶ï¼Œä½ åº”è¯¥ yield main threadï¼Œyield main thread å¯ä»¥ä¸ºå…³é”®å·¥ä½œåˆ›é€ æœºä¼šï¼Œä½¿å…¶æ›´å¿«åœ°è¿è¡Œã€‚\n\nå½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥é€šè¿‡æµè§ˆå™¨å†…éƒ¨ä¼˜å…ˆçº§æ–¹æ¡ˆæ›´å¥½åœ°è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚yield main thread çš„æ–¹æ³•æ¶‰åŠåˆ°ä½¿ç”¨ä¸€ä¸ª Promise çš„ç»„åˆï¼Œè¯¥ç»„åˆä¸å¯¹ setTimeout() è¿›è¡Œçš„è°ƒç”¨è¿›è¡Œè§£æã€‚\n\n```ts\nfunction yieldToMain () {\n  return new Promise(resolve => {\n    setTimeout(resolve, 0);\n  });\n}\n```\n> è™½ç„¶è¿™ä¸ªä»£ç å®ä¾‹è¿”å›äº†ä¸€ä¸ªåœ¨è°ƒç”¨ setTimeout åè§£æçš„ Promise, ä½†è´Ÿè´£åœ¨æ–°ä»»åŠ¡ä¸­è¿è¡Œå¥‡é‡ä»£ç çš„å¹¶ä¸æ˜¯è¿™ä¸ª Promiseï¼Œè€Œæ˜¯ setTimeout è°ƒç”¨ã€‚Promise å›è°ƒä½œä¸ºå¾®ä»»åŠ¡è€Œä¸æ˜¯ä»»åŠ¡è¿è¡Œï¼Œå› æ­¤ä¸ä¼š yield main thread\n\nåœ¨ saveSettings() å‡½æ•°ä¸­ï¼Œå¦‚æœåœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨å await yieldToMain() å‡½æ•°ï¼Œåˆ™å¯ä»¥åœ¨æ¯æ¬¡å·¥ä½œå yield to the main\n\n```ts\nasync function saveSettings () {\n  // Create an array of functions to run:\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ]\n\n  // Loop over the tasks:\n  while (tasks.length > 0) {\n    // Shift the first task off the tasks array:\n    const task = tasks.shift();\n\n    // Run the task:\n    task();\n\n    // Yield to the main thread:\n    await yieldToMain();\n  }\n}\n```\n> ä½ ä¸å¿…åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨åéƒ½ yieldã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è¿è¡Œçš„ä¸¤ä¸ªå‡½æ•°ä¼šå¯¼è‡´ç”¨æˆ·ç•Œé¢çš„å…³é”®æ€§æ›´æ–°ï¼Œä½ å¯èƒ½ä¸æƒ³åœ¨å®ƒä»¬ä¹‹é—´ yieldã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œè®©è¿™äº› tast å…ˆè¿è¡Œï¼Œç„¶åè€ƒè™‘åœ¨é‚£äº›ä¸é‚£ä¹ˆå…³é”®çš„æˆ–ç”¨æˆ·çœ‹ä¸åˆ°çš„åå°å·¥ä½œçš„å‡½æ•°ä¹‹é—´è¿›è¡Œ yieldã€‚\n\nç»“æœæ˜¯æ›¾ç»å•ä¸€çš„ä»»åŠ¡ç°åœ¨è¢«åˆ†è§£ä¸ºå•ç‹¬çš„ä»»åŠ¡\n\n![img_5](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/wg0FW6S29CzOCbbwk9kK.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">saveSettings() å‡½æ•°ç°åœ¨å°†å…¶å­å‡½æ•°ä½œä¸ºå•ç‹¬çš„ä»»åŠ¡æ‰§è¡Œã€‚</em>\n\nä½¿ç”¨åŸºäº Promise çš„æ–¹æ³•æ¥äº§ç”Ÿè€Œä¸æ˜¯æ‰‹åŠ¨ä½¿ç”¨ setTimeout() çš„å¥½å¤„æ˜¯æ›´å¥½çš„äººä½“å·¥ç¨‹å­¦ã€‚å±ˆæœç‚¹æˆä¸ºå£°æ˜æ€§çš„ï¼Œå› æ­¤æ›´å®¹æ˜“ç¼–å†™ã€é˜…è¯»å’Œç†è§£ã€‚\n\n## ä»…åœ¨å¿…è¦æ—¶ yield\n\nå¦‚æœæ‚¨æœ‰ä¸€å †ä»»åŠ¡ï¼Œä½†æ‚¨åªæƒ³åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è®©æ­¥æ€ä¹ˆåŠï¼Ÿè¿™å°±æ˜¯ isInputPending() çš„ç”¨é€”ã€‚\n\nisInputPending() æ˜¯ä¸€ä¸ªæ‚¨å¯ä»¥éšæ—¶è¿è¡Œä»¥ç¡®å®šç”¨æˆ·æ˜¯å¦æ­£åœ¨å°è¯•ä¸é¡µé¢å…ƒç´ äº¤äº’çš„å‡½æ•°ï¼šå¯¹ isInputPending() çš„è°ƒç”¨å°†è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚\n\nå‡è®¾æ‚¨å¯æœ‰ä¸€ä¸ªéœ€è¦è¿è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†æ‚¨ä¸æƒ³å¦¨ç¢ä»»ä½•è¾“å…¥ã€‚è¿™æ®µä»£ç  â€” å®ƒåŒæ—¶ä½¿ç”¨äº† isInputPending() å‡½æ•° â€” ç¡®ä¿åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è¾“å…¥ä¸ä¼šè¢«å»¶è¿Ÿã€‚\n\n```ts\nasync function saveSettings () {\n  // A task queue of functions\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ];\n  \n  while (tasks.length > 0) {\n    // Yield to a pending user input:\n    if (navigator.scheduling.isInputPending()) {\n      // There's a pending user input. Yield here:\n      await yieldToMain();\n    } else {\n      // Shift the the task out of the queue:\n      const task = tasks.shift();\n\n      // Run the task:\n      task();\n    }\n  }\n}\n```\nå½“ saveSettings() è¿è¡Œæ—¶ï¼Œå®ƒå°†éå†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚å¦‚æœ isInputPending() åœ¨å¾ªç¯æœŸé—´è¿”å› trueï¼Œåˆ™ saveSettings() å°†è°ƒç”¨ yieldToMain() ä»¥ä¾¿å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚å¦åˆ™ï¼Œå®ƒå°†æŠŠä¸‹ä¸€ä¸ªä»»åŠ¡ç§»å‡ºé˜Ÿåˆ—çš„å‰é¢å¹¶ç»§ç»­è¿è¡Œå®ƒã€‚å®ƒå°†æ‰§è¡Œæ­¤æ“ä½œï¼Œç›´åˆ°æ²¡æœ‰å…¶ä»–ä»»åŠ¡ä¸ºæ­¢ã€‚\n\n![img_5](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/snMl3kRlWyJjdbL0qsqM.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">saveSettings()è¿è¡Œä¸€ä¸ªæœ‰äº”ä¸ªä»»åŠ¡çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†åœ¨ç¬¬äºŒä¸ªå·¥ä½œé¡¹è¿è¡Œæ—¶ï¼Œç”¨æˆ·å·²ç»ç‚¹å‡»æ‰“å¼€äº†ä¸€ä¸ªèœå•ã€‚ isInputPending()è®©ä½äºä¸»çº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªäº¤äº’ï¼Œå¹¶æ¢å¤è¿è¡Œå…¶ä½™çš„ä»»åŠ¡ã€‚</em>\n\n> isInputPending()ä¸ä¸€å®šåœ¨ç”¨æˆ·è¾“å…¥åç«‹å³è¿”å›trueã€‚è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦æ—¶é—´æ¥å‘Šè¯‰æµè§ˆå™¨å‘ç”Ÿäº†äº¤äº’ã€‚è¿™æ„å‘³ç€å…¶ä»–ä»£ç å¯èƒ½å·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼ˆæ­£å¦‚ä½ åœ¨ä¸Šé¢çš„æˆªå›¾ä¸­çœ‹åˆ°çš„saveToDatabase()å‡½æ•°ï¼‰ã€‚å³ä½¿ä½ ä½¿ç”¨isInputPending()ï¼Œä½ ä»ç„¶è¦é™åˆ¶æ¯ä¸ªå‡½æ•°çš„å·¥ä½œé‡ï¼Œè¿™æ˜¯è‡³å…³é‡è¦çš„ã€‚\n\nå°† isInputPending() ä¸è®©æ­¥æœºåˆ¶ç»“åˆä½¿ç”¨æ˜¯è®©æµè§ˆå™¨åœæ­¢å…¶æ­£åœ¨å¤„ç†çš„ä»»ä½•ä»»åŠ¡ä»¥å“åº”å…³é”®çš„é¢å‘ç”¨æˆ·çš„äº¤äº’çš„å¥½æ–¹æ³•ã€‚è¿™å¯ä»¥å¸®åŠ©æé«˜æ‚¨çš„é¡µé¢åœ¨è®¸å¤šä»»åŠ¡æ­£åœ¨è¿›è¡Œæ—¶åœ¨è®¸å¤šæƒ…å†µä¸‹å“åº”ç”¨æˆ·çš„èƒ½åŠ›ã€‚\n\nå¦ä¸€ç§ä½¿ç”¨isInputPending()çš„æ–¹æ³•â€“ç‰¹åˆ«æ˜¯å¦‚æœä½ æ‹…å¿ƒä¸ºä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨æä¾›é€€è·¯â€“æ˜¯ä½¿ç”¨åŸºäºæ—¶é—´çš„æ–¹æ³•ä¸ å¯é€‰é“¾æ“ä½œç¬¦ ï¼ˆ?.ï¼‰\n\n```ts\nasync function saveSettings () {\n  // A task queue of functions\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ];\n  \n  let deadline = performance.now() + 50;\n\n  while (tasks.length > 0) {\n    // Optional chaining operator used here helps to avoid\n    // errors in browsers that don't support `isInputPending`:\n    if (navigator.scheduling?.isInputPending() || performance.now() >= deadline) {\n      // There's a pending user input, or the\n      // deadline has been reached. Yield here:\n      await yieldToMain();\n\n      // Extend the deadline:\n      deadline += 50;\n\n      // Stop the execution of the current loop and\n      // move onto the next iteration:\n      continue;\n    }\n\n    // Shift the the task out of the queue:\n    const task = tasks.shift();\n\n    // Run the task:\n    task();\n  }\n}\n```\n\né€šè¿‡è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸ºä¸æ”¯æŒisInputPending()çš„æµè§ˆå™¨æä¾›ä¸€ä¸ªåå¤‡æ–¹æ¡ˆï¼Œå³ä½¿ç”¨ï¼ˆå¹¶è°ƒæ•´ï¼‰ä¸€ä¸ªæˆªæ­¢æ—¥æœŸï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶å°†å·¥ä½œåˆ†å¼€ï¼Œæ— è®ºæ˜¯é€šè¿‡å±ˆæœäºç”¨æˆ·è¾“å…¥ï¼Œè¿˜æ˜¯åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¹‹å‰ã€‚\n\n## å½“å‰ api çš„å·®å¼‚\n\nåˆ°ç›®å‰ä¸ºæ­¢æåˆ°çš„APIå¯ä»¥å¸®åŠ©ä½ åˆ†è§£ä»»åŠ¡ï¼Œä½†å®ƒä»¬æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹ï¼šå½“ä½ é€šè¿‡æ¨è¿Ÿä»£ç åœ¨åç»­ä»»åŠ¡ä¸­è¿è¡Œè€Œå±ˆæœäºä¸»çº¿ç¨‹æ—¶ï¼Œè¯¥ä»£ç ä¼šè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ€æœ«ç«¯ã€‚\n\nå¦‚æœä½ æ§åˆ¶äº†ä½ é¡µé¢ä¸Šçš„æ‰€æœ‰ä»£ç ï¼Œå°±æœ‰å¯èƒ½åˆ›å»ºä½ è‡ªå·±çš„scheduler ï¼ˆå‚è€ƒ react å—ï¼ŒğŸ˜¯ï¼‰ï¼Œå¹¶èƒ½å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆæ’åºï¼Œä½†ç¬¬ä¸‰æ–¹è„šæœ¬ä¸ä¼šä½¿ç”¨ä½ çš„è°ƒåº¦å™¨ã€‚å®é™…ä¸Šï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œä½ å¹¶ä¸èƒ½çœŸæ­£åœ°å¯¹å·¥ä½œè¿›è¡Œä¼˜å…ˆæ’åºã€‚ä½ åªèƒ½æŠŠå®ƒåˆ†æˆå‡ å—ï¼Œæˆ–è€…æ˜ç¡®åœ°å±ˆä»äºç”¨æˆ·çš„äº’åŠ¨ã€‚\n\nå¹¸è¿çš„æ˜¯ï¼Œç›®å‰æœ‰ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦å™¨APIæ­£åœ¨å¼€å‘ä¸­ï¼Œå¯ä»¥è§£å†³è¿™äº›é—®é¢˜ã€‚\n\n## ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\n\nè°ƒåº¦å™¨APIç›®å‰æä¾›äº†postTask()å‡½æ•°ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¯¥å‡½æ•°åœ¨Chromiumæµè§ˆå™¨å’ŒFirefoxçš„ä¸€ä¸ªæ ‡å¿—åé¢å¯ç”¨ã€‚ postTask()å…è®¸å¯¹ä»»åŠ¡è¿›è¡Œæ›´ç²¾ç»†çš„è°ƒåº¦ï¼Œæ˜¯å¸®åŠ©æµè§ˆå™¨ç¡®å®šå·¥ä½œä¼˜å…ˆçº§çš„ä¸€ç§æ–¹æ³•ï¼Œè¿™æ ·ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å°±ä¼šè®©ä½äºä¸»çº¿ç¨‹ã€‚ postTask()ä½¿ç”¨ Promiseï¼Œå¹¶æ¥å—ä¸€ä¸ªä¼˜å…ˆçº§è®¾ç½®ã€‚\n\npostTask() API å…·æœ‰ä¸‰ä¸ªå¯ä»¥ä½¿ç”¨çš„ priorities\n\n- â€˜backgroundâ€™ : æœ€ä½ä¼˜å…ˆçº§ä»»åŠ¡ã€‚\n- â€˜user-visibleâ€™ : ä¸­ç­‰ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œâ€œç”¨æˆ·å¯è§â€ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ä¼˜å…ˆçº§ï¼Œè¿™æ˜¯é»˜è®¤è®¾ç½®ã€‚\n- â€˜user-blockingâ€™: ç”¨äºéœ€è¦é«˜ä¼˜å…ˆçº§è¿è¡Œçš„å…³é”®ä»»åŠ¡ã€‚\n\nä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼ŒpostTask()APIè¢«ç”¨æ¥ä»¥å°½å¯èƒ½é«˜çš„ä¼˜å…ˆçº§è¿è¡Œä¸‰ä¸ªä»»åŠ¡ï¼Œå¹¶ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§è¿è¡Œå…¶ä½™ä¸¤ä¸ªä»»åŠ¡ã€‚\n\n```ts\nfunction saveSettings () {\n  // Validate the form at high priority\n  scheduler.postTask(validateForm, {priority: 'user-blocking'});\n\n  // Show the spinner at high priority:\n  scheduler.postTask(showSpinner, {priority: 'user-blocking'});\n\n  // Update the database in the background:\n  scheduler.postTask(saveToDatabase, {priority: 'background'});\n\n  // Update the user interface at high priority:\n  scheduler.postTask(updateUI, {priority: 'user-blocking'});\n\n  // Send analytics data in the background:\n  scheduler.postTask(sendAnalytics, {priority: 'background'});\n};\n```\nåœ¨è¿™é‡Œï¼Œä»»åŠ¡çš„ä¼˜å…ˆçº§ä»¥æµè§ˆå™¨ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆä¾‹å¦‚ç”¨æˆ·äº¤äº’ï¼‰å¯ä»¥æ­£å¸¸å·¥ä½œçš„æ–¹å¼å®‰æ’ã€‚\n\n<div style=\"color:red\">å­ä»»åŠ¡æ‰§è¡Œé¡ºåºå·®å¼‚</div>\n\n![img_6](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ttvI1HqusI02CAdqhjWP.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">å½“saveSettings()è¿è¡Œæ—¶ï¼Œè¯¥å‡½æ•°ä½¿ç”¨postTask()å¯¹å„ä¸ªå‡½æ•°è¿›è¡Œè°ƒåº¦ã€‚é¢å‘ç”¨æˆ·çš„å…³é”®å·¥ä½œè¢«å®‰æ’åœ¨é«˜ä¼˜å…ˆçº§ï¼Œè€Œç”¨æˆ·ä¸çŸ¥é“çš„å·¥ä½œè¢«å®‰æ’åœ¨åå°è¿è¡Œã€‚è¿™ä½¿å¾—ç”¨æˆ·äº¤äº’çš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºå·¥ä½œè¢«åˆ†å‰²å¼€æ¥å¹¶è¢«é€‚å½“åœ°å®‰æ’äº†ä¼˜å…ˆæ¬¡åºã€‚</em>\n\nè¿™æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ postTask() çš„ç®€å•ç¤ºä¾‹ã€‚å¯ä»¥å®ä¾‹åŒ–ä¸åŒçš„ TaskController å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åœ¨ä»»åŠ¡ä¹‹é—´å…±äº«ä¼˜å…ˆçº§ï¼ŒåŒ…æ‹¬æ ¹æ®éœ€è¦æ›´æ”¹ä¸åŒ TaskController å®ä¾‹çš„ä¼˜å…ˆçº§çš„èƒ½åŠ›ã€‚\n\n> å¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ postTask()ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å¾æ£€æµ‹æ¥æŸ¥çœ‹å®ƒæ˜¯å¦å¯ç”¨ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ polyfill\n\n## å†…ç½®çš„ yield\n\nè°ƒåº¦å™¨APIçš„ä¸€ä¸ªæ‹Ÿè®®çš„éƒ¨åˆ†ï¼Œç›®å‰æ²¡æœ‰åœ¨ä»»ä½•æµè§ˆå™¨ä¸­å®ç°ï¼Œå°±æ˜¯ä¸€ä¸ªå†…ç½®çš„ yield æœºåˆ¶ã€‚å®ƒçš„ä½¿ç”¨ç±»ä¼¼äºæœ¬æ–‡å‰é¢æ¼”ç¤ºçš„ yieldToMain() å‡½æ•°ã€‚\n\n```ts\nasync function saveSettings () {\n  // Create an array of functions to run:\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ]\n\n  // Loop over the tasks:\n  while (tasks.length > 0) {\n    // Shift the first task off the tasks array:\n    const task = tasks.shift();\n\n    // Run the task:\n    task();\n\n    // Yield to the main thread with the scheduler\n    // API's own yielding mechanism:\n    await scheduler.yield();\n  }\n}\n```\n\næ‚¨ä¼šæ³¨æ„åˆ°ï¼Œä¸Šé¢çš„ä»£ç éå¸¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯æ‚¨æ²¡æœ‰ä½¿ç”¨ yieldToMain()ï¼Œè€Œæ˜¯è°ƒç”¨å¹¶ç­‰å¾… scheduler.yield()ã€‚\n\n![img_7](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/fyuvJqAV0mLxfZDM9tAm.png?auto=format&w=1294)\n\n<em style=\"font-size:12px\">ä¸€ä¸ªæ²¡æœ‰yieldã€yieldã€yield å’Œ continuation çš„ä»»åŠ¡æ‰§è¡Œçš„å¯è§†åŒ–å›¾ã€‚å½“ä½¿ç”¨scheduler.yield()æ—¶ï¼Œä»»åŠ¡çš„æ‰§è¡Œç”šè‡³åœ¨å±ˆæœç‚¹ä¹‹åè¿˜èƒ½ç»§ç»­æ‰§è¡Œã€‚</em>\n\nscheduler.yield() çš„å¥½å¤„æ˜¯continuationï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åœ¨ä¸€ç»„ä»»åŠ¡ä¸­é—´yieldï¼Œå…¶ä»–çš„è®¡åˆ’ä»»åŠ¡ä¼šåœ¨yieldç‚¹ä¹‹åä»¥åŒæ ·çš„é¡ºåºç»§ç»­æ‰§è¡Œã€‚è¿™å¯ä»¥é¿å…ç¬¬ä¸‰æ–¹è„šæœ¬ä¸­çš„ä»£ç ç¯¡å¤ºæ‚¨çš„ä»£ç æ‰§è¡Œé¡ºåºã€‚\n\n## æ€»ç»“\n\nç®¡ç†ä»»åŠ¡æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ï¼Œä½†è¿™æ ·åšæœ‰åŠ©äºä½ çš„é¡µé¢å¯¹ç”¨æˆ·çš„äº’åŠ¨ä½œå‡ºæ›´å¿«é€Ÿçš„ååº”ã€‚åœ¨ç®¡ç†å’Œç¡®å®šä»»åŠ¡çš„ä¼˜å…ˆæ¬¡åºæ–¹é¢ï¼Œæ²¡æœ‰å•ä¸€çš„å»ºè®®ã€‚ç›¸åï¼Œå®ƒæ˜¯ä¸€äº›ä¸åŒçš„æŠ€æœ¯ã€‚é‡ç”³ä¸€ä¸‹ï¼Œè¿™äº›æ˜¯ä½ åœ¨ç®¡ç†ä»»åŠ¡æ—¶è¦è€ƒè™‘çš„ä¸»è¦äº‹é¡¹ã€‚\n\n- è®©ç»™ä¸»çº¿ç¨‹ä»¥å®Œæˆå…³é”®çš„ã€é¢å‘ç”¨æˆ·çš„ä»»åŠ¡ã€‚\n\n- å½“ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶ï¼Œä½¿ç”¨ isInputPending() è®©æ­¥ç»™ä¸»çº¿ç¨‹ã€‚\n\n- ä½¿ç”¨ postTask() å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚\n\n- æœ€åï¼Œåœ¨ä½ çš„å‡½æ•°ä¸­åšå°½å¯èƒ½å°‘çš„å·¥ä½œã€‚\n\næœ‰äº†è¿™äº›å·¥å…·ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ„é€ å·¥ä½œï¼Œä½¿å…¶ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·çš„éœ€æ±‚ï¼ŒåŒæ—¶ç¡®ä¿ä¸å¤ªå…³é”®çš„å·¥ä½œä»ç„¶èƒ½å¤Ÿå®Œæˆã€‚è¿™å°†åˆ›é€ ä¸€ä¸ªæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå®ƒçš„å“åº”é€Ÿåº¦æ›´å¿«ï¼Œä½¿ç”¨èµ·æ¥æ›´æ„‰å¿«ã€‚\n\nSpecial thanks to Philip Walton for his technical vetting of this article.\n\nHero image sourced from Unsplash, courtesy of Amirali Mirhashemian.\n\n\n\n","source":"_posts/ã€è¯‘ã€‘ä¼˜åŒ–é•¿ä»»åŠ¡-Optimize-long-tasks.md","raw":"---\ntitle: ã€è¯‘ã€‘ä¼˜åŒ–é•¿ä»»åŠ¡ Optimize long tasks\ndate: 2022-10-11 22:42:10\ntags:\n---\n\nåŸæ–‡ï¼š[https://web.dev/optimize-long-tasks/](https://web.dev/optimize-long-tasks/)\n\n> ä½ æ›¾è¢«å‘Šè¯‰è¿‡ï¼Œä¸è¦é˜»å¡ä¸»çº¿ç¨‹å¹¶ä¸”åˆ†è§£ä½ çš„é•¿ä»»åŠ¡ï¼Œä½†æ˜¯æœ‰æƒ³è¿‡è¿™æ ·åšçš„æ„ä¹‰å—ï¼Ÿ\n\nå¦‚æœä½ è¯»äº†å¾ˆå¤šå…³äºç½‘ç«™æ€§èƒ½çš„èµ„æ–™, ä¿æŒ JavasScript åº”ç”¨ç¨‹åºå¿«é€Ÿè¿è¡Œçš„å»ºè®®å¾€å¾€æ¶‰åŠä»¥ä¸‹çš„å»ºè®®ï¼š\n\n- ä¸è¦é˜»å¡ä¸»çº¿ç¨‹\n- åˆ†è§£ä½ çš„é•¿ä»»åŠ¡\n\né‚£è¿™äº›æ„å‘³ç€ä»€ä¹ˆï¼Ÿå‡å°‘ JavaScript æ˜¯å¥½çš„ï¼Œä½†è¿™æ˜¯å¦è‡ªåŠ¨ç­‰åŒåœ¨æ•´ä¸ªé¡µé¢ç”Ÿå‘½å‘¨æœŸä¸­æ›´å¿«é€Ÿçš„ç”¨æˆ·ç•Œé¢ï¼Ÿä¹Ÿè®¸æ˜¯ï¼Œä¹Ÿè®¸ä¸æ˜¯.\n\n<!-- more -->\n\n## ä¸€ä¸ª task æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\n\nä¸€ä¸ª task æ˜¯æµè§ˆå™¨æ‰€åšçš„ä»»ä½•ç¦»æ•£çš„å·¥ä½œï¼Œtask åŒ…æ‹¬è§£æ HTML å’Œ CSS, è¿è¡Œ JavaScript ä»£ç , ä»¥åŠä¸€äº›ä½ ä¸èƒ½ç›´æ¥æ§åˆ¶çš„äº‹æƒ…ã€‚å¯¹äºæ‰€æœ‰çš„è¿™äº›ï¼Œä½ æ‰€ç¼–å†™çš„å¹¶ä¸”éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ JavaScript æ˜¯ä¸»è¦çš„ä»»åŠ¡æ¥æºã€‚\n\n![img_1](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.23.12.png)\n\nTasks ä»¥å¤šç§æ–¹å¼å½±å“æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå½“æµè§ˆå™¨åœ¨å¯åŠ¨æ—¶ä¸‹è½½ js æ–‡ä»¶æ—¶ï¼Œæµè§ˆå™¨å°†ä»»åŠ¡è¿›è¡Œæ’é˜Ÿå¹¶ä¸”ç¼–è¯‘ js ä»¥è®©å…¶èƒ½è¢«æ‰§è¡Œã€‚ç„¶ååœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œï¼ˆä¾‹å¦‚é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºé©±åŠ¨äº¤äº’ã€JavaScript é©±åŠ¨çš„åŠ¨ç”»å’Œåå°æ´»åŠ¨ï¼ˆä¾‹å¦‚åˆ†ææ”¶é›†ï¼‰ï¼‰å¯åŠ¨ä»»åŠ¡ã€‚æ‰€æœ‰çš„è¿™äº›ä¸œè¥¿ï¼Œé™¤äº† web worker å’Œç±»ä¼¼çš„ API éƒ½å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸Šã€‚\n\n## ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ ï¼Ÿ\n\nä¸»çº¿ç¨‹æ˜¯å¤§å¤šæ•°ä»»åŠ¡åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„åœ°æ–¹ã€‚å®ƒè¢«ç§°ä¸ºä¸»çº¿ç¨‹çš„åŸå› æ˜¯ï¼šå®ƒæ˜¯æ‚¨ç¼–å†™çš„å‡ ä¹æ‰€æœ‰ JavaScript éƒ½åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­å·¥ä½œã€‚\n\nä¸»çº¿ç¨‹ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ã€‚å½“ä»»åŠ¡è¶…å‡ºæŸä¸ªç¡®å®šçš„ç‚¹ï¼ˆå‡†ç¡®æ¥è¯´æ˜¯ 50ms ï¼‰æ—¶,å®ƒä»¬è¢«å½’ç±»ä¸ºé•¿ä»»åŠ¡ã€‚å¦‚æœç”¨æˆ·åœ¨é•¿æ—¶é—´çš„ä»»åŠ¡è¿è¡Œæ—¶å°è¯•ä¸é¡µé¢äº¤äº’ â€” æˆ–è€…å¦‚æœéœ€è¦è¿›è¡Œé‡è¦çš„æ¸²æŸ“æ›´æ–° â€” æµè§ˆå™¨å°†å»¶è¿Ÿå¤„ç†è¯¥å·¥ä½œã€‚è¿™ä¼šå¯¼è‡´äº¤äº’æˆ–æ¸²æŸ“å»¶è¿Ÿã€‚\n\n![img_2](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.42.24.png)\n\n<em style=\"font-size:12px\">Chromeæµè§ˆå™¨çš„æ€§èƒ½åˆ†æå™¨ä¸­æè¿°çš„é•¿ä»»åŠ¡ã€‚é•¿ä»»åŠ¡çš„è§’è½é‡Œæœ‰ä¸€ä¸ªçº¢è‰²çš„ä¸‰è§’å½¢ï¼Œä»»åŠ¡çš„é˜»å¡éƒ¨åˆ†ç”¨å¯¹è§’çº¿çš„çº¢è‰²æ¡çº¹å¡«å……</em>\n\nä½ éœ€è¦åˆ†è§£ä»»åŠ¡ã€‚è¿™æ„å‘³ç€å°†ä¸€ä¸ªé•¿ä»»åŠ¡åˆ’åˆ†ä¸ºè¾ƒå°çš„ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å•ç‹¬è¿è¡Œæ‰€éœ€çš„æ—¶é—´æ›´å°‘ã€‚\n\n![img_3](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8Bhl9Ilki4tM0aC1nfn8.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">å•ä¸ªé•¿ä»»åŠ¡ä¸åŒä¸€ä»»åŠ¡åˆ†è§£ä¸ºäº”ä¸ªè¾ƒçŸ­ä»»åŠ¡çš„å¯è§†åŒ–</em>\n\nè¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œæµè§ˆå™¨æœ‰æ›´å¤šæœºä¼šå“åº”æ›´é«˜ä¼˜å…ˆçº§çš„å·¥ä½œâ€”â€”åŒ…æ‹¬ç”¨æˆ·äº¤äº’ã€‚\n\n![img_3](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0yV0ynwW7FujIwvCbCxQ.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">å½“ä»»åŠ¡å¤ªé•¿ï¼Œæµè§ˆå™¨ä¸èƒ½å¯¹äº’åŠ¨åšå‡ºè¶³å¤Ÿå¿«çš„ååº”æ—¶ï¼Œä¸å°†è¾ƒé•¿çš„ä»»åŠ¡åˆ†è§£æˆè¾ƒå°çš„ä»»åŠ¡æ—¶ç›¸æ¯”ï¼Œäº’åŠ¨ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„æƒ…å†µï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„ç»“æœ</em>\n\nå¦‚ä¸Šå›¾çš„ä¸ŠåŠéƒ¨åˆ†æ‰€è¿°ï¼Œç”±ç”¨æˆ·äº¤äº’æ’é˜Ÿçš„äº‹ä»¶å¤„ç†ç¨‹åºå¿…é¡»ç­‰å¾…ä¸€ä¸ªé•¿ä»»åŠ¡æ‰èƒ½è¿è¡Œã€‚è¿™å»¶è¿Ÿäº†äº¤äº’çš„å‘ç”Ÿã€‚åœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šæ›´å¿«åœ°è¿è¡Œã€‚å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šåœ¨è¾ƒå°çš„ä»»åŠ¡ä¹‹é—´è¿è¡Œã€‚å®ƒè¿è¡Œå¾—æ¯”å®ƒå¿…é¡»ç­‰å¾…ä¸€ä¸ªå¾ˆé•¿çš„ä»»åŠ¡å®Œæˆè¦å¿«ã€‚åœ¨ä¸ŠåŠéƒ¨åˆ†ä¸­ï¼Œç”¨æˆ·å¯èƒ½å·²ç»æ„Ÿå—åˆ°äº†å»¶è¿Ÿï¼Œåœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº¤äº’å¯èƒ½æ˜¯å³æ—¶çš„ã€‚\n\nç„¶è€Œï¼Œé—®é¢˜åœ¨äº â€œåˆ†è§£ä½ çš„é•¿ä»»åŠ¡â€ å’Œ â€œä¸è¦é˜»å¡ä¸»çº¿ç¨‹â€çš„å»ºè®®ä¸å¤Ÿå…·ä½“,é™¤éä½ å·²ç»çŸ¥é“å¦‚ä½•åšè¿™äº›äº‹æƒ…ï¼Œè¿™å°±æ˜¯æœ¬æŒ‡å—å°†è¦è§£é‡Šçš„å†…å®¹ã€‚\n\n## ä»»åŠ¡ç®¡ç†ç­–ç•¥\n\nåœ¨è½¯ä»¶æ¶æ„ä¸­ï¼Œä¸€ä¸ªå¸¸è§å»ºè®®æ˜¯å°†æ‚¨çš„å·¥ä½œåˆ†è§£æ›´å°çš„åŠŸèƒ½ã€‚è¿™ä¸ºæ‚¨æä¾›äº†æ›´å¥½çš„ä»£ç å¯è¯»æ€§å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§çš„å¥½å¤„ã€‚è¿™ä½¿å¾—æµ‹è¯•æ›´å®¹æ˜“ç¼–å†™ã€‚\n\n```ts\nfunction saveSettings() {\n  validateForm();\n  showSpinner();\n  saveToDatabase();\n  updateUI();\n  sendAnalytics();\n}\n```\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™é‡Œçš„ saveSettings å‡½æ•°ï¼Œåœ¨å®ƒè°ƒç”¨æ—¶ï¼Œå®ƒè°ƒç”¨äº†å…¶ä»–äº”ä¸ªå‡½æ•°ã€‚ä»æ¦‚å¿µä¸Šè®²ï¼Œè¿™æ˜¯å¾ˆå¥½çš„æ¶æ„ï¼Œå¦‚æœä½ éœ€è¦è°ƒè¯•è¿™äº›å‡½æ•°ä¸­çš„ä¸€ä¸ªï¼Œä½ å¯ä»¥ä¾¿åˆ©é¡¹ç›®æ ‘ä»¥å¼„æ¸…æ¯ä¸ªå‡½æ•°çš„ä½œç”¨ã€‚\n\nç„¶è€Œï¼Œé—®é¢˜åœ¨äº JavaScript ä¸ä¼šå°†è¿™äº›å‡½æ•°ä¸­çš„æ¯ä¸€ä¸ªä½œä¸ºå•ç‹¬çš„ä»»åŠ¡è¿è¡Œï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ savaSettings å‡½æ•°ä¸­æ‰§è¡Œçš„ã€‚__è¿™æ„å‘³ç€æ‰€æœ‰äº”ä¸ªåŠŸèƒ½éƒ½ä½œä¸ºå•ç‹¬ä»»åŠ¡è¿è¡Œã€‚__\n\n> JavaScript ä»¥è¿™ç§æ–¹å¼å·¥ä½œæ˜¯å› ä¸ºå®ƒä½¿ç”¨ä»»åŠ¡æ‰§è¡Œçš„è¿è¡Œåˆ°å®Œæˆæ¨¡å‹ã€‚è¿™æ„å‘³ç€æ¯ä¸ªä»»åŠ¡å°†ä¸€ç›´è¿è¡Œåˆ°å®Œæˆï¼Œæ— è®ºå®ƒé˜»å¡ä¸»çº¿ç¨‹å¤šé•¿æ—¶é—´ã€‚\n\n![img_4](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0c61l5DCix9y0GBa3pFj.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">è°ƒç”¨äº”ä¸ªå‡½æ•°çš„å•ä¸ªå‡½æ•° saveSettings()ã€‚è¿™é¡¹å·¥ä½œæ˜¯ä½œä¸ºä¸€é¡¹é•¿æœŸçš„æ•´ä½“ä»»åŠ¡çš„ä¸€éƒ¨åˆ†è¿è¡Œçš„</em>\n\nåœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œå³ä½¿åªæ˜¯è¿™äº›åŠŸèƒ½ä¸­çš„ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥ä¸ºä»»åŠ¡çš„æ€»é•¿åº¦è´¡çŒ®50æ¯«ç§’æˆ–æ›´å¤šã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ›´å¤šçš„è¿™äº›ä»»åŠ¡å¯ä»¥è¿è¡Œç›¸å½“é•¿çš„æ—¶é—´â€“ç‰¹åˆ«æ˜¯åœ¨èµ„æºæœ‰é™çš„è®¾å¤‡ä¸Šã€‚ä¸‹é¢æ˜¯ä¸€å¥—ç­–ç•¥ï¼Œä½ å¯ä»¥ç”¨æ¥åˆ†è§£å’Œä¼˜å…ˆå¤„ç†ä»»åŠ¡ã€‚\n\n## æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\n\nå¼€å‘äººå‘˜ä½¿ç”¨çš„ä¸€ç§å°†ä»»åŠ¡åˆ†è§£æˆå°ä»»åŠ¡çš„æ–¹æ³•æ¶‰åŠåˆ° setTimeout(). ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œä½ æŠŠå‡½æ•°ä¼ ç»™ setTimeout è¿™å°†å›è°ƒçš„æ‰§è¡Œæ¨è¿Ÿåˆ°ä¸€ä¸ªå•ç‹¬çš„ä»»åŠ¡ä¸­ï¼Œå³æ—¶ä½ æŒ‡å®šçš„æ—¶é—´ä¸º 0ã€‚\n\n```ts\nfunction saveSettings () {\n  // å®Œæˆç”¨æˆ·å¯è§çš„å…³é”®å·¥ä½œ:\n  validateForm();\n  showSpinner();\n  updateUI();\n\n  // å°†ç”¨æˆ·ä¸å¯è§çš„å·¥ä½œæ¨è¿Ÿåˆ°å•ç‹¬çš„ä»»åŠ¡:\n  setTimeout(() => {\n    saveToDatabase();\n    sendAnalytics();\n  }, 0);\n}\n```\n\nå¦‚æœæ‚¨æœ‰ä¸€ç³»åˆ—éœ€è¦æŒ‰é¡ºåºè¿è¡Œçš„å‡½æ•°ï¼Œè¿™å¾ˆæœ‰æ•ˆï¼Œä½†æ‚¨çš„ä»£ç å¯èƒ½å¹¶ä¸æ€»æ˜¯ä»¥è¿™ç§æ–¹å¼ç»„ç»‡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœ‰å¤§é‡æ•°æ®éœ€è¦å¾ªç¯å¤„ç†ï¼Œå¦‚æœæ‚¨æœ‰æ•°ç™¾ä¸‡ä¸ªé¡¹ç›®ï¼Œè¯¥ä»»åŠ¡å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚\n\n```ts\nfunction processData () {\n  for (const item of largeDataArray) {\n    // Process the individual item here.\n  }\n}\n```\n\nä½¿ç”¨ setTimeout æ˜¯å­˜åœ¨é—®é¢˜çš„, å› ä¸ºå®ƒçš„äººæœºå·¥ç¨‹å­¦ï¼ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ğŸ¤”ï¼ŒåŸæ–‡ï¼šergonomicsï¼‰ä½¿å…¶éš¾ä»¥å®ç°ï¼Œå¹¶ä¸”æ•´ä¸ªæ•°æ®æ•°ç»„å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´å¤„ç†ï¼Œå³ä½¿æ¯ä¸ªé¡¹ç›®éƒ½å¯ä»¥éå¸¸å¿«é€Ÿåœ°å¤„ç†ã€‚è¿™ä¸€åˆ‡åŠ èµ·æ¥ï¼ŒsetTimeout ä¸æ˜¯åˆé€‚çš„å·¥å…·ï¼Œè‡³å°‘åœ¨è¿™æ ·ä½¿ç”¨æ—¶ä¸æ˜¯ã€‚\n\né™¤äº† setTimeout ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»– API å…è®¸æ‚¨å°†ä»£ç æ‰§è¡Œæ¨è¿Ÿåˆ°åç»­ä»»åŠ¡ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ postMessage æ¥åŠ å¿«è¶…æ—¶ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ requestIdleCallback() æ¥åˆ†è§£å·¥ä½œã€‚ ä½†æ˜¯è¦æ³¨æ„ â€“ requestIdleCallback() ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§å®‰æ’ä»»åŠ¡ï¼Œè€Œä¸”åªåœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´å†…è¿›è¡Œã€‚å½“ä¸»çº¿ç¨‹æ‹¥æŒ¤æ—¶,ç”¨ requestIdleCallback() å®‰æ’çš„ä»»åŠ¡å¯èƒ½æ°¸è¿œæ— æ³•è¿è¡Œã€‚\n\n## ä½¿ç”¨ async/await yield points\n\nåœ¨æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªçŸ­è¯­æ˜¯ â€œyield to the main threadâ€ï¼Œä½†æ˜¯ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä½ è¦è¿™ä¹ˆåšï¼Ÿä½ ä»€ä¹ˆæ—¶å€™è¯¥è¿™æ ·åšï¼Ÿ\n\n> å½“ä½  yield to the main threadï¼Œä½ ä¼šç»™å®ƒä¸€ä¸ªæœºä¼šæ¥å¤„ç†æ¯”å½“å‰æ’é˜Ÿçš„ä»»åŠ¡æ›´é‡è¦çš„ä»»åŠ¡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼ˆideallyï¼‰ï¼Œå½“ä½ æœ‰ä¸€äº›å…³é”®çš„é¢å‘ç”¨æˆ·çš„å·¥ä½œï¼Œéœ€è¦æ¯” yield æ›´æ—©åœ°æ‰§è¡Œæ—¶ï¼Œä½ åº”è¯¥ yield main threadï¼Œyield main thread å¯ä»¥ä¸ºå…³é”®å·¥ä½œåˆ›é€ æœºä¼šï¼Œä½¿å…¶æ›´å¿«åœ°è¿è¡Œã€‚\n\nå½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥é€šè¿‡æµè§ˆå™¨å†…éƒ¨ä¼˜å…ˆçº§æ–¹æ¡ˆæ›´å¥½åœ°è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚yield main thread çš„æ–¹æ³•æ¶‰åŠåˆ°ä½¿ç”¨ä¸€ä¸ª Promise çš„ç»„åˆï¼Œè¯¥ç»„åˆä¸å¯¹ setTimeout() è¿›è¡Œçš„è°ƒç”¨è¿›è¡Œè§£æã€‚\n\n```ts\nfunction yieldToMain () {\n  return new Promise(resolve => {\n    setTimeout(resolve, 0);\n  });\n}\n```\n> è™½ç„¶è¿™ä¸ªä»£ç å®ä¾‹è¿”å›äº†ä¸€ä¸ªåœ¨è°ƒç”¨ setTimeout åè§£æçš„ Promise, ä½†è´Ÿè´£åœ¨æ–°ä»»åŠ¡ä¸­è¿è¡Œå¥‡é‡ä»£ç çš„å¹¶ä¸æ˜¯è¿™ä¸ª Promiseï¼Œè€Œæ˜¯ setTimeout è°ƒç”¨ã€‚Promise å›è°ƒä½œä¸ºå¾®ä»»åŠ¡è€Œä¸æ˜¯ä»»åŠ¡è¿è¡Œï¼Œå› æ­¤ä¸ä¼š yield main thread\n\nåœ¨ saveSettings() å‡½æ•°ä¸­ï¼Œå¦‚æœåœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨å await yieldToMain() å‡½æ•°ï¼Œåˆ™å¯ä»¥åœ¨æ¯æ¬¡å·¥ä½œå yield to the main\n\n```ts\nasync function saveSettings () {\n  // Create an array of functions to run:\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ]\n\n  // Loop over the tasks:\n  while (tasks.length > 0) {\n    // Shift the first task off the tasks array:\n    const task = tasks.shift();\n\n    // Run the task:\n    task();\n\n    // Yield to the main thread:\n    await yieldToMain();\n  }\n}\n```\n> ä½ ä¸å¿…åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨åéƒ½ yieldã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è¿è¡Œçš„ä¸¤ä¸ªå‡½æ•°ä¼šå¯¼è‡´ç”¨æˆ·ç•Œé¢çš„å…³é”®æ€§æ›´æ–°ï¼Œä½ å¯èƒ½ä¸æƒ³åœ¨å®ƒä»¬ä¹‹é—´ yieldã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œè®©è¿™äº› tast å…ˆè¿è¡Œï¼Œç„¶åè€ƒè™‘åœ¨é‚£äº›ä¸é‚£ä¹ˆå…³é”®çš„æˆ–ç”¨æˆ·çœ‹ä¸åˆ°çš„åå°å·¥ä½œçš„å‡½æ•°ä¹‹é—´è¿›è¡Œ yieldã€‚\n\nç»“æœæ˜¯æ›¾ç»å•ä¸€çš„ä»»åŠ¡ç°åœ¨è¢«åˆ†è§£ä¸ºå•ç‹¬çš„ä»»åŠ¡\n\n![img_5](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/wg0FW6S29CzOCbbwk9kK.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">saveSettings() å‡½æ•°ç°åœ¨å°†å…¶å­å‡½æ•°ä½œä¸ºå•ç‹¬çš„ä»»åŠ¡æ‰§è¡Œã€‚</em>\n\nä½¿ç”¨åŸºäº Promise çš„æ–¹æ³•æ¥äº§ç”Ÿè€Œä¸æ˜¯æ‰‹åŠ¨ä½¿ç”¨ setTimeout() çš„å¥½å¤„æ˜¯æ›´å¥½çš„äººä½“å·¥ç¨‹å­¦ã€‚å±ˆæœç‚¹æˆä¸ºå£°æ˜æ€§çš„ï¼Œå› æ­¤æ›´å®¹æ˜“ç¼–å†™ã€é˜…è¯»å’Œç†è§£ã€‚\n\n## ä»…åœ¨å¿…è¦æ—¶ yield\n\nå¦‚æœæ‚¨æœ‰ä¸€å †ä»»åŠ¡ï¼Œä½†æ‚¨åªæƒ³åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è®©æ­¥æ€ä¹ˆåŠï¼Ÿè¿™å°±æ˜¯ isInputPending() çš„ç”¨é€”ã€‚\n\nisInputPending() æ˜¯ä¸€ä¸ªæ‚¨å¯ä»¥éšæ—¶è¿è¡Œä»¥ç¡®å®šç”¨æˆ·æ˜¯å¦æ­£åœ¨å°è¯•ä¸é¡µé¢å…ƒç´ äº¤äº’çš„å‡½æ•°ï¼šå¯¹ isInputPending() çš„è°ƒç”¨å°†è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚\n\nå‡è®¾æ‚¨å¯æœ‰ä¸€ä¸ªéœ€è¦è¿è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†æ‚¨ä¸æƒ³å¦¨ç¢ä»»ä½•è¾“å…¥ã€‚è¿™æ®µä»£ç  â€” å®ƒåŒæ—¶ä½¿ç”¨äº† isInputPending() å‡½æ•° â€” ç¡®ä¿åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è¾“å…¥ä¸ä¼šè¢«å»¶è¿Ÿã€‚\n\n```ts\nasync function saveSettings () {\n  // A task queue of functions\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ];\n  \n  while (tasks.length > 0) {\n    // Yield to a pending user input:\n    if (navigator.scheduling.isInputPending()) {\n      // There's a pending user input. Yield here:\n      await yieldToMain();\n    } else {\n      // Shift the the task out of the queue:\n      const task = tasks.shift();\n\n      // Run the task:\n      task();\n    }\n  }\n}\n```\nå½“ saveSettings() è¿è¡Œæ—¶ï¼Œå®ƒå°†éå†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚å¦‚æœ isInputPending() åœ¨å¾ªç¯æœŸé—´è¿”å› trueï¼Œåˆ™ saveSettings() å°†è°ƒç”¨ yieldToMain() ä»¥ä¾¿å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚å¦åˆ™ï¼Œå®ƒå°†æŠŠä¸‹ä¸€ä¸ªä»»åŠ¡ç§»å‡ºé˜Ÿåˆ—çš„å‰é¢å¹¶ç»§ç»­è¿è¡Œå®ƒã€‚å®ƒå°†æ‰§è¡Œæ­¤æ“ä½œï¼Œç›´åˆ°æ²¡æœ‰å…¶ä»–ä»»åŠ¡ä¸ºæ­¢ã€‚\n\n![img_5](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/snMl3kRlWyJjdbL0qsqM.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">saveSettings()è¿è¡Œä¸€ä¸ªæœ‰äº”ä¸ªä»»åŠ¡çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†åœ¨ç¬¬äºŒä¸ªå·¥ä½œé¡¹è¿è¡Œæ—¶ï¼Œç”¨æˆ·å·²ç»ç‚¹å‡»æ‰“å¼€äº†ä¸€ä¸ªèœå•ã€‚ isInputPending()è®©ä½äºä¸»çº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªäº¤äº’ï¼Œå¹¶æ¢å¤è¿è¡Œå…¶ä½™çš„ä»»åŠ¡ã€‚</em>\n\n> isInputPending()ä¸ä¸€å®šåœ¨ç”¨æˆ·è¾“å…¥åç«‹å³è¿”å›trueã€‚è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦æ—¶é—´æ¥å‘Šè¯‰æµè§ˆå™¨å‘ç”Ÿäº†äº¤äº’ã€‚è¿™æ„å‘³ç€å…¶ä»–ä»£ç å¯èƒ½å·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼ˆæ­£å¦‚ä½ åœ¨ä¸Šé¢çš„æˆªå›¾ä¸­çœ‹åˆ°çš„saveToDatabase()å‡½æ•°ï¼‰ã€‚å³ä½¿ä½ ä½¿ç”¨isInputPending()ï¼Œä½ ä»ç„¶è¦é™åˆ¶æ¯ä¸ªå‡½æ•°çš„å·¥ä½œé‡ï¼Œè¿™æ˜¯è‡³å…³é‡è¦çš„ã€‚\n\nå°† isInputPending() ä¸è®©æ­¥æœºåˆ¶ç»“åˆä½¿ç”¨æ˜¯è®©æµè§ˆå™¨åœæ­¢å…¶æ­£åœ¨å¤„ç†çš„ä»»ä½•ä»»åŠ¡ä»¥å“åº”å…³é”®çš„é¢å‘ç”¨æˆ·çš„äº¤äº’çš„å¥½æ–¹æ³•ã€‚è¿™å¯ä»¥å¸®åŠ©æé«˜æ‚¨çš„é¡µé¢åœ¨è®¸å¤šä»»åŠ¡æ­£åœ¨è¿›è¡Œæ—¶åœ¨è®¸å¤šæƒ…å†µä¸‹å“åº”ç”¨æˆ·çš„èƒ½åŠ›ã€‚\n\nå¦ä¸€ç§ä½¿ç”¨isInputPending()çš„æ–¹æ³•â€“ç‰¹åˆ«æ˜¯å¦‚æœä½ æ‹…å¿ƒä¸ºä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨æä¾›é€€è·¯â€“æ˜¯ä½¿ç”¨åŸºäºæ—¶é—´çš„æ–¹æ³•ä¸ å¯é€‰é“¾æ“ä½œç¬¦ ï¼ˆ?.ï¼‰\n\n```ts\nasync function saveSettings () {\n  // A task queue of functions\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ];\n  \n  let deadline = performance.now() + 50;\n\n  while (tasks.length > 0) {\n    // Optional chaining operator used here helps to avoid\n    // errors in browsers that don't support `isInputPending`:\n    if (navigator.scheduling?.isInputPending() || performance.now() >= deadline) {\n      // There's a pending user input, or the\n      // deadline has been reached. Yield here:\n      await yieldToMain();\n\n      // Extend the deadline:\n      deadline += 50;\n\n      // Stop the execution of the current loop and\n      // move onto the next iteration:\n      continue;\n    }\n\n    // Shift the the task out of the queue:\n    const task = tasks.shift();\n\n    // Run the task:\n    task();\n  }\n}\n```\n\né€šè¿‡è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸ºä¸æ”¯æŒisInputPending()çš„æµè§ˆå™¨æä¾›ä¸€ä¸ªåå¤‡æ–¹æ¡ˆï¼Œå³ä½¿ç”¨ï¼ˆå¹¶è°ƒæ•´ï¼‰ä¸€ä¸ªæˆªæ­¢æ—¥æœŸï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶å°†å·¥ä½œåˆ†å¼€ï¼Œæ— è®ºæ˜¯é€šè¿‡å±ˆæœäºç”¨æˆ·è¾“å…¥ï¼Œè¿˜æ˜¯åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¹‹å‰ã€‚\n\n## å½“å‰ api çš„å·®å¼‚\n\nåˆ°ç›®å‰ä¸ºæ­¢æåˆ°çš„APIå¯ä»¥å¸®åŠ©ä½ åˆ†è§£ä»»åŠ¡ï¼Œä½†å®ƒä»¬æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹ï¼šå½“ä½ é€šè¿‡æ¨è¿Ÿä»£ç åœ¨åç»­ä»»åŠ¡ä¸­è¿è¡Œè€Œå±ˆæœäºä¸»çº¿ç¨‹æ—¶ï¼Œè¯¥ä»£ç ä¼šè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ€æœ«ç«¯ã€‚\n\nå¦‚æœä½ æ§åˆ¶äº†ä½ é¡µé¢ä¸Šçš„æ‰€æœ‰ä»£ç ï¼Œå°±æœ‰å¯èƒ½åˆ›å»ºä½ è‡ªå·±çš„scheduler ï¼ˆå‚è€ƒ react å—ï¼ŒğŸ˜¯ï¼‰ï¼Œå¹¶èƒ½å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆæ’åºï¼Œä½†ç¬¬ä¸‰æ–¹è„šæœ¬ä¸ä¼šä½¿ç”¨ä½ çš„è°ƒåº¦å™¨ã€‚å®é™…ä¸Šï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œä½ å¹¶ä¸èƒ½çœŸæ­£åœ°å¯¹å·¥ä½œè¿›è¡Œä¼˜å…ˆæ’åºã€‚ä½ åªèƒ½æŠŠå®ƒåˆ†æˆå‡ å—ï¼Œæˆ–è€…æ˜ç¡®åœ°å±ˆä»äºç”¨æˆ·çš„äº’åŠ¨ã€‚\n\nå¹¸è¿çš„æ˜¯ï¼Œç›®å‰æœ‰ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦å™¨APIæ­£åœ¨å¼€å‘ä¸­ï¼Œå¯ä»¥è§£å†³è¿™äº›é—®é¢˜ã€‚\n\n## ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\n\nè°ƒåº¦å™¨APIç›®å‰æä¾›äº†postTask()å‡½æ•°ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¯¥å‡½æ•°åœ¨Chromiumæµè§ˆå™¨å’ŒFirefoxçš„ä¸€ä¸ªæ ‡å¿—åé¢å¯ç”¨ã€‚ postTask()å…è®¸å¯¹ä»»åŠ¡è¿›è¡Œæ›´ç²¾ç»†çš„è°ƒåº¦ï¼Œæ˜¯å¸®åŠ©æµè§ˆå™¨ç¡®å®šå·¥ä½œä¼˜å…ˆçº§çš„ä¸€ç§æ–¹æ³•ï¼Œè¿™æ ·ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å°±ä¼šè®©ä½äºä¸»çº¿ç¨‹ã€‚ postTask()ä½¿ç”¨ Promiseï¼Œå¹¶æ¥å—ä¸€ä¸ªä¼˜å…ˆçº§è®¾ç½®ã€‚\n\npostTask() API å…·æœ‰ä¸‰ä¸ªå¯ä»¥ä½¿ç”¨çš„ priorities\n\n- â€˜backgroundâ€™ : æœ€ä½ä¼˜å…ˆçº§ä»»åŠ¡ã€‚\n- â€˜user-visibleâ€™ : ä¸­ç­‰ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œâ€œç”¨æˆ·å¯è§â€ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ä¼˜å…ˆçº§ï¼Œè¿™æ˜¯é»˜è®¤è®¾ç½®ã€‚\n- â€˜user-blockingâ€™: ç”¨äºéœ€è¦é«˜ä¼˜å…ˆçº§è¿è¡Œçš„å…³é”®ä»»åŠ¡ã€‚\n\nä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼ŒpostTask()APIè¢«ç”¨æ¥ä»¥å°½å¯èƒ½é«˜çš„ä¼˜å…ˆçº§è¿è¡Œä¸‰ä¸ªä»»åŠ¡ï¼Œå¹¶ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§è¿è¡Œå…¶ä½™ä¸¤ä¸ªä»»åŠ¡ã€‚\n\n```ts\nfunction saveSettings () {\n  // Validate the form at high priority\n  scheduler.postTask(validateForm, {priority: 'user-blocking'});\n\n  // Show the spinner at high priority:\n  scheduler.postTask(showSpinner, {priority: 'user-blocking'});\n\n  // Update the database in the background:\n  scheduler.postTask(saveToDatabase, {priority: 'background'});\n\n  // Update the user interface at high priority:\n  scheduler.postTask(updateUI, {priority: 'user-blocking'});\n\n  // Send analytics data in the background:\n  scheduler.postTask(sendAnalytics, {priority: 'background'});\n};\n```\nåœ¨è¿™é‡Œï¼Œä»»åŠ¡çš„ä¼˜å…ˆçº§ä»¥æµè§ˆå™¨ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆä¾‹å¦‚ç”¨æˆ·äº¤äº’ï¼‰å¯ä»¥æ­£å¸¸å·¥ä½œçš„æ–¹å¼å®‰æ’ã€‚\n\n<div style=\"color:red\">å­ä»»åŠ¡æ‰§è¡Œé¡ºåºå·®å¼‚</div>\n\n![img_6](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ttvI1HqusI02CAdqhjWP.png?auto=format&w=1600)\n\n<em style=\"font-size:12px\">å½“saveSettings()è¿è¡Œæ—¶ï¼Œè¯¥å‡½æ•°ä½¿ç”¨postTask()å¯¹å„ä¸ªå‡½æ•°è¿›è¡Œè°ƒåº¦ã€‚é¢å‘ç”¨æˆ·çš„å…³é”®å·¥ä½œè¢«å®‰æ’åœ¨é«˜ä¼˜å…ˆçº§ï¼Œè€Œç”¨æˆ·ä¸çŸ¥é“çš„å·¥ä½œè¢«å®‰æ’åœ¨åå°è¿è¡Œã€‚è¿™ä½¿å¾—ç”¨æˆ·äº¤äº’çš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºå·¥ä½œè¢«åˆ†å‰²å¼€æ¥å¹¶è¢«é€‚å½“åœ°å®‰æ’äº†ä¼˜å…ˆæ¬¡åºã€‚</em>\n\nè¿™æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ postTask() çš„ç®€å•ç¤ºä¾‹ã€‚å¯ä»¥å®ä¾‹åŒ–ä¸åŒçš„ TaskController å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åœ¨ä»»åŠ¡ä¹‹é—´å…±äº«ä¼˜å…ˆçº§ï¼ŒåŒ…æ‹¬æ ¹æ®éœ€è¦æ›´æ”¹ä¸åŒ TaskController å®ä¾‹çš„ä¼˜å…ˆçº§çš„èƒ½åŠ›ã€‚\n\n> å¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ postTask()ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å¾æ£€æµ‹æ¥æŸ¥çœ‹å®ƒæ˜¯å¦å¯ç”¨ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ polyfill\n\n## å†…ç½®çš„ yield\n\nè°ƒåº¦å™¨APIçš„ä¸€ä¸ªæ‹Ÿè®®çš„éƒ¨åˆ†ï¼Œç›®å‰æ²¡æœ‰åœ¨ä»»ä½•æµè§ˆå™¨ä¸­å®ç°ï¼Œå°±æ˜¯ä¸€ä¸ªå†…ç½®çš„ yield æœºåˆ¶ã€‚å®ƒçš„ä½¿ç”¨ç±»ä¼¼äºæœ¬æ–‡å‰é¢æ¼”ç¤ºçš„ yieldToMain() å‡½æ•°ã€‚\n\n```ts\nasync function saveSettings () {\n  // Create an array of functions to run:\n  const tasks = [\n    validateForm,\n    showSpinner,\n    saveToDatabase,\n    updateUI,\n    sendAnalytics\n  ]\n\n  // Loop over the tasks:\n  while (tasks.length > 0) {\n    // Shift the first task off the tasks array:\n    const task = tasks.shift();\n\n    // Run the task:\n    task();\n\n    // Yield to the main thread with the scheduler\n    // API's own yielding mechanism:\n    await scheduler.yield();\n  }\n}\n```\n\næ‚¨ä¼šæ³¨æ„åˆ°ï¼Œä¸Šé¢çš„ä»£ç éå¸¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯æ‚¨æ²¡æœ‰ä½¿ç”¨ yieldToMain()ï¼Œè€Œæ˜¯è°ƒç”¨å¹¶ç­‰å¾… scheduler.yield()ã€‚\n\n![img_7](https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/fyuvJqAV0mLxfZDM9tAm.png?auto=format&w=1294)\n\n<em style=\"font-size:12px\">ä¸€ä¸ªæ²¡æœ‰yieldã€yieldã€yield å’Œ continuation çš„ä»»åŠ¡æ‰§è¡Œçš„å¯è§†åŒ–å›¾ã€‚å½“ä½¿ç”¨scheduler.yield()æ—¶ï¼Œä»»åŠ¡çš„æ‰§è¡Œç”šè‡³åœ¨å±ˆæœç‚¹ä¹‹åè¿˜èƒ½ç»§ç»­æ‰§è¡Œã€‚</em>\n\nscheduler.yield() çš„å¥½å¤„æ˜¯continuationï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åœ¨ä¸€ç»„ä»»åŠ¡ä¸­é—´yieldï¼Œå…¶ä»–çš„è®¡åˆ’ä»»åŠ¡ä¼šåœ¨yieldç‚¹ä¹‹åä»¥åŒæ ·çš„é¡ºåºç»§ç»­æ‰§è¡Œã€‚è¿™å¯ä»¥é¿å…ç¬¬ä¸‰æ–¹è„šæœ¬ä¸­çš„ä»£ç ç¯¡å¤ºæ‚¨çš„ä»£ç æ‰§è¡Œé¡ºåºã€‚\n\n## æ€»ç»“\n\nç®¡ç†ä»»åŠ¡æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ï¼Œä½†è¿™æ ·åšæœ‰åŠ©äºä½ çš„é¡µé¢å¯¹ç”¨æˆ·çš„äº’åŠ¨ä½œå‡ºæ›´å¿«é€Ÿçš„ååº”ã€‚åœ¨ç®¡ç†å’Œç¡®å®šä»»åŠ¡çš„ä¼˜å…ˆæ¬¡åºæ–¹é¢ï¼Œæ²¡æœ‰å•ä¸€çš„å»ºè®®ã€‚ç›¸åï¼Œå®ƒæ˜¯ä¸€äº›ä¸åŒçš„æŠ€æœ¯ã€‚é‡ç”³ä¸€ä¸‹ï¼Œè¿™äº›æ˜¯ä½ åœ¨ç®¡ç†ä»»åŠ¡æ—¶è¦è€ƒè™‘çš„ä¸»è¦äº‹é¡¹ã€‚\n\n- è®©ç»™ä¸»çº¿ç¨‹ä»¥å®Œæˆå…³é”®çš„ã€é¢å‘ç”¨æˆ·çš„ä»»åŠ¡ã€‚\n\n- å½“ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶ï¼Œä½¿ç”¨ isInputPending() è®©æ­¥ç»™ä¸»çº¿ç¨‹ã€‚\n\n- ä½¿ç”¨ postTask() å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚\n\n- æœ€åï¼Œåœ¨ä½ çš„å‡½æ•°ä¸­åšå°½å¯èƒ½å°‘çš„å·¥ä½œã€‚\n\næœ‰äº†è¿™äº›å·¥å…·ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ„é€ å·¥ä½œï¼Œä½¿å…¶ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·çš„éœ€æ±‚ï¼ŒåŒæ—¶ç¡®ä¿ä¸å¤ªå…³é”®çš„å·¥ä½œä»ç„¶èƒ½å¤Ÿå®Œæˆã€‚è¿™å°†åˆ›é€ ä¸€ä¸ªæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå®ƒçš„å“åº”é€Ÿåº¦æ›´å¿«ï¼Œä½¿ç”¨èµ·æ¥æ›´æ„‰å¿«ã€‚\n\nSpecial thanks to Philip Walton for his technical vetting of this article.\n\nHero image sourced from Unsplash, courtesy of Amirali Mirhashemian.\n\n\n\n","slug":"ã€è¯‘ã€‘ä¼˜åŒ–é•¿ä»»åŠ¡-Optimize-long-tasks","published":1,"updated":"2022-12-31T10:26:33.594Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nht5000s3kv782b736zb","content":"<p>åŸæ–‡ï¼š<a href=\"https://web.dev/optimize-long-tasks/\">https://web.dev/optimize-long-tasks/</a></p>\n<blockquote>\n<p>ä½ æ›¾è¢«å‘Šè¯‰è¿‡ï¼Œä¸è¦é˜»å¡ä¸»çº¿ç¨‹å¹¶ä¸”åˆ†è§£ä½ çš„é•¿ä»»åŠ¡ï¼Œä½†æ˜¯æœ‰æƒ³è¿‡è¿™æ ·åšçš„æ„ä¹‰å—ï¼Ÿ</p>\n</blockquote>\n<p>å¦‚æœä½ è¯»äº†å¾ˆå¤šå…³äºç½‘ç«™æ€§èƒ½çš„èµ„æ–™, ä¿æŒ JavasScript åº”ç”¨ç¨‹åºå¿«é€Ÿè¿è¡Œçš„å»ºè®®å¾€å¾€æ¶‰åŠä»¥ä¸‹çš„å»ºè®®ï¼š</p>\n<ul>\n<li>ä¸è¦é˜»å¡ä¸»çº¿ç¨‹</li>\n<li>åˆ†è§£ä½ çš„é•¿ä»»åŠ¡</li>\n</ul>\n<p>é‚£è¿™äº›æ„å‘³ç€ä»€ä¹ˆï¼Ÿå‡å°‘ JavaScript æ˜¯å¥½çš„ï¼Œä½†è¿™æ˜¯å¦è‡ªåŠ¨ç­‰åŒåœ¨æ•´ä¸ªé¡µé¢ç”Ÿå‘½å‘¨æœŸä¸­æ›´å¿«é€Ÿçš„ç”¨æˆ·ç•Œé¢ï¼Ÿä¹Ÿè®¸æ˜¯ï¼Œä¹Ÿè®¸ä¸æ˜¯.</p>\n<span id=\"more\"></span>\n\n<h2 id=\"ä¸€ä¸ª-task-æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\"><a href=\"#ä¸€ä¸ª-task-æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\" class=\"headerlink\" title=\"ä¸€ä¸ª task æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\"></a>ä¸€ä¸ª task æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h2><p>ä¸€ä¸ª task æ˜¯æµè§ˆå™¨æ‰€åšçš„ä»»ä½•ç¦»æ•£çš„å·¥ä½œï¼Œtask åŒ…æ‹¬è§£æ HTML å’Œ CSS, è¿è¡Œ JavaScript ä»£ç , ä»¥åŠä¸€äº›ä½ ä¸èƒ½ç›´æ¥æ§åˆ¶çš„äº‹æƒ…ã€‚å¯¹äºæ‰€æœ‰çš„è¿™äº›ï¼Œä½ æ‰€ç¼–å†™çš„å¹¶ä¸”éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ JavaScript æ˜¯ä¸»è¦çš„ä»»åŠ¡æ¥æºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.23.12.png\" alt=\"img_1\"></p>\n<p>Tasks ä»¥å¤šç§æ–¹å¼å½±å“æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå½“æµè§ˆå™¨åœ¨å¯åŠ¨æ—¶ä¸‹è½½ js æ–‡ä»¶æ—¶ï¼Œæµè§ˆå™¨å°†ä»»åŠ¡è¿›è¡Œæ’é˜Ÿå¹¶ä¸”ç¼–è¯‘ js ä»¥è®©å…¶èƒ½è¢«æ‰§è¡Œã€‚ç„¶ååœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œï¼ˆä¾‹å¦‚é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºé©±åŠ¨äº¤äº’ã€JavaScript é©±åŠ¨çš„åŠ¨ç”»å’Œåå°æ´»åŠ¨ï¼ˆä¾‹å¦‚åˆ†ææ”¶é›†ï¼‰ï¼‰å¯åŠ¨ä»»åŠ¡ã€‚æ‰€æœ‰çš„è¿™äº›ä¸œè¥¿ï¼Œé™¤äº† web worker å’Œç±»ä¼¼çš„ API éƒ½å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸Šã€‚</p>\n<h2 id=\"ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ-ï¼Ÿ\"><a href=\"#ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ-ï¼Ÿ\" class=\"headerlink\" title=\"ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ ï¼Ÿ\"></a>ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ ï¼Ÿ</h2><p>ä¸»çº¿ç¨‹æ˜¯å¤§å¤šæ•°ä»»åŠ¡åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„åœ°æ–¹ã€‚å®ƒè¢«ç§°ä¸ºä¸»çº¿ç¨‹çš„åŸå› æ˜¯ï¼šå®ƒæ˜¯æ‚¨ç¼–å†™çš„å‡ ä¹æ‰€æœ‰ JavaScript éƒ½åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­å·¥ä½œã€‚</p>\n<p>ä¸»çº¿ç¨‹ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ã€‚å½“ä»»åŠ¡è¶…å‡ºæŸä¸ªç¡®å®šçš„ç‚¹ï¼ˆå‡†ç¡®æ¥è¯´æ˜¯ 50ms ï¼‰æ—¶,å®ƒä»¬è¢«å½’ç±»ä¸ºé•¿ä»»åŠ¡ã€‚å¦‚æœç”¨æˆ·åœ¨é•¿æ—¶é—´çš„ä»»åŠ¡è¿è¡Œæ—¶å°è¯•ä¸é¡µé¢äº¤äº’ â€” æˆ–è€…å¦‚æœéœ€è¦è¿›è¡Œé‡è¦çš„æ¸²æŸ“æ›´æ–° â€” æµè§ˆå™¨å°†å»¶è¿Ÿå¤„ç†è¯¥å·¥ä½œã€‚è¿™ä¼šå¯¼è‡´äº¤äº’æˆ–æ¸²æŸ“å»¶è¿Ÿã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.42.24.png\" alt=\"img_2\"></p>\n<p><em style=\"font-size:12px\">Chromeæµè§ˆå™¨çš„æ€§èƒ½åˆ†æå™¨ä¸­æè¿°çš„é•¿ä»»åŠ¡ã€‚é•¿ä»»åŠ¡çš„è§’è½é‡Œæœ‰ä¸€ä¸ªçº¢è‰²çš„ä¸‰è§’å½¢ï¼Œä»»åŠ¡çš„é˜»å¡éƒ¨åˆ†ç”¨å¯¹è§’çº¿çš„çº¢è‰²æ¡çº¹å¡«å……</em></p>\n<p>ä½ éœ€è¦åˆ†è§£ä»»åŠ¡ã€‚è¿™æ„å‘³ç€å°†ä¸€ä¸ªé•¿ä»»åŠ¡åˆ’åˆ†ä¸ºè¾ƒå°çš„ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å•ç‹¬è¿è¡Œæ‰€éœ€çš„æ—¶é—´æ›´å°‘ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8Bhl9Ilki4tM0aC1nfn8.png?auto=format&w=1600\" alt=\"img_3\"></p>\n<p><em style=\"font-size:12px\">å•ä¸ªé•¿ä»»åŠ¡ä¸åŒä¸€ä»»åŠ¡åˆ†è§£ä¸ºäº”ä¸ªè¾ƒçŸ­ä»»åŠ¡çš„å¯è§†åŒ–</em></p>\n<p>è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œæµè§ˆå™¨æœ‰æ›´å¤šæœºä¼šå“åº”æ›´é«˜ä¼˜å…ˆçº§çš„å·¥ä½œâ€”â€”åŒ…æ‹¬ç”¨æˆ·äº¤äº’ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0yV0ynwW7FujIwvCbCxQ.png?auto=format&w=1600\" alt=\"img_3\"></p>\n<p><em style=\"font-size:12px\">å½“ä»»åŠ¡å¤ªé•¿ï¼Œæµè§ˆå™¨ä¸èƒ½å¯¹äº’åŠ¨åšå‡ºè¶³å¤Ÿå¿«çš„ååº”æ—¶ï¼Œä¸å°†è¾ƒé•¿çš„ä»»åŠ¡åˆ†è§£æˆè¾ƒå°çš„ä»»åŠ¡æ—¶ç›¸æ¯”ï¼Œäº’åŠ¨ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„æƒ…å†µï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„ç»“æœ</em></p>\n<p>å¦‚ä¸Šå›¾çš„ä¸ŠåŠéƒ¨åˆ†æ‰€è¿°ï¼Œç”±ç”¨æˆ·äº¤äº’æ’é˜Ÿçš„äº‹ä»¶å¤„ç†ç¨‹åºå¿…é¡»ç­‰å¾…ä¸€ä¸ªé•¿ä»»åŠ¡æ‰èƒ½è¿è¡Œã€‚è¿™å»¶è¿Ÿäº†äº¤äº’çš„å‘ç”Ÿã€‚åœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šæ›´å¿«åœ°è¿è¡Œã€‚å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šåœ¨è¾ƒå°çš„ä»»åŠ¡ä¹‹é—´è¿è¡Œã€‚å®ƒè¿è¡Œå¾—æ¯”å®ƒå¿…é¡»ç­‰å¾…ä¸€ä¸ªå¾ˆé•¿çš„ä»»åŠ¡å®Œæˆè¦å¿«ã€‚åœ¨ä¸ŠåŠéƒ¨åˆ†ä¸­ï¼Œç”¨æˆ·å¯èƒ½å·²ç»æ„Ÿå—åˆ°äº†å»¶è¿Ÿï¼Œåœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº¤äº’å¯èƒ½æ˜¯å³æ—¶çš„ã€‚</p>\n<p>ç„¶è€Œï¼Œé—®é¢˜åœ¨äº â€œåˆ†è§£ä½ çš„é•¿ä»»åŠ¡â€ å’Œ â€œä¸è¦é˜»å¡ä¸»çº¿ç¨‹â€çš„å»ºè®®ä¸å¤Ÿå…·ä½“,é™¤éä½ å·²ç»çŸ¥é“å¦‚ä½•åšè¿™äº›äº‹æƒ…ï¼Œè¿™å°±æ˜¯æœ¬æŒ‡å—å°†è¦è§£é‡Šçš„å†…å®¹ã€‚</p>\n<h2 id=\"ä»»åŠ¡ç®¡ç†ç­–ç•¥\"><a href=\"#ä»»åŠ¡ç®¡ç†ç­–ç•¥\" class=\"headerlink\" title=\"ä»»åŠ¡ç®¡ç†ç­–ç•¥\"></a>ä»»åŠ¡ç®¡ç†ç­–ç•¥</h2><p>åœ¨è½¯ä»¶æ¶æ„ä¸­ï¼Œä¸€ä¸ªå¸¸è§å»ºè®®æ˜¯å°†æ‚¨çš„å·¥ä½œåˆ†è§£æ›´å°çš„åŠŸèƒ½ã€‚è¿™ä¸ºæ‚¨æä¾›äº†æ›´å¥½çš„ä»£ç å¯è¯»æ€§å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§çš„å¥½å¤„ã€‚è¿™ä½¿å¾—æµ‹è¯•æ›´å®¹æ˜“ç¼–å†™ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  validateForm();</span><br><span class=\"line\">  showSpinner();</span><br><span class=\"line\">  saveToDatabase();</span><br><span class=\"line\">  updateUI();</span><br><span class=\"line\">  sendAnalytics();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™é‡Œçš„ saveSettings å‡½æ•°ï¼Œåœ¨å®ƒè°ƒç”¨æ—¶ï¼Œå®ƒè°ƒç”¨äº†å…¶ä»–äº”ä¸ªå‡½æ•°ã€‚ä»æ¦‚å¿µä¸Šè®²ï¼Œè¿™æ˜¯å¾ˆå¥½çš„æ¶æ„ï¼Œå¦‚æœä½ éœ€è¦è°ƒè¯•è¿™äº›å‡½æ•°ä¸­çš„ä¸€ä¸ªï¼Œä½ å¯ä»¥ä¾¿åˆ©é¡¹ç›®æ ‘ä»¥å¼„æ¸…æ¯ä¸ªå‡½æ•°çš„ä½œç”¨ã€‚</p>\n<p>ç„¶è€Œï¼Œé—®é¢˜åœ¨äº JavaScript ä¸ä¼šå°†è¿™äº›å‡½æ•°ä¸­çš„æ¯ä¸€ä¸ªä½œä¸ºå•ç‹¬çš„ä»»åŠ¡è¿è¡Œï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ savaSettings å‡½æ•°ä¸­æ‰§è¡Œçš„ã€‚<strong>è¿™æ„å‘³ç€æ‰€æœ‰äº”ä¸ªåŠŸèƒ½éƒ½ä½œä¸ºå•ç‹¬ä»»åŠ¡è¿è¡Œã€‚</strong></p>\n<blockquote>\n<p>JavaScript ä»¥è¿™ç§æ–¹å¼å·¥ä½œæ˜¯å› ä¸ºå®ƒä½¿ç”¨ä»»åŠ¡æ‰§è¡Œçš„è¿è¡Œåˆ°å®Œæˆæ¨¡å‹ã€‚è¿™æ„å‘³ç€æ¯ä¸ªä»»åŠ¡å°†ä¸€ç›´è¿è¡Œåˆ°å®Œæˆï¼Œæ— è®ºå®ƒé˜»å¡ä¸»çº¿ç¨‹å¤šé•¿æ—¶é—´ã€‚</p>\n</blockquote>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0c61l5DCix9y0GBa3pFj.png?auto=format&w=1600\" alt=\"img_4\"></p>\n<p><em style=\"font-size:12px\">è°ƒç”¨äº”ä¸ªå‡½æ•°çš„å•ä¸ªå‡½æ•° saveSettings()ã€‚è¿™é¡¹å·¥ä½œæ˜¯ä½œä¸ºä¸€é¡¹é•¿æœŸçš„æ•´ä½“ä»»åŠ¡çš„ä¸€éƒ¨åˆ†è¿è¡Œçš„</em></p>\n<p>åœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œå³ä½¿åªæ˜¯è¿™äº›åŠŸèƒ½ä¸­çš„ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥ä¸ºä»»åŠ¡çš„æ€»é•¿åº¦è´¡çŒ®50æ¯«ç§’æˆ–æ›´å¤šã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ›´å¤šçš„è¿™äº›ä»»åŠ¡å¯ä»¥è¿è¡Œç›¸å½“é•¿çš„æ—¶é—´â€“ç‰¹åˆ«æ˜¯åœ¨èµ„æºæœ‰é™çš„è®¾å¤‡ä¸Šã€‚ä¸‹é¢æ˜¯ä¸€å¥—ç­–ç•¥ï¼Œä½ å¯ä»¥ç”¨æ¥åˆ†è§£å’Œä¼˜å…ˆå¤„ç†ä»»åŠ¡ã€‚</p>\n<h2 id=\"æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\"><a href=\"#æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\" class=\"headerlink\" title=\"æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\"></a>æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ</h2><p>å¼€å‘äººå‘˜ä½¿ç”¨çš„ä¸€ç§å°†ä»»åŠ¡åˆ†è§£æˆå°ä»»åŠ¡çš„æ–¹æ³•æ¶‰åŠåˆ° setTimeout(). ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œä½ æŠŠå‡½æ•°ä¼ ç»™ setTimeout è¿™å°†å›è°ƒçš„æ‰§è¡Œæ¨è¿Ÿåˆ°ä¸€ä¸ªå•ç‹¬çš„ä»»åŠ¡ä¸­ï¼Œå³æ—¶ä½ æŒ‡å®šçš„æ—¶é—´ä¸º 0ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// å®Œæˆç”¨æˆ·å¯è§çš„å…³é”®å·¥ä½œ:</span></span><br><span class=\"line\">  validateForm();</span><br><span class=\"line\">  showSpinner();</span><br><span class=\"line\">  updateUI();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// å°†ç”¨æˆ·ä¸å¯è§çš„å·¥ä½œæ¨è¿Ÿåˆ°å•ç‹¬çš„ä»»åŠ¡:</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    saveToDatabase();</span><br><span class=\"line\">    sendAnalytics();</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ‚¨æœ‰ä¸€ç³»åˆ—éœ€è¦æŒ‰é¡ºåºè¿è¡Œçš„å‡½æ•°ï¼Œè¿™å¾ˆæœ‰æ•ˆï¼Œä½†æ‚¨çš„ä»£ç å¯èƒ½å¹¶ä¸æ€»æ˜¯ä»¥è¿™ç§æ–¹å¼ç»„ç»‡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœ‰å¤§é‡æ•°æ®éœ€è¦å¾ªç¯å¤„ç†ï¼Œå¦‚æœæ‚¨æœ‰æ•°ç™¾ä¸‡ä¸ªé¡¹ç›®ï¼Œè¯¥ä»»åŠ¡å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">processData</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> item <span class=\"keyword\">of</span> largeDataArray) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Process the individual item here.</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ setTimeout æ˜¯å­˜åœ¨é—®é¢˜çš„, å› ä¸ºå®ƒçš„äººæœºå·¥ç¨‹å­¦ï¼ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ğŸ¤”ï¼ŒåŸæ–‡ï¼šergonomicsï¼‰ä½¿å…¶éš¾ä»¥å®ç°ï¼Œå¹¶ä¸”æ•´ä¸ªæ•°æ®æ•°ç»„å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´å¤„ç†ï¼Œå³ä½¿æ¯ä¸ªé¡¹ç›®éƒ½å¯ä»¥éå¸¸å¿«é€Ÿåœ°å¤„ç†ã€‚è¿™ä¸€åˆ‡åŠ èµ·æ¥ï¼ŒsetTimeout ä¸æ˜¯åˆé€‚çš„å·¥å…·ï¼Œè‡³å°‘åœ¨è¿™æ ·ä½¿ç”¨æ—¶ä¸æ˜¯ã€‚</p>\n<p>é™¤äº† setTimeout ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»– API å…è®¸æ‚¨å°†ä»£ç æ‰§è¡Œæ¨è¿Ÿåˆ°åç»­ä»»åŠ¡ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ postMessage æ¥åŠ å¿«è¶…æ—¶ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ requestIdleCallback() æ¥åˆ†è§£å·¥ä½œã€‚ ä½†æ˜¯è¦æ³¨æ„ â€“ requestIdleCallback() ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§å®‰æ’ä»»åŠ¡ï¼Œè€Œä¸”åªåœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´å†…è¿›è¡Œã€‚å½“ä¸»çº¿ç¨‹æ‹¥æŒ¤æ—¶,ç”¨ requestIdleCallback() å®‰æ’çš„ä»»åŠ¡å¯èƒ½æ°¸è¿œæ— æ³•è¿è¡Œã€‚</p>\n<h2 id=\"ä½¿ç”¨-async-await-yield-points\"><a href=\"#ä½¿ç”¨-async-await-yield-points\" class=\"headerlink\" title=\"ä½¿ç”¨ async/await yield points\"></a>ä½¿ç”¨ async/await yield points</h2><p>åœ¨æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªçŸ­è¯­æ˜¯ â€œyield to the main threadâ€ï¼Œä½†æ˜¯ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä½ è¦è¿™ä¹ˆåšï¼Ÿä½ ä»€ä¹ˆæ—¶å€™è¯¥è¿™æ ·åšï¼Ÿ</p>\n<blockquote>\n<p>å½“ä½  yield to the main threadï¼Œä½ ä¼šç»™å®ƒä¸€ä¸ªæœºä¼šæ¥å¤„ç†æ¯”å½“å‰æ’é˜Ÿçš„ä»»åŠ¡æ›´é‡è¦çš„ä»»åŠ¡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼ˆideallyï¼‰ï¼Œå½“ä½ æœ‰ä¸€äº›å…³é”®çš„é¢å‘ç”¨æˆ·çš„å·¥ä½œï¼Œéœ€è¦æ¯” yield æ›´æ—©åœ°æ‰§è¡Œæ—¶ï¼Œä½ åº”è¯¥ yield main threadï¼Œyield main thread å¯ä»¥ä¸ºå…³é”®å·¥ä½œåˆ›é€ æœºä¼šï¼Œä½¿å…¶æ›´å¿«åœ°è¿è¡Œã€‚</p>\n</blockquote>\n<p>å½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥é€šè¿‡æµè§ˆå™¨å†…éƒ¨ä¼˜å…ˆçº§æ–¹æ¡ˆæ›´å¥½åœ°è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚yield main thread çš„æ–¹æ³•æ¶‰åŠåˆ°ä½¿ç”¨ä¸€ä¸ª Promise çš„ç»„åˆï¼Œè¯¥ç»„åˆä¸å¯¹ setTimeout() è¿›è¡Œçš„è°ƒç”¨è¿›è¡Œè§£æã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">yieldToMain</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(resolve, <span class=\"number\">0</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>è™½ç„¶è¿™ä¸ªä»£ç å®ä¾‹è¿”å›äº†ä¸€ä¸ªåœ¨è°ƒç”¨ setTimeout åè§£æçš„ Promise, ä½†è´Ÿè´£åœ¨æ–°ä»»åŠ¡ä¸­è¿è¡Œå¥‡é‡ä»£ç çš„å¹¶ä¸æ˜¯è¿™ä¸ª Promiseï¼Œè€Œæ˜¯ setTimeout è°ƒç”¨ã€‚Promise å›è°ƒä½œä¸ºå¾®ä»»åŠ¡è€Œä¸æ˜¯ä»»åŠ¡è¿è¡Œï¼Œå› æ­¤ä¸ä¼š yield main thread</p>\n</blockquote>\n<p>åœ¨ saveSettings() å‡½æ•°ä¸­ï¼Œå¦‚æœåœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨å await yieldToMain() å‡½æ•°ï¼Œåˆ™å¯ä»¥åœ¨æ¯æ¬¡å·¥ä½œå yield to the main</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Create an array of functions to run:</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Loop over the tasks:</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Shift the first task off the tasks array:</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">    task();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Yield to the main thread:</span></span><br><span class=\"line\">    <span class=\"keyword\">await</span> yieldToMain();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ä½ ä¸å¿…åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨åéƒ½ yieldã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è¿è¡Œçš„ä¸¤ä¸ªå‡½æ•°ä¼šå¯¼è‡´ç”¨æˆ·ç•Œé¢çš„å…³é”®æ€§æ›´æ–°ï¼Œä½ å¯èƒ½ä¸æƒ³åœ¨å®ƒä»¬ä¹‹é—´ yieldã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œè®©è¿™äº› tast å…ˆè¿è¡Œï¼Œç„¶åè€ƒè™‘åœ¨é‚£äº›ä¸é‚£ä¹ˆå…³é”®çš„æˆ–ç”¨æˆ·çœ‹ä¸åˆ°çš„åå°å·¥ä½œçš„å‡½æ•°ä¹‹é—´è¿›è¡Œ yieldã€‚</p>\n</blockquote>\n<p>ç»“æœæ˜¯æ›¾ç»å•ä¸€çš„ä»»åŠ¡ç°åœ¨è¢«åˆ†è§£ä¸ºå•ç‹¬çš„ä»»åŠ¡</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/wg0FW6S29CzOCbbwk9kK.png?auto=format&w=1600\" alt=\"img_5\"></p>\n<p><em style=\"font-size:12px\">saveSettings() å‡½æ•°ç°åœ¨å°†å…¶å­å‡½æ•°ä½œä¸ºå•ç‹¬çš„ä»»åŠ¡æ‰§è¡Œã€‚</em></p>\n<p>ä½¿ç”¨åŸºäº Promise çš„æ–¹æ³•æ¥äº§ç”Ÿè€Œä¸æ˜¯æ‰‹åŠ¨ä½¿ç”¨ setTimeout() çš„å¥½å¤„æ˜¯æ›´å¥½çš„äººä½“å·¥ç¨‹å­¦ã€‚å±ˆæœç‚¹æˆä¸ºå£°æ˜æ€§çš„ï¼Œå› æ­¤æ›´å®¹æ˜“ç¼–å†™ã€é˜…è¯»å’Œç†è§£ã€‚</p>\n<h2 id=\"ä»…åœ¨å¿…è¦æ—¶-yield\"><a href=\"#ä»…åœ¨å¿…è¦æ—¶-yield\" class=\"headerlink\" title=\"ä»…åœ¨å¿…è¦æ—¶ yield\"></a>ä»…åœ¨å¿…è¦æ—¶ yield</h2><p>å¦‚æœæ‚¨æœ‰ä¸€å †ä»»åŠ¡ï¼Œä½†æ‚¨åªæƒ³åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è®©æ­¥æ€ä¹ˆåŠï¼Ÿè¿™å°±æ˜¯ isInputPending() çš„ç”¨é€”ã€‚</p>\n<p>isInputPending() æ˜¯ä¸€ä¸ªæ‚¨å¯ä»¥éšæ—¶è¿è¡Œä»¥ç¡®å®šç”¨æˆ·æ˜¯å¦æ­£åœ¨å°è¯•ä¸é¡µé¢å…ƒç´ äº¤äº’çš„å‡½æ•°ï¼šå¯¹ isInputPending() çš„è°ƒç”¨å°†è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚</p>\n<p>å‡è®¾æ‚¨å¯æœ‰ä¸€ä¸ªéœ€è¦è¿è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†æ‚¨ä¸æƒ³å¦¨ç¢ä»»ä½•è¾“å…¥ã€‚è¿™æ®µä»£ç  â€” å®ƒåŒæ—¶ä½¿ç”¨äº† isInputPending() å‡½æ•° â€” ç¡®ä¿åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è¾“å…¥ä¸ä¼šè¢«å»¶è¿Ÿã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// A task queue of functions</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Yield to a pending user input:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (navigator.scheduling.isInputPending()) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// There&#x27;s a pending user input. Yield here:</span></span><br><span class=\"line\">      <span class=\"keyword\">await</span> yieldToMain();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Shift the the task out of the queue:</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">      task();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å½“ saveSettings() è¿è¡Œæ—¶ï¼Œå®ƒå°†éå†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚å¦‚æœ isInputPending() åœ¨å¾ªç¯æœŸé—´è¿”å› trueï¼Œåˆ™ saveSettings() å°†è°ƒç”¨ yieldToMain() ä»¥ä¾¿å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚å¦åˆ™ï¼Œå®ƒå°†æŠŠä¸‹ä¸€ä¸ªä»»åŠ¡ç§»å‡ºé˜Ÿåˆ—çš„å‰é¢å¹¶ç»§ç»­è¿è¡Œå®ƒã€‚å®ƒå°†æ‰§è¡Œæ­¤æ“ä½œï¼Œç›´åˆ°æ²¡æœ‰å…¶ä»–ä»»åŠ¡ä¸ºæ­¢ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/snMl3kRlWyJjdbL0qsqM.png?auto=format&w=1600\" alt=\"img_5\"></p>\n<p><em style=\"font-size:12px\">saveSettings()è¿è¡Œä¸€ä¸ªæœ‰äº”ä¸ªä»»åŠ¡çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†åœ¨ç¬¬äºŒä¸ªå·¥ä½œé¡¹è¿è¡Œæ—¶ï¼Œç”¨æˆ·å·²ç»ç‚¹å‡»æ‰“å¼€äº†ä¸€ä¸ªèœå•ã€‚ isInputPending()è®©ä½äºä¸»çº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªäº¤äº’ï¼Œå¹¶æ¢å¤è¿è¡Œå…¶ä½™çš„ä»»åŠ¡ã€‚</em></p>\n<blockquote>\n<p>isInputPending()ä¸ä¸€å®šåœ¨ç”¨æˆ·è¾“å…¥åç«‹å³è¿”å›trueã€‚è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦æ—¶é—´æ¥å‘Šè¯‰æµè§ˆå™¨å‘ç”Ÿäº†äº¤äº’ã€‚è¿™æ„å‘³ç€å…¶ä»–ä»£ç å¯èƒ½å·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼ˆæ­£å¦‚ä½ åœ¨ä¸Šé¢çš„æˆªå›¾ä¸­çœ‹åˆ°çš„saveToDatabase()å‡½æ•°ï¼‰ã€‚å³ä½¿ä½ ä½¿ç”¨isInputPending()ï¼Œä½ ä»ç„¶è¦é™åˆ¶æ¯ä¸ªå‡½æ•°çš„å·¥ä½œé‡ï¼Œè¿™æ˜¯è‡³å…³é‡è¦çš„ã€‚</p>\n</blockquote>\n<p>å°† isInputPending() ä¸è®©æ­¥æœºåˆ¶ç»“åˆä½¿ç”¨æ˜¯è®©æµè§ˆå™¨åœæ­¢å…¶æ­£åœ¨å¤„ç†çš„ä»»ä½•ä»»åŠ¡ä»¥å“åº”å…³é”®çš„é¢å‘ç”¨æˆ·çš„äº¤äº’çš„å¥½æ–¹æ³•ã€‚è¿™å¯ä»¥å¸®åŠ©æé«˜æ‚¨çš„é¡µé¢åœ¨è®¸å¤šä»»åŠ¡æ­£åœ¨è¿›è¡Œæ—¶åœ¨è®¸å¤šæƒ…å†µä¸‹å“åº”ç”¨æˆ·çš„èƒ½åŠ›ã€‚</p>\n<p>å¦ä¸€ç§ä½¿ç”¨isInputPending()çš„æ–¹æ³•â€“ç‰¹åˆ«æ˜¯å¦‚æœä½ æ‹…å¿ƒä¸ºä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨æä¾›é€€è·¯â€“æ˜¯ä½¿ç”¨åŸºäºæ—¶é—´çš„æ–¹æ³•ä¸ å¯é€‰é“¾æ“ä½œç¬¦ ï¼ˆ?.ï¼‰</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// A task queue of functions</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> deadline = performance.now() + <span class=\"number\">50</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Optional chaining operator used here helps to avoid</span></span><br><span class=\"line\">    <span class=\"comment\">// errors in browsers that don&#x27;t support `isInputPending`:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (navigator.scheduling?.isInputPending() || performance.now() &gt;= deadline) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// There&#x27;s a pending user input, or the</span></span><br><span class=\"line\">      <span class=\"comment\">// deadline has been reached. Yield here:</span></span><br><span class=\"line\">      <span class=\"keyword\">await</span> yieldToMain();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Extend the deadline:</span></span><br><span class=\"line\">      deadline += <span class=\"number\">50</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Stop the execution of the current loop and</span></span><br><span class=\"line\">      <span class=\"comment\">// move onto the next iteration:</span></span><br><span class=\"line\">      <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Shift the the task out of the queue:</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">    task();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸ºä¸æ”¯æŒisInputPending()çš„æµè§ˆå™¨æä¾›ä¸€ä¸ªåå¤‡æ–¹æ¡ˆï¼Œå³ä½¿ç”¨ï¼ˆå¹¶è°ƒæ•´ï¼‰ä¸€ä¸ªæˆªæ­¢æ—¥æœŸï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶å°†å·¥ä½œåˆ†å¼€ï¼Œæ— è®ºæ˜¯é€šè¿‡å±ˆæœäºç”¨æˆ·è¾“å…¥ï¼Œè¿˜æ˜¯åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¹‹å‰ã€‚</p>\n<h2 id=\"å½“å‰-api-çš„å·®å¼‚\"><a href=\"#å½“å‰-api-çš„å·®å¼‚\" class=\"headerlink\" title=\"å½“å‰ api çš„å·®å¼‚\"></a>å½“å‰ api çš„å·®å¼‚</h2><p>åˆ°ç›®å‰ä¸ºæ­¢æåˆ°çš„APIå¯ä»¥å¸®åŠ©ä½ åˆ†è§£ä»»åŠ¡ï¼Œä½†å®ƒä»¬æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹ï¼šå½“ä½ é€šè¿‡æ¨è¿Ÿä»£ç åœ¨åç»­ä»»åŠ¡ä¸­è¿è¡Œè€Œå±ˆæœäºä¸»çº¿ç¨‹æ—¶ï¼Œè¯¥ä»£ç ä¼šè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ€æœ«ç«¯ã€‚</p>\n<p>å¦‚æœä½ æ§åˆ¶äº†ä½ é¡µé¢ä¸Šçš„æ‰€æœ‰ä»£ç ï¼Œå°±æœ‰å¯èƒ½åˆ›å»ºä½ è‡ªå·±çš„scheduler ï¼ˆå‚è€ƒ react å—ï¼ŒğŸ˜¯ï¼‰ï¼Œå¹¶èƒ½å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆæ’åºï¼Œä½†ç¬¬ä¸‰æ–¹è„šæœ¬ä¸ä¼šä½¿ç”¨ä½ çš„è°ƒåº¦å™¨ã€‚å®é™…ä¸Šï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œä½ å¹¶ä¸èƒ½çœŸæ­£åœ°å¯¹å·¥ä½œè¿›è¡Œä¼˜å…ˆæ’åºã€‚ä½ åªèƒ½æŠŠå®ƒåˆ†æˆå‡ å—ï¼Œæˆ–è€…æ˜ç¡®åœ°å±ˆä»äºç”¨æˆ·çš„äº’åŠ¨ã€‚</p>\n<p>å¹¸è¿çš„æ˜¯ï¼Œç›®å‰æœ‰ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦å™¨APIæ­£åœ¨å¼€å‘ä¸­ï¼Œå¯ä»¥è§£å†³è¿™äº›é—®é¢˜ã€‚</p>\n<h2 id=\"ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\"><a href=\"#ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\" class=\"headerlink\" title=\"ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\"></a>ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI</h2><p>è°ƒåº¦å™¨APIç›®å‰æä¾›äº†postTask()å‡½æ•°ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¯¥å‡½æ•°åœ¨Chromiumæµè§ˆå™¨å’ŒFirefoxçš„ä¸€ä¸ªæ ‡å¿—åé¢å¯ç”¨ã€‚ postTask()å…è®¸å¯¹ä»»åŠ¡è¿›è¡Œæ›´ç²¾ç»†çš„è°ƒåº¦ï¼Œæ˜¯å¸®åŠ©æµè§ˆå™¨ç¡®å®šå·¥ä½œä¼˜å…ˆçº§çš„ä¸€ç§æ–¹æ³•ï¼Œè¿™æ ·ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å°±ä¼šè®©ä½äºä¸»çº¿ç¨‹ã€‚ postTask()ä½¿ç”¨ Promiseï¼Œå¹¶æ¥å—ä¸€ä¸ªä¼˜å…ˆçº§è®¾ç½®ã€‚</p>\n<p>postTask() API å…·æœ‰ä¸‰ä¸ªå¯ä»¥ä½¿ç”¨çš„ priorities</p>\n<ul>\n<li>â€˜backgroundâ€™ : æœ€ä½ä¼˜å…ˆçº§ä»»åŠ¡ã€‚</li>\n<li>â€˜user-visibleâ€™ : ä¸­ç­‰ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œâ€œç”¨æˆ·å¯è§â€ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ä¼˜å…ˆçº§ï¼Œè¿™æ˜¯é»˜è®¤è®¾ç½®ã€‚</li>\n<li>â€˜user-blockingâ€™: ç”¨äºéœ€è¦é«˜ä¼˜å…ˆçº§è¿è¡Œçš„å…³é”®ä»»åŠ¡ã€‚</li>\n</ul>\n<p>ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼ŒpostTask()APIè¢«ç”¨æ¥ä»¥å°½å¯èƒ½é«˜çš„ä¼˜å…ˆçº§è¿è¡Œä¸‰ä¸ªä»»åŠ¡ï¼Œå¹¶ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§è¿è¡Œå…¶ä½™ä¸¤ä¸ªä»»åŠ¡ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Validate the form at high priority</span></span><br><span class=\"line\">  scheduler.postTask(validateForm, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;user-blocking&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Show the spinner at high priority:</span></span><br><span class=\"line\">  scheduler.postTask(showSpinner, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;user-blocking&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Update the database in the background:</span></span><br><span class=\"line\">  scheduler.postTask(saveToDatabase, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;background&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Update the user interface at high priority:</span></span><br><span class=\"line\">  scheduler.postTask(updateUI, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;user-blocking&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Send analytics data in the background:</span></span><br><span class=\"line\">  scheduler.postTask(sendAnalytics, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;background&#x27;</span>&#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>åœ¨è¿™é‡Œï¼Œä»»åŠ¡çš„ä¼˜å…ˆçº§ä»¥æµè§ˆå™¨ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆä¾‹å¦‚ç”¨æˆ·äº¤äº’ï¼‰å¯ä»¥æ­£å¸¸å·¥ä½œçš„æ–¹å¼å®‰æ’ã€‚</p>\n<div style=\"color:red\">å­ä»»åŠ¡æ‰§è¡Œé¡ºåºå·®å¼‚</div>\n\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ttvI1HqusI02CAdqhjWP.png?auto=format&w=1600\" alt=\"img_6\"></p>\n<p><em style=\"font-size:12px\">å½“saveSettings()è¿è¡Œæ—¶ï¼Œè¯¥å‡½æ•°ä½¿ç”¨postTask()å¯¹å„ä¸ªå‡½æ•°è¿›è¡Œè°ƒåº¦ã€‚é¢å‘ç”¨æˆ·çš„å…³é”®å·¥ä½œè¢«å®‰æ’åœ¨é«˜ä¼˜å…ˆçº§ï¼Œè€Œç”¨æˆ·ä¸çŸ¥é“çš„å·¥ä½œè¢«å®‰æ’åœ¨åå°è¿è¡Œã€‚è¿™ä½¿å¾—ç”¨æˆ·äº¤äº’çš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºå·¥ä½œè¢«åˆ†å‰²å¼€æ¥å¹¶è¢«é€‚å½“åœ°å®‰æ’äº†ä¼˜å…ˆæ¬¡åºã€‚</em></p>\n<p>è¿™æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ postTask() çš„ç®€å•ç¤ºä¾‹ã€‚å¯ä»¥å®ä¾‹åŒ–ä¸åŒçš„ TaskController å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åœ¨ä»»åŠ¡ä¹‹é—´å…±äº«ä¼˜å…ˆçº§ï¼ŒåŒ…æ‹¬æ ¹æ®éœ€è¦æ›´æ”¹ä¸åŒ TaskController å®ä¾‹çš„ä¼˜å…ˆçº§çš„èƒ½åŠ›ã€‚</p>\n<blockquote>\n<p>å¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ postTask()ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å¾æ£€æµ‹æ¥æŸ¥çœ‹å®ƒæ˜¯å¦å¯ç”¨ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ polyfill</p>\n</blockquote>\n<h2 id=\"å†…ç½®çš„-yield\"><a href=\"#å†…ç½®çš„-yield\" class=\"headerlink\" title=\"å†…ç½®çš„ yield\"></a>å†…ç½®çš„ yield</h2><p>è°ƒåº¦å™¨APIçš„ä¸€ä¸ªæ‹Ÿè®®çš„éƒ¨åˆ†ï¼Œç›®å‰æ²¡æœ‰åœ¨ä»»ä½•æµè§ˆå™¨ä¸­å®ç°ï¼Œå°±æ˜¯ä¸€ä¸ªå†…ç½®çš„ yield æœºåˆ¶ã€‚å®ƒçš„ä½¿ç”¨ç±»ä¼¼äºæœ¬æ–‡å‰é¢æ¼”ç¤ºçš„ yieldToMain() å‡½æ•°ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Create an array of functions to run:</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Loop over the tasks:</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Shift the first task off the tasks array:</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">    task();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Yield to the main thread with the scheduler</span></span><br><span class=\"line\">    <span class=\"comment\">// API&#x27;s own yielding mechanism:</span></span><br><span class=\"line\">    <span class=\"keyword\">await</span> scheduler.yield();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œä¸Šé¢çš„ä»£ç éå¸¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯æ‚¨æ²¡æœ‰ä½¿ç”¨ yieldToMain()ï¼Œè€Œæ˜¯è°ƒç”¨å¹¶ç­‰å¾… scheduler.yield()ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/fyuvJqAV0mLxfZDM9tAm.png?auto=format&w=1294\" alt=\"img_7\"></p>\n<p><em style=\"font-size:12px\">ä¸€ä¸ªæ²¡æœ‰yieldã€yieldã€yield å’Œ continuation çš„ä»»åŠ¡æ‰§è¡Œçš„å¯è§†åŒ–å›¾ã€‚å½“ä½¿ç”¨scheduler.yield()æ—¶ï¼Œä»»åŠ¡çš„æ‰§è¡Œç”šè‡³åœ¨å±ˆæœç‚¹ä¹‹åè¿˜èƒ½ç»§ç»­æ‰§è¡Œã€‚</em></p>\n<p>scheduler.yield() çš„å¥½å¤„æ˜¯continuationï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åœ¨ä¸€ç»„ä»»åŠ¡ä¸­é—´yieldï¼Œå…¶ä»–çš„è®¡åˆ’ä»»åŠ¡ä¼šåœ¨yieldç‚¹ä¹‹åä»¥åŒæ ·çš„é¡ºåºç»§ç»­æ‰§è¡Œã€‚è¿™å¯ä»¥é¿å…ç¬¬ä¸‰æ–¹è„šæœ¬ä¸­çš„ä»£ç ç¯¡å¤ºæ‚¨çš„ä»£ç æ‰§è¡Œé¡ºåºã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>ç®¡ç†ä»»åŠ¡æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ï¼Œä½†è¿™æ ·åšæœ‰åŠ©äºä½ çš„é¡µé¢å¯¹ç”¨æˆ·çš„äº’åŠ¨ä½œå‡ºæ›´å¿«é€Ÿçš„ååº”ã€‚åœ¨ç®¡ç†å’Œç¡®å®šä»»åŠ¡çš„ä¼˜å…ˆæ¬¡åºæ–¹é¢ï¼Œæ²¡æœ‰å•ä¸€çš„å»ºè®®ã€‚ç›¸åï¼Œå®ƒæ˜¯ä¸€äº›ä¸åŒçš„æŠ€æœ¯ã€‚é‡ç”³ä¸€ä¸‹ï¼Œè¿™äº›æ˜¯ä½ åœ¨ç®¡ç†ä»»åŠ¡æ—¶è¦è€ƒè™‘çš„ä¸»è¦äº‹é¡¹ã€‚</p>\n<ul>\n<li><p>è®©ç»™ä¸»çº¿ç¨‹ä»¥å®Œæˆå…³é”®çš„ã€é¢å‘ç”¨æˆ·çš„ä»»åŠ¡ã€‚</p>\n</li>\n<li><p>å½“ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶ï¼Œä½¿ç”¨ isInputPending() è®©æ­¥ç»™ä¸»çº¿ç¨‹ã€‚</p>\n</li>\n<li><p>ä½¿ç”¨ postTask() å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚</p>\n</li>\n<li><p>æœ€åï¼Œåœ¨ä½ çš„å‡½æ•°ä¸­åšå°½å¯èƒ½å°‘çš„å·¥ä½œã€‚</p>\n</li>\n</ul>\n<p>æœ‰äº†è¿™äº›å·¥å…·ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ„é€ å·¥ä½œï¼Œä½¿å…¶ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·çš„éœ€æ±‚ï¼ŒåŒæ—¶ç¡®ä¿ä¸å¤ªå…³é”®çš„å·¥ä½œä»ç„¶èƒ½å¤Ÿå®Œæˆã€‚è¿™å°†åˆ›é€ ä¸€ä¸ªæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå®ƒçš„å“åº”é€Ÿåº¦æ›´å¿«ï¼Œä½¿ç”¨èµ·æ¥æ›´æ„‰å¿«ã€‚</p>\n<p>Special thanks to Philip Walton for his technical vetting of this article.</p>\n<p>Hero image sourced from Unsplash, courtesy of Amirali Mirhashemian.</p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":8492,"excerpt":"<p>åŸæ–‡ï¼š<a href=\"https://web.dev/optimize-long-tasks/\">https://web.dev/optimize-long-tasks/</a></p>\n<blockquote>\n<p>ä½ æ›¾è¢«å‘Šè¯‰è¿‡ï¼Œä¸è¦é˜»å¡ä¸»çº¿ç¨‹å¹¶ä¸”åˆ†è§£ä½ çš„é•¿ä»»åŠ¡ï¼Œä½†æ˜¯æœ‰æƒ³è¿‡è¿™æ ·åšçš„æ„ä¹‰å—ï¼Ÿ</p>\n</blockquote>\n<p>å¦‚æœä½ è¯»äº†å¾ˆå¤šå…³äºç½‘ç«™æ€§èƒ½çš„èµ„æ–™, ä¿æŒ JavasScript åº”ç”¨ç¨‹åºå¿«é€Ÿè¿è¡Œçš„å»ºè®®å¾€å¾€æ¶‰åŠä»¥ä¸‹çš„å»ºè®®ï¼š</p>\n<ul>\n<li>ä¸è¦é˜»å¡ä¸»çº¿ç¨‹</li>\n<li>åˆ†è§£ä½ çš„é•¿ä»»åŠ¡</li>\n</ul>\n<p>é‚£è¿™äº›æ„å‘³ç€ä»€ä¹ˆï¼Ÿå‡å°‘ JavaScript æ˜¯å¥½çš„ï¼Œä½†è¿™æ˜¯å¦è‡ªåŠ¨ç­‰åŒåœ¨æ•´ä¸ªé¡µé¢ç”Ÿå‘½å‘¨æœŸä¸­æ›´å¿«é€Ÿçš„ç”¨æˆ·ç•Œé¢ï¼Ÿä¹Ÿè®¸æ˜¯ï¼Œä¹Ÿè®¸ä¸æ˜¯.</p>","more":"<h2 id=\"ä¸€ä¸ª-task-æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\"><a href=\"#ä¸€ä¸ª-task-æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\" class=\"headerlink\" title=\"ä¸€ä¸ª task æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ\"></a>ä¸€ä¸ª task æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h2><p>ä¸€ä¸ª task æ˜¯æµè§ˆå™¨æ‰€åšçš„ä»»ä½•ç¦»æ•£çš„å·¥ä½œï¼Œtask åŒ…æ‹¬è§£æ HTML å’Œ CSS, è¿è¡Œ JavaScript ä»£ç , ä»¥åŠä¸€äº›ä½ ä¸èƒ½ç›´æ¥æ§åˆ¶çš„äº‹æƒ…ã€‚å¯¹äºæ‰€æœ‰çš„è¿™äº›ï¼Œä½ æ‰€ç¼–å†™çš„å¹¶ä¸”éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ JavaScript æ˜¯ä¸»è¦çš„ä»»åŠ¡æ¥æºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.23.12.png\" alt=\"img_1\"></p>\n<p>Tasks ä»¥å¤šç§æ–¹å¼å½±å“æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå½“æµè§ˆå™¨åœ¨å¯åŠ¨æ—¶ä¸‹è½½ js æ–‡ä»¶æ—¶ï¼Œæµè§ˆå™¨å°†ä»»åŠ¡è¿›è¡Œæ’é˜Ÿå¹¶ä¸”ç¼–è¯‘ js ä»¥è®©å…¶èƒ½è¢«æ‰§è¡Œã€‚ç„¶ååœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œï¼ˆä¾‹å¦‚é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºé©±åŠ¨äº¤äº’ã€JavaScript é©±åŠ¨çš„åŠ¨ç”»å’Œåå°æ´»åŠ¨ï¼ˆä¾‹å¦‚åˆ†ææ”¶é›†ï¼‰ï¼‰å¯åŠ¨ä»»åŠ¡ã€‚æ‰€æœ‰çš„è¿™äº›ä¸œè¥¿ï¼Œé™¤äº† web worker å’Œç±»ä¼¼çš„ API éƒ½å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸Šã€‚</p>\n<h2 id=\"ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ-ï¼Ÿ\"><a href=\"#ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ-ï¼Ÿ\" class=\"headerlink\" title=\"ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ ï¼Ÿ\"></a>ä¸»çº¿ç¨‹æ˜¯ä»€ä¹ˆ ï¼Ÿ</h2><p>ä¸»çº¿ç¨‹æ˜¯å¤§å¤šæ•°ä»»åŠ¡åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„åœ°æ–¹ã€‚å®ƒè¢«ç§°ä¸ºä¸»çº¿ç¨‹çš„åŸå› æ˜¯ï¼šå®ƒæ˜¯æ‚¨ç¼–å†™çš„å‡ ä¹æ‰€æœ‰ JavaScript éƒ½åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­å·¥ä½œã€‚</p>\n<p>ä¸»çº¿ç¨‹ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ã€‚å½“ä»»åŠ¡è¶…å‡ºæŸä¸ªç¡®å®šçš„ç‚¹ï¼ˆå‡†ç¡®æ¥è¯´æ˜¯ 50ms ï¼‰æ—¶,å®ƒä»¬è¢«å½’ç±»ä¸ºé•¿ä»»åŠ¡ã€‚å¦‚æœç”¨æˆ·åœ¨é•¿æ—¶é—´çš„ä»»åŠ¡è¿è¡Œæ—¶å°è¯•ä¸é¡µé¢äº¤äº’ â€” æˆ–è€…å¦‚æœéœ€è¦è¿›è¡Œé‡è¦çš„æ¸²æŸ“æ›´æ–° â€” æµè§ˆå™¨å°†å»¶è¿Ÿå¤„ç†è¯¥å·¥ä½œã€‚è¿™ä¼šå¯¼è‡´äº¤äº’æˆ–æ¸²æŸ“å»¶è¿Ÿã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/2022-10-11%2019.42.24.png\" alt=\"img_2\"></p>\n<p><em style=\"font-size:12px\">Chromeæµè§ˆå™¨çš„æ€§èƒ½åˆ†æå™¨ä¸­æè¿°çš„é•¿ä»»åŠ¡ã€‚é•¿ä»»åŠ¡çš„è§’è½é‡Œæœ‰ä¸€ä¸ªçº¢è‰²çš„ä¸‰è§’å½¢ï¼Œä»»åŠ¡çš„é˜»å¡éƒ¨åˆ†ç”¨å¯¹è§’çº¿çš„çº¢è‰²æ¡çº¹å¡«å……</em></p>\n<p>ä½ éœ€è¦åˆ†è§£ä»»åŠ¡ã€‚è¿™æ„å‘³ç€å°†ä¸€ä¸ªé•¿ä»»åŠ¡åˆ’åˆ†ä¸ºè¾ƒå°çš„ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å•ç‹¬è¿è¡Œæ‰€éœ€çš„æ—¶é—´æ›´å°‘ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8Bhl9Ilki4tM0aC1nfn8.png?auto=format&w=1600\" alt=\"img_3\"></p>\n<p><em style=\"font-size:12px\">å•ä¸ªé•¿ä»»åŠ¡ä¸åŒä¸€ä»»åŠ¡åˆ†è§£ä¸ºäº”ä¸ªè¾ƒçŸ­ä»»åŠ¡çš„å¯è§†åŒ–</em></p>\n<p>è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œæµè§ˆå™¨æœ‰æ›´å¤šæœºä¼šå“åº”æ›´é«˜ä¼˜å…ˆçº§çš„å·¥ä½œâ€”â€”åŒ…æ‹¬ç”¨æˆ·äº¤äº’ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0yV0ynwW7FujIwvCbCxQ.png?auto=format&w=1600\" alt=\"img_3\"></p>\n<p><em style=\"font-size:12px\">å½“ä»»åŠ¡å¤ªé•¿ï¼Œæµè§ˆå™¨ä¸èƒ½å¯¹äº’åŠ¨åšå‡ºè¶³å¤Ÿå¿«çš„ååº”æ—¶ï¼Œä¸å°†è¾ƒé•¿çš„ä»»åŠ¡åˆ†è§£æˆè¾ƒå°çš„ä»»åŠ¡æ—¶ç›¸æ¯”ï¼Œäº’åŠ¨ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„æƒ…å†µï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„ç»“æœ</em></p>\n<p>å¦‚ä¸Šå›¾çš„ä¸ŠåŠéƒ¨åˆ†æ‰€è¿°ï¼Œç”±ç”¨æˆ·äº¤äº’æ’é˜Ÿçš„äº‹ä»¶å¤„ç†ç¨‹åºå¿…é¡»ç­‰å¾…ä¸€ä¸ªé•¿ä»»åŠ¡æ‰èƒ½è¿è¡Œã€‚è¿™å»¶è¿Ÿäº†äº¤äº’çš„å‘ç”Ÿã€‚åœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šæ›´å¿«åœ°è¿è¡Œã€‚å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæœ‰æœºä¼šåœ¨è¾ƒå°çš„ä»»åŠ¡ä¹‹é—´è¿è¡Œã€‚å®ƒè¿è¡Œå¾—æ¯”å®ƒå¿…é¡»ç­‰å¾…ä¸€ä¸ªå¾ˆé•¿çš„ä»»åŠ¡å®Œæˆè¦å¿«ã€‚åœ¨ä¸ŠåŠéƒ¨åˆ†ä¸­ï¼Œç”¨æˆ·å¯èƒ½å·²ç»æ„Ÿå—åˆ°äº†å»¶è¿Ÿï¼Œåœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œäº¤äº’å¯èƒ½æ˜¯å³æ—¶çš„ã€‚</p>\n<p>ç„¶è€Œï¼Œé—®é¢˜åœ¨äº â€œåˆ†è§£ä½ çš„é•¿ä»»åŠ¡â€ å’Œ â€œä¸è¦é˜»å¡ä¸»çº¿ç¨‹â€çš„å»ºè®®ä¸å¤Ÿå…·ä½“,é™¤éä½ å·²ç»çŸ¥é“å¦‚ä½•åšè¿™äº›äº‹æƒ…ï¼Œè¿™å°±æ˜¯æœ¬æŒ‡å—å°†è¦è§£é‡Šçš„å†…å®¹ã€‚</p>\n<h2 id=\"ä»»åŠ¡ç®¡ç†ç­–ç•¥\"><a href=\"#ä»»åŠ¡ç®¡ç†ç­–ç•¥\" class=\"headerlink\" title=\"ä»»åŠ¡ç®¡ç†ç­–ç•¥\"></a>ä»»åŠ¡ç®¡ç†ç­–ç•¥</h2><p>åœ¨è½¯ä»¶æ¶æ„ä¸­ï¼Œä¸€ä¸ªå¸¸è§å»ºè®®æ˜¯å°†æ‚¨çš„å·¥ä½œåˆ†è§£æ›´å°çš„åŠŸèƒ½ã€‚è¿™ä¸ºæ‚¨æä¾›äº†æ›´å¥½çš„ä»£ç å¯è¯»æ€§å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§çš„å¥½å¤„ã€‚è¿™ä½¿å¾—æµ‹è¯•æ›´å®¹æ˜“ç¼–å†™ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  validateForm();</span><br><span class=\"line\">  showSpinner();</span><br><span class=\"line\">  saveToDatabase();</span><br><span class=\"line\">  updateUI();</span><br><span class=\"line\">  sendAnalytics();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™é‡Œçš„ saveSettings å‡½æ•°ï¼Œåœ¨å®ƒè°ƒç”¨æ—¶ï¼Œå®ƒè°ƒç”¨äº†å…¶ä»–äº”ä¸ªå‡½æ•°ã€‚ä»æ¦‚å¿µä¸Šè®²ï¼Œè¿™æ˜¯å¾ˆå¥½çš„æ¶æ„ï¼Œå¦‚æœä½ éœ€è¦è°ƒè¯•è¿™äº›å‡½æ•°ä¸­çš„ä¸€ä¸ªï¼Œä½ å¯ä»¥ä¾¿åˆ©é¡¹ç›®æ ‘ä»¥å¼„æ¸…æ¯ä¸ªå‡½æ•°çš„ä½œç”¨ã€‚</p>\n<p>ç„¶è€Œï¼Œé—®é¢˜åœ¨äº JavaScript ä¸ä¼šå°†è¿™äº›å‡½æ•°ä¸­çš„æ¯ä¸€ä¸ªä½œä¸ºå•ç‹¬çš„ä»»åŠ¡è¿è¡Œï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ savaSettings å‡½æ•°ä¸­æ‰§è¡Œçš„ã€‚<strong>è¿™æ„å‘³ç€æ‰€æœ‰äº”ä¸ªåŠŸèƒ½éƒ½ä½œä¸ºå•ç‹¬ä»»åŠ¡è¿è¡Œã€‚</strong></p>\n<blockquote>\n<p>JavaScript ä»¥è¿™ç§æ–¹å¼å·¥ä½œæ˜¯å› ä¸ºå®ƒä½¿ç”¨ä»»åŠ¡æ‰§è¡Œçš„è¿è¡Œåˆ°å®Œæˆæ¨¡å‹ã€‚è¿™æ„å‘³ç€æ¯ä¸ªä»»åŠ¡å°†ä¸€ç›´è¿è¡Œåˆ°å®Œæˆï¼Œæ— è®ºå®ƒé˜»å¡ä¸»çº¿ç¨‹å¤šé•¿æ—¶é—´ã€‚</p>\n</blockquote>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/0c61l5DCix9y0GBa3pFj.png?auto=format&w=1600\" alt=\"img_4\"></p>\n<p><em style=\"font-size:12px\">è°ƒç”¨äº”ä¸ªå‡½æ•°çš„å•ä¸ªå‡½æ•° saveSettings()ã€‚è¿™é¡¹å·¥ä½œæ˜¯ä½œä¸ºä¸€é¡¹é•¿æœŸçš„æ•´ä½“ä»»åŠ¡çš„ä¸€éƒ¨åˆ†è¿è¡Œçš„</em></p>\n<p>åœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œå³ä½¿åªæ˜¯è¿™äº›åŠŸèƒ½ä¸­çš„ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥ä¸ºä»»åŠ¡çš„æ€»é•¿åº¦è´¡çŒ®50æ¯«ç§’æˆ–æ›´å¤šã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ›´å¤šçš„è¿™äº›ä»»åŠ¡å¯ä»¥è¿è¡Œç›¸å½“é•¿çš„æ—¶é—´â€“ç‰¹åˆ«æ˜¯åœ¨èµ„æºæœ‰é™çš„è®¾å¤‡ä¸Šã€‚ä¸‹é¢æ˜¯ä¸€å¥—ç­–ç•¥ï¼Œä½ å¯ä»¥ç”¨æ¥åˆ†è§£å’Œä¼˜å…ˆå¤„ç†ä»»åŠ¡ã€‚</p>\n<h2 id=\"æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\"><a href=\"#æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\" class=\"headerlink\" title=\"æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ\"></a>æ‰‹åŠ¨å»¶è¿Ÿä»£ç æ‰§è¡Œ</h2><p>å¼€å‘äººå‘˜ä½¿ç”¨çš„ä¸€ç§å°†ä»»åŠ¡åˆ†è§£æˆå°ä»»åŠ¡çš„æ–¹æ³•æ¶‰åŠåˆ° setTimeout(). ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œä½ æŠŠå‡½æ•°ä¼ ç»™ setTimeout è¿™å°†å›è°ƒçš„æ‰§è¡Œæ¨è¿Ÿåˆ°ä¸€ä¸ªå•ç‹¬çš„ä»»åŠ¡ä¸­ï¼Œå³æ—¶ä½ æŒ‡å®šçš„æ—¶é—´ä¸º 0ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// å®Œæˆç”¨æˆ·å¯è§çš„å…³é”®å·¥ä½œ:</span></span><br><span class=\"line\">  validateForm();</span><br><span class=\"line\">  showSpinner();</span><br><span class=\"line\">  updateUI();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// å°†ç”¨æˆ·ä¸å¯è§çš„å·¥ä½œæ¨è¿Ÿåˆ°å•ç‹¬çš„ä»»åŠ¡:</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    saveToDatabase();</span><br><span class=\"line\">    sendAnalytics();</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ‚¨æœ‰ä¸€ç³»åˆ—éœ€è¦æŒ‰é¡ºåºè¿è¡Œçš„å‡½æ•°ï¼Œè¿™å¾ˆæœ‰æ•ˆï¼Œä½†æ‚¨çš„ä»£ç å¯èƒ½å¹¶ä¸æ€»æ˜¯ä»¥è¿™ç§æ–¹å¼ç»„ç»‡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœ‰å¤§é‡æ•°æ®éœ€è¦å¾ªç¯å¤„ç†ï¼Œå¦‚æœæ‚¨æœ‰æ•°ç™¾ä¸‡ä¸ªé¡¹ç›®ï¼Œè¯¥ä»»åŠ¡å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">processData</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> item <span class=\"keyword\">of</span> largeDataArray) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Process the individual item here.</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ setTimeout æ˜¯å­˜åœ¨é—®é¢˜çš„, å› ä¸ºå®ƒçš„äººæœºå·¥ç¨‹å­¦ï¼ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ğŸ¤”ï¼ŒåŸæ–‡ï¼šergonomicsï¼‰ä½¿å…¶éš¾ä»¥å®ç°ï¼Œå¹¶ä¸”æ•´ä¸ªæ•°æ®æ•°ç»„å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´å¤„ç†ï¼Œå³ä½¿æ¯ä¸ªé¡¹ç›®éƒ½å¯ä»¥éå¸¸å¿«é€Ÿåœ°å¤„ç†ã€‚è¿™ä¸€åˆ‡åŠ èµ·æ¥ï¼ŒsetTimeout ä¸æ˜¯åˆé€‚çš„å·¥å…·ï¼Œè‡³å°‘åœ¨è¿™æ ·ä½¿ç”¨æ—¶ä¸æ˜¯ã€‚</p>\n<p>é™¤äº† setTimeout ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»– API å…è®¸æ‚¨å°†ä»£ç æ‰§è¡Œæ¨è¿Ÿåˆ°åç»­ä»»åŠ¡ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ postMessage æ¥åŠ å¿«è¶…æ—¶ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ requestIdleCallback() æ¥åˆ†è§£å·¥ä½œã€‚ ä½†æ˜¯è¦æ³¨æ„ â€“ requestIdleCallback() ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§å®‰æ’ä»»åŠ¡ï¼Œè€Œä¸”åªåœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´å†…è¿›è¡Œã€‚å½“ä¸»çº¿ç¨‹æ‹¥æŒ¤æ—¶,ç”¨ requestIdleCallback() å®‰æ’çš„ä»»åŠ¡å¯èƒ½æ°¸è¿œæ— æ³•è¿è¡Œã€‚</p>\n<h2 id=\"ä½¿ç”¨-async-await-yield-points\"><a href=\"#ä½¿ç”¨-async-await-yield-points\" class=\"headerlink\" title=\"ä½¿ç”¨ async/await yield points\"></a>ä½¿ç”¨ async/await yield points</h2><p>åœ¨æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªçŸ­è¯­æ˜¯ â€œyield to the main threadâ€ï¼Œä½†æ˜¯ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä½ è¦è¿™ä¹ˆåšï¼Ÿä½ ä»€ä¹ˆæ—¶å€™è¯¥è¿™æ ·åšï¼Ÿ</p>\n<blockquote>\n<p>å½“ä½  yield to the main threadï¼Œä½ ä¼šç»™å®ƒä¸€ä¸ªæœºä¼šæ¥å¤„ç†æ¯”å½“å‰æ’é˜Ÿçš„ä»»åŠ¡æ›´é‡è¦çš„ä»»åŠ¡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼ˆideallyï¼‰ï¼Œå½“ä½ æœ‰ä¸€äº›å…³é”®çš„é¢å‘ç”¨æˆ·çš„å·¥ä½œï¼Œéœ€è¦æ¯” yield æ›´æ—©åœ°æ‰§è¡Œæ—¶ï¼Œä½ åº”è¯¥ yield main threadï¼Œyield main thread å¯ä»¥ä¸ºå…³é”®å·¥ä½œåˆ›é€ æœºä¼šï¼Œä½¿å…¶æ›´å¿«åœ°è¿è¡Œã€‚</p>\n</blockquote>\n<p>å½“ä»»åŠ¡è¢«åˆ†è§£æ—¶ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥é€šè¿‡æµè§ˆå™¨å†…éƒ¨ä¼˜å…ˆçº§æ–¹æ¡ˆæ›´å¥½åœ°è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚yield main thread çš„æ–¹æ³•æ¶‰åŠåˆ°ä½¿ç”¨ä¸€ä¸ª Promise çš„ç»„åˆï¼Œè¯¥ç»„åˆä¸å¯¹ setTimeout() è¿›è¡Œçš„è°ƒç”¨è¿›è¡Œè§£æã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">yieldToMain</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(resolve, <span class=\"number\">0</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>è™½ç„¶è¿™ä¸ªä»£ç å®ä¾‹è¿”å›äº†ä¸€ä¸ªåœ¨è°ƒç”¨ setTimeout åè§£æçš„ Promise, ä½†è´Ÿè´£åœ¨æ–°ä»»åŠ¡ä¸­è¿è¡Œå¥‡é‡ä»£ç çš„å¹¶ä¸æ˜¯è¿™ä¸ª Promiseï¼Œè€Œæ˜¯ setTimeout è°ƒç”¨ã€‚Promise å›è°ƒä½œä¸ºå¾®ä»»åŠ¡è€Œä¸æ˜¯ä»»åŠ¡è¿è¡Œï¼Œå› æ­¤ä¸ä¼š yield main thread</p>\n</blockquote>\n<p>åœ¨ saveSettings() å‡½æ•°ä¸­ï¼Œå¦‚æœåœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨å await yieldToMain() å‡½æ•°ï¼Œåˆ™å¯ä»¥åœ¨æ¯æ¬¡å·¥ä½œå yield to the main</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Create an array of functions to run:</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Loop over the tasks:</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Shift the first task off the tasks array:</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">    task();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Yield to the main thread:</span></span><br><span class=\"line\">    <span class=\"keyword\">await</span> yieldToMain();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ä½ ä¸å¿…åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨åéƒ½ yieldã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è¿è¡Œçš„ä¸¤ä¸ªå‡½æ•°ä¼šå¯¼è‡´ç”¨æˆ·ç•Œé¢çš„å…³é”®æ€§æ›´æ–°ï¼Œä½ å¯èƒ½ä¸æƒ³åœ¨å®ƒä»¬ä¹‹é—´ yieldã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œè®©è¿™äº› tast å…ˆè¿è¡Œï¼Œç„¶åè€ƒè™‘åœ¨é‚£äº›ä¸é‚£ä¹ˆå…³é”®çš„æˆ–ç”¨æˆ·çœ‹ä¸åˆ°çš„åå°å·¥ä½œçš„å‡½æ•°ä¹‹é—´è¿›è¡Œ yieldã€‚</p>\n</blockquote>\n<p>ç»“æœæ˜¯æ›¾ç»å•ä¸€çš„ä»»åŠ¡ç°åœ¨è¢«åˆ†è§£ä¸ºå•ç‹¬çš„ä»»åŠ¡</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/wg0FW6S29CzOCbbwk9kK.png?auto=format&w=1600\" alt=\"img_5\"></p>\n<p><em style=\"font-size:12px\">saveSettings() å‡½æ•°ç°åœ¨å°†å…¶å­å‡½æ•°ä½œä¸ºå•ç‹¬çš„ä»»åŠ¡æ‰§è¡Œã€‚</em></p>\n<p>ä½¿ç”¨åŸºäº Promise çš„æ–¹æ³•æ¥äº§ç”Ÿè€Œä¸æ˜¯æ‰‹åŠ¨ä½¿ç”¨ setTimeout() çš„å¥½å¤„æ˜¯æ›´å¥½çš„äººä½“å·¥ç¨‹å­¦ã€‚å±ˆæœç‚¹æˆä¸ºå£°æ˜æ€§çš„ï¼Œå› æ­¤æ›´å®¹æ˜“ç¼–å†™ã€é˜…è¯»å’Œç†è§£ã€‚</p>\n<h2 id=\"ä»…åœ¨å¿…è¦æ—¶-yield\"><a href=\"#ä»…åœ¨å¿…è¦æ—¶-yield\" class=\"headerlink\" title=\"ä»…åœ¨å¿…è¦æ—¶ yield\"></a>ä»…åœ¨å¿…è¦æ—¶ yield</h2><p>å¦‚æœæ‚¨æœ‰ä¸€å †ä»»åŠ¡ï¼Œä½†æ‚¨åªæƒ³åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è®©æ­¥æ€ä¹ˆåŠï¼Ÿè¿™å°±æ˜¯ isInputPending() çš„ç”¨é€”ã€‚</p>\n<p>isInputPending() æ˜¯ä¸€ä¸ªæ‚¨å¯ä»¥éšæ—¶è¿è¡Œä»¥ç¡®å®šç”¨æˆ·æ˜¯å¦æ­£åœ¨å°è¯•ä¸é¡µé¢å…ƒç´ äº¤äº’çš„å‡½æ•°ï¼šå¯¹ isInputPending() çš„è°ƒç”¨å°†è¿”å› trueã€‚å¦åˆ™è¿”å› falseã€‚</p>\n<p>å‡è®¾æ‚¨å¯æœ‰ä¸€ä¸ªéœ€è¦è¿è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†æ‚¨ä¸æƒ³å¦¨ç¢ä»»ä½•è¾“å…¥ã€‚è¿™æ®µä»£ç  â€” å®ƒåŒæ—¶ä½¿ç”¨äº† isInputPending() å‡½æ•° â€” ç¡®ä¿åœ¨ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶è¾“å…¥ä¸ä¼šè¢«å»¶è¿Ÿã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// A task queue of functions</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Yield to a pending user input:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (navigator.scheduling.isInputPending()) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// There&#x27;s a pending user input. Yield here:</span></span><br><span class=\"line\">      <span class=\"keyword\">await</span> yieldToMain();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Shift the the task out of the queue:</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">      task();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å½“ saveSettings() è¿è¡Œæ—¶ï¼Œå®ƒå°†éå†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚å¦‚æœ isInputPending() åœ¨å¾ªç¯æœŸé—´è¿”å› trueï¼Œåˆ™ saveSettings() å°†è°ƒç”¨ yieldToMain() ä»¥ä¾¿å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚å¦åˆ™ï¼Œå®ƒå°†æŠŠä¸‹ä¸€ä¸ªä»»åŠ¡ç§»å‡ºé˜Ÿåˆ—çš„å‰é¢å¹¶ç»§ç»­è¿è¡Œå®ƒã€‚å®ƒå°†æ‰§è¡Œæ­¤æ“ä½œï¼Œç›´åˆ°æ²¡æœ‰å…¶ä»–ä»»åŠ¡ä¸ºæ­¢ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/snMl3kRlWyJjdbL0qsqM.png?auto=format&w=1600\" alt=\"img_5\"></p>\n<p><em style=\"font-size:12px\">saveSettings()è¿è¡Œä¸€ä¸ªæœ‰äº”ä¸ªä»»åŠ¡çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½†åœ¨ç¬¬äºŒä¸ªå·¥ä½œé¡¹è¿è¡Œæ—¶ï¼Œç”¨æˆ·å·²ç»ç‚¹å‡»æ‰“å¼€äº†ä¸€ä¸ªèœå•ã€‚ isInputPending()è®©ä½äºä¸»çº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªäº¤äº’ï¼Œå¹¶æ¢å¤è¿è¡Œå…¶ä½™çš„ä»»åŠ¡ã€‚</em></p>\n<blockquote>\n<p>isInputPending()ä¸ä¸€å®šåœ¨ç”¨æˆ·è¾“å…¥åç«‹å³è¿”å›trueã€‚è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦æ—¶é—´æ¥å‘Šè¯‰æµè§ˆå™¨å‘ç”Ÿäº†äº¤äº’ã€‚è¿™æ„å‘³ç€å…¶ä»–ä»£ç å¯èƒ½å·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼ˆæ­£å¦‚ä½ åœ¨ä¸Šé¢çš„æˆªå›¾ä¸­çœ‹åˆ°çš„saveToDatabase()å‡½æ•°ï¼‰ã€‚å³ä½¿ä½ ä½¿ç”¨isInputPending()ï¼Œä½ ä»ç„¶è¦é™åˆ¶æ¯ä¸ªå‡½æ•°çš„å·¥ä½œé‡ï¼Œè¿™æ˜¯è‡³å…³é‡è¦çš„ã€‚</p>\n</blockquote>\n<p>å°† isInputPending() ä¸è®©æ­¥æœºåˆ¶ç»“åˆä½¿ç”¨æ˜¯è®©æµè§ˆå™¨åœæ­¢å…¶æ­£åœ¨å¤„ç†çš„ä»»ä½•ä»»åŠ¡ä»¥å“åº”å…³é”®çš„é¢å‘ç”¨æˆ·çš„äº¤äº’çš„å¥½æ–¹æ³•ã€‚è¿™å¯ä»¥å¸®åŠ©æé«˜æ‚¨çš„é¡µé¢åœ¨è®¸å¤šä»»åŠ¡æ­£åœ¨è¿›è¡Œæ—¶åœ¨è®¸å¤šæƒ…å†µä¸‹å“åº”ç”¨æˆ·çš„èƒ½åŠ›ã€‚</p>\n<p>å¦ä¸€ç§ä½¿ç”¨isInputPending()çš„æ–¹æ³•â€“ç‰¹åˆ«æ˜¯å¦‚æœä½ æ‹…å¿ƒä¸ºä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨æä¾›é€€è·¯â€“æ˜¯ä½¿ç”¨åŸºäºæ—¶é—´çš„æ–¹æ³•ä¸ å¯é€‰é“¾æ“ä½œç¬¦ ï¼ˆ?.ï¼‰</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// A task queue of functions</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> deadline = performance.now() + <span class=\"number\">50</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Optional chaining operator used here helps to avoid</span></span><br><span class=\"line\">    <span class=\"comment\">// errors in browsers that don&#x27;t support `isInputPending`:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (navigator.scheduling?.isInputPending() || performance.now() &gt;= deadline) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// There&#x27;s a pending user input, or the</span></span><br><span class=\"line\">      <span class=\"comment\">// deadline has been reached. Yield here:</span></span><br><span class=\"line\">      <span class=\"keyword\">await</span> yieldToMain();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Extend the deadline:</span></span><br><span class=\"line\">      deadline += <span class=\"number\">50</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Stop the execution of the current loop and</span></span><br><span class=\"line\">      <span class=\"comment\">// move onto the next iteration:</span></span><br><span class=\"line\">      <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Shift the the task out of the queue:</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">    task();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸ºä¸æ”¯æŒisInputPending()çš„æµè§ˆå™¨æä¾›ä¸€ä¸ªåå¤‡æ–¹æ¡ˆï¼Œå³ä½¿ç”¨ï¼ˆå¹¶è°ƒæ•´ï¼‰ä¸€ä¸ªæˆªæ­¢æ—¥æœŸï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶å°†å·¥ä½œåˆ†å¼€ï¼Œæ— è®ºæ˜¯é€šè¿‡å±ˆæœäºç”¨æˆ·è¾“å…¥ï¼Œè¿˜æ˜¯åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¹‹å‰ã€‚</p>\n<h2 id=\"å½“å‰-api-çš„å·®å¼‚\"><a href=\"#å½“å‰-api-çš„å·®å¼‚\" class=\"headerlink\" title=\"å½“å‰ api çš„å·®å¼‚\"></a>å½“å‰ api çš„å·®å¼‚</h2><p>åˆ°ç›®å‰ä¸ºæ­¢æåˆ°çš„APIå¯ä»¥å¸®åŠ©ä½ åˆ†è§£ä»»åŠ¡ï¼Œä½†å®ƒä»¬æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹ï¼šå½“ä½ é€šè¿‡æ¨è¿Ÿä»£ç åœ¨åç»­ä»»åŠ¡ä¸­è¿è¡Œè€Œå±ˆæœäºä¸»çº¿ç¨‹æ—¶ï¼Œè¯¥ä»£ç ä¼šè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ€æœ«ç«¯ã€‚</p>\n<p>å¦‚æœä½ æ§åˆ¶äº†ä½ é¡µé¢ä¸Šçš„æ‰€æœ‰ä»£ç ï¼Œå°±æœ‰å¯èƒ½åˆ›å»ºä½ è‡ªå·±çš„scheduler ï¼ˆå‚è€ƒ react å—ï¼ŒğŸ˜¯ï¼‰ï¼Œå¹¶èƒ½å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆæ’åºï¼Œä½†ç¬¬ä¸‰æ–¹è„šæœ¬ä¸ä¼šä½¿ç”¨ä½ çš„è°ƒåº¦å™¨ã€‚å®é™…ä¸Šï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œä½ å¹¶ä¸èƒ½çœŸæ­£åœ°å¯¹å·¥ä½œè¿›è¡Œä¼˜å…ˆæ’åºã€‚ä½ åªèƒ½æŠŠå®ƒåˆ†æˆå‡ å—ï¼Œæˆ–è€…æ˜ç¡®åœ°å±ˆä»äºç”¨æˆ·çš„äº’åŠ¨ã€‚</p>\n<p>å¹¸è¿çš„æ˜¯ï¼Œç›®å‰æœ‰ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦å™¨APIæ­£åœ¨å¼€å‘ä¸­ï¼Œå¯ä»¥è§£å†³è¿™äº›é—®é¢˜ã€‚</p>\n<h2 id=\"ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\"><a href=\"#ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\" class=\"headerlink\" title=\"ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI\"></a>ä¸€ä¸ªä¸“é—¨çš„è°ƒåº¦ç¨‹åºAPI</h2><p>è°ƒåº¦å™¨APIç›®å‰æä¾›äº†postTask()å‡½æ•°ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¯¥å‡½æ•°åœ¨Chromiumæµè§ˆå™¨å’ŒFirefoxçš„ä¸€ä¸ªæ ‡å¿—åé¢å¯ç”¨ã€‚ postTask()å…è®¸å¯¹ä»»åŠ¡è¿›è¡Œæ›´ç²¾ç»†çš„è°ƒåº¦ï¼Œæ˜¯å¸®åŠ©æµè§ˆå™¨ç¡®å®šå·¥ä½œä¼˜å…ˆçº§çš„ä¸€ç§æ–¹æ³•ï¼Œè¿™æ ·ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å°±ä¼šè®©ä½äºä¸»çº¿ç¨‹ã€‚ postTask()ä½¿ç”¨ Promiseï¼Œå¹¶æ¥å—ä¸€ä¸ªä¼˜å…ˆçº§è®¾ç½®ã€‚</p>\n<p>postTask() API å…·æœ‰ä¸‰ä¸ªå¯ä»¥ä½¿ç”¨çš„ priorities</p>\n<ul>\n<li>â€˜backgroundâ€™ : æœ€ä½ä¼˜å…ˆçº§ä»»åŠ¡ã€‚</li>\n<li>â€˜user-visibleâ€™ : ä¸­ç­‰ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œâ€œç”¨æˆ·å¯è§â€ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ä¼˜å…ˆçº§ï¼Œè¿™æ˜¯é»˜è®¤è®¾ç½®ã€‚</li>\n<li>â€˜user-blockingâ€™: ç”¨äºéœ€è¦é«˜ä¼˜å…ˆçº§è¿è¡Œçš„å…³é”®ä»»åŠ¡ã€‚</li>\n</ul>\n<p>ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼ŒpostTask()APIè¢«ç”¨æ¥ä»¥å°½å¯èƒ½é«˜çš„ä¼˜å…ˆçº§è¿è¡Œä¸‰ä¸ªä»»åŠ¡ï¼Œå¹¶ä»¥å°½å¯èƒ½ä½çš„ä¼˜å…ˆçº§è¿è¡Œå…¶ä½™ä¸¤ä¸ªä»»åŠ¡ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Validate the form at high priority</span></span><br><span class=\"line\">  scheduler.postTask(validateForm, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;user-blocking&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Show the spinner at high priority:</span></span><br><span class=\"line\">  scheduler.postTask(showSpinner, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;user-blocking&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Update the database in the background:</span></span><br><span class=\"line\">  scheduler.postTask(saveToDatabase, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;background&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Update the user interface at high priority:</span></span><br><span class=\"line\">  scheduler.postTask(updateUI, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;user-blocking&#x27;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Send analytics data in the background:</span></span><br><span class=\"line\">  scheduler.postTask(sendAnalytics, &#123;<span class=\"attr\">priority</span>: <span class=\"string\">&#x27;background&#x27;</span>&#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>åœ¨è¿™é‡Œï¼Œä»»åŠ¡çš„ä¼˜å…ˆçº§ä»¥æµè§ˆå™¨ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆä¾‹å¦‚ç”¨æˆ·äº¤äº’ï¼‰å¯ä»¥æ­£å¸¸å·¥ä½œçš„æ–¹å¼å®‰æ’ã€‚</p>\n<div style=\"color:red\">å­ä»»åŠ¡æ‰§è¡Œé¡ºåºå·®å¼‚</div>\n\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ttvI1HqusI02CAdqhjWP.png?auto=format&w=1600\" alt=\"img_6\"></p>\n<p><em style=\"font-size:12px\">å½“saveSettings()è¿è¡Œæ—¶ï¼Œè¯¥å‡½æ•°ä½¿ç”¨postTask()å¯¹å„ä¸ªå‡½æ•°è¿›è¡Œè°ƒåº¦ã€‚é¢å‘ç”¨æˆ·çš„å…³é”®å·¥ä½œè¢«å®‰æ’åœ¨é«˜ä¼˜å…ˆçº§ï¼Œè€Œç”¨æˆ·ä¸çŸ¥é“çš„å·¥ä½œè¢«å®‰æ’åœ¨åå°è¿è¡Œã€‚è¿™ä½¿å¾—ç”¨æˆ·äº¤äº’çš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºå·¥ä½œè¢«åˆ†å‰²å¼€æ¥å¹¶è¢«é€‚å½“åœ°å®‰æ’äº†ä¼˜å…ˆæ¬¡åºã€‚</em></p>\n<p>è¿™æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ postTask() çš„ç®€å•ç¤ºä¾‹ã€‚å¯ä»¥å®ä¾‹åŒ–ä¸åŒçš„ TaskController å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åœ¨ä»»åŠ¡ä¹‹é—´å…±äº«ä¼˜å…ˆçº§ï¼ŒåŒ…æ‹¬æ ¹æ®éœ€è¦æ›´æ”¹ä¸åŒ TaskController å®ä¾‹çš„ä¼˜å…ˆçº§çš„èƒ½åŠ›ã€‚</p>\n<blockquote>\n<p>å¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ postTask()ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å¾æ£€æµ‹æ¥æŸ¥çœ‹å®ƒæ˜¯å¦å¯ç”¨ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ polyfill</p>\n</blockquote>\n<h2 id=\"å†…ç½®çš„-yield\"><a href=\"#å†…ç½®çš„-yield\" class=\"headerlink\" title=\"å†…ç½®çš„ yield\"></a>å†…ç½®çš„ yield</h2><p>è°ƒåº¦å™¨APIçš„ä¸€ä¸ªæ‹Ÿè®®çš„éƒ¨åˆ†ï¼Œç›®å‰æ²¡æœ‰åœ¨ä»»ä½•æµè§ˆå™¨ä¸­å®ç°ï¼Œå°±æ˜¯ä¸€ä¸ªå†…ç½®çš„ yield æœºåˆ¶ã€‚å®ƒçš„ä½¿ç”¨ç±»ä¼¼äºæœ¬æ–‡å‰é¢æ¼”ç¤ºçš„ yieldToMain() å‡½æ•°ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">saveSettings</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Create an array of functions to run:</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> tasks = [</span><br><span class=\"line\">    validateForm,</span><br><span class=\"line\">    showSpinner,</span><br><span class=\"line\">    saveToDatabase,</span><br><span class=\"line\">    updateUI,</span><br><span class=\"line\">    sendAnalytics</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Loop over the tasks:</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (tasks.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Shift the first task off the tasks array:</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> task = tasks.shift();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Run the task:</span></span><br><span class=\"line\">    task();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Yield to the main thread with the scheduler</span></span><br><span class=\"line\">    <span class=\"comment\">// API&#x27;s own yielding mechanism:</span></span><br><span class=\"line\">    <span class=\"keyword\">await</span> scheduler.yield();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œä¸Šé¢çš„ä»£ç éå¸¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯æ‚¨æ²¡æœ‰ä½¿ç”¨ yieldToMain()ï¼Œè€Œæ˜¯è°ƒç”¨å¹¶ç­‰å¾… scheduler.yield()ã€‚</p>\n<p><img src=\"https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/fyuvJqAV0mLxfZDM9tAm.png?auto=format&w=1294\" alt=\"img_7\"></p>\n<p><em style=\"font-size:12px\">ä¸€ä¸ªæ²¡æœ‰yieldã€yieldã€yield å’Œ continuation çš„ä»»åŠ¡æ‰§è¡Œçš„å¯è§†åŒ–å›¾ã€‚å½“ä½¿ç”¨scheduler.yield()æ—¶ï¼Œä»»åŠ¡çš„æ‰§è¡Œç”šè‡³åœ¨å±ˆæœç‚¹ä¹‹åè¿˜èƒ½ç»§ç»­æ‰§è¡Œã€‚</em></p>\n<p>scheduler.yield() çš„å¥½å¤„æ˜¯continuationï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åœ¨ä¸€ç»„ä»»åŠ¡ä¸­é—´yieldï¼Œå…¶ä»–çš„è®¡åˆ’ä»»åŠ¡ä¼šåœ¨yieldç‚¹ä¹‹åä»¥åŒæ ·çš„é¡ºåºç»§ç»­æ‰§è¡Œã€‚è¿™å¯ä»¥é¿å…ç¬¬ä¸‰æ–¹è„šæœ¬ä¸­çš„ä»£ç ç¯¡å¤ºæ‚¨çš„ä»£ç æ‰§è¡Œé¡ºåºã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>ç®¡ç†ä»»åŠ¡æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ï¼Œä½†è¿™æ ·åšæœ‰åŠ©äºä½ çš„é¡µé¢å¯¹ç”¨æˆ·çš„äº’åŠ¨ä½œå‡ºæ›´å¿«é€Ÿçš„ååº”ã€‚åœ¨ç®¡ç†å’Œç¡®å®šä»»åŠ¡çš„ä¼˜å…ˆæ¬¡åºæ–¹é¢ï¼Œæ²¡æœ‰å•ä¸€çš„å»ºè®®ã€‚ç›¸åï¼Œå®ƒæ˜¯ä¸€äº›ä¸åŒçš„æŠ€æœ¯ã€‚é‡ç”³ä¸€ä¸‹ï¼Œè¿™äº›æ˜¯ä½ åœ¨ç®¡ç†ä»»åŠ¡æ—¶è¦è€ƒè™‘çš„ä¸»è¦äº‹é¡¹ã€‚</p>\n<ul>\n<li><p>è®©ç»™ä¸»çº¿ç¨‹ä»¥å®Œæˆå…³é”®çš„ã€é¢å‘ç”¨æˆ·çš„ä»»åŠ¡ã€‚</p>\n</li>\n<li><p>å½“ç”¨æˆ·å°è¯•ä¸é¡µé¢äº¤äº’æ—¶ï¼Œä½¿ç”¨ isInputPending() è®©æ­¥ç»™ä¸»çº¿ç¨‹ã€‚</p>\n</li>\n<li><p>ä½¿ç”¨ postTask() å¯¹ä»»åŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚</p>\n</li>\n<li><p>æœ€åï¼Œåœ¨ä½ çš„å‡½æ•°ä¸­åšå°½å¯èƒ½å°‘çš„å·¥ä½œã€‚</p>\n</li>\n</ul>\n<p>æœ‰äº†è¿™äº›å·¥å…·ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ„é€ å·¥ä½œï¼Œä½¿å…¶ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·çš„éœ€æ±‚ï¼ŒåŒæ—¶ç¡®ä¿ä¸å¤ªå…³é”®çš„å·¥ä½œä»ç„¶èƒ½å¤Ÿå®Œæˆã€‚è¿™å°†åˆ›é€ ä¸€ä¸ªæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå®ƒçš„å“åº”é€Ÿåº¦æ›´å¿«ï¼Œä½¿ç”¨èµ·æ¥æ›´æ„‰å¿«ã€‚</p>\n<p>Special thanks to Philip Walton for his technical vetting of this article.</p>\n<p>Hero image sourced from Unsplash, courtesy of Amirali Mirhashemian.</p>"},{"title":"å¯¹javaScriptäº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ ","date":"2021-10-20T16:39:16.000Z","_content":"\n# å¯¹ javaScript äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \n\n## DOM æ ‘ç»“æ„\n\næˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šä¼šçœ‹è§ä¸€é¢— dom æ ‘ï¼Œè¿™æ ·çš„æ ‘çŠ¶ç»“æ„å†³å®šäº†äº‹ä»¶çš„å†’æ³¡ä¸æ•è·ã€‚\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Document</title>\n  </head>\n  <body>\n    <h1>hello Github Action</h1>\n    <div class=\"out-A\">\n      <div class=\"out-B\">\n        <div class=\"out-C\">hello, I'am C</div>\n      </div>\n    </div>\n  </body>\n</html>\n```\n\n<!--more-->\n\n## äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\n\n![äº‹ä»¶å†’æ³¡ä¸æ•è·](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bubbling-capturing.png)\n\n#### é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº† onclick ç‚¹å‡»äº‹ä»¶ã€‚\n\n##### 1.å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„ div æ ‡ç­¾æ—¶ï¼Œ\n\nä¼šå…ˆæ²¿ç€ window->document->parentNodes->EventTarget è·¯çº¿è¿›è¡Œäº‹ä»¶æ•è·ï¼Œåœ¨æ•è·æ—¶ä¼šè¿›è¡Œå¯¹æ¯ä¸ª html å¯¹è±¡è¯¢é—®æ˜¯å¦ç»‘å®šäº†è¯¥äº‹ä»¶çš„ listener,å¦‚æœæœ‰åˆ™æ‰§è¡Œå®ƒã€‚è€Œäº‹ä»¶å†’æ³¡åˆ™ä¸ä¸Šé¢è·¯çº¿ç›¸åï¼Œä½†è¯¢é—®è¡Œä¸ºç›¸åŒã€‚ ######ä¸€èˆ¬æˆ‘ä»¬ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¼šä½¿ç”¨ HTMLElement.addEventListener(type, listener, useCapture)ç»™å…¶æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™é‡Œçš„å‚æ•°è¯¦è§[EventTarget.addEventListener](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener)ã€‚éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°:\n\n```JavaScript\nuseCapture:boolean\n\nOR\n\n{\n\tcapture:boolean,\n\tonce:boolean,\n\tpassive:boolean\n}\n```\n\nè¿™é‡Œçš„ useCapture ä»¥åŠ capture å°±æ˜¯è®¾ç½®è¯¥äº‹ä»¶ listener æ˜¯å¦ä¼šåœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œé»˜è®¤ä¸º falseã€‚\n\n##### 2.æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\n\n###### è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„ divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\n\n![div](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/div.png)\n\n```javascript\nvar diva = document.querySelector(\".out-A\");\nvar divb = document.querySelector(\".out-B\");\nvar divc = document.querySelector(\".out-C\");\ndiva.addEventListener(\"click\", function () {\n  console.log(\"A\");\n});\ndivb.addEventListener(\"click\", function () {\n  console.log(\"B\");\n});\ndivc.addEventListener(\"click\", function () {\n  console.log(\"C\");\n});\n```\n\nç„¶åæˆ‘ä»¬ç‚¹å‡» C,å‡ºç°å¦‚ä¸‹ç»“æœï¼š\n![output](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/output.png)\nå¯ä»¥çœ‹è§ç‚¹å‡» C åå‡ºç°äº† C->B->A çš„è¾“å‡ºé¡ºåºï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç° CBA çš„è¾“å‡ºé¡ºåºå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ·»åŠ äº‹ä»¶æ—¶ï¼Œä½¿ç”¨äº† capture çš„é»˜è®¤å€¼ false,å³åœ¨äº‹ä»¶æ•è·é˜¶æ®µä¸ä¼šè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ã€‚\n\n###### å°† capture çš„å€¼è®¾ç½®ä¸º true\n\n```javascript\ndiva.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"A\");\n  },\n  true\n);\ndivb.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"B\");\n  },\n  true\n);\ndivc.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"C\");\n  },\n  true\n);\n```\n\nè¾“å‡ºç»“æœä¸ºï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202333.png)\nè¿™é‡Œå¯ä»¥çœ‹è§è¾“å‡ºç»“æœå˜ä¸ºäº† ABCï¼Œè¿™å°±æ˜¯ä»çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹çš„æ•è·ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ï¼Œå¦‚æœåªç»™èŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†ï¼Œè¿™æ ·åªä¼šè¿›è¡Œæ•è·æˆ–è€…å†’æ³¡ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.\n\n###### ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.\n\n```javascript\ndiva.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"A:capture=true\");\n  },\n  true\n);\ndivb.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"B:capture=true\");\n  },\n  true\n);\ndivc.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"C:capture=true\");\n  },\n  true\n);\n//   é»˜è®¤false\ndiva.addEventListener(\"click\", function () {\n  console.log(\"A:capture=false\");\n});\ndivb.addEventListener(\"click\", function () {\n  console.log(\"B:capture=false\");\n});\ndivc.addEventListener(\"click\", function () {\n  console.log(\"C:capture=false\");\n});\n```\n\næˆ‘ä»¬å†æ¬¡ç‚¹å‡» C,è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202341.png)\nçœ‹çœ‹ï¼Œè¿™é‡Œçš„ç»“æœè¡¨ç¤ºåŒæ—¶å‡ºç°äº†äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡ã€‚\n<font color=\"green\">åˆ°äº†è¿™é‡Œï¼Œæƒ³å¿…å¤§å®¶å¯¹äºäº‹ä»¶çš„æ•è·ä¸å†’æ³¡æµç¨‹æœ‰äº†ä¸€å®šçš„äº†è§£å§ã€‚</font>ä¸‹é¢æˆ‘ä»¬å†æ¥èŠèŠ Event.stopPropagation()ä¸ Event.preventDefault()\n\n## Event.stopPropagation()ä¸ Event.preventDefault()\n\n#### Event.stopPropagation()\n\n###### åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™ A:capture=trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š stopPropagation().çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\n\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202353.png)\n\n###### åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„ A å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ  stopPropagation åˆ° C çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨ C:capture=false é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\n\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110210005.png)\n\n###### åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\n\n##### çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\n\n- è€Œæ•´ä¸ªæµç¨‹æ˜¯ï¼š\n\n###### äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\n\n###### çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\n\n#### Event.preventDefault()\n\né‚£æŠŠä¸Šé¢çš„æ”¹æˆ preventDefault åˆä¼šæ˜¯æ€æ ·çš„ç»“æœå‘¢ï¼Ÿé‚£å°±è¯•è¯•çœ‹å’¯ï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202356.png)\næ²¡æœ‰å½±å“ï¼ï¼ï¼preventDefault åœ¨æ²¡æœ‰å¯¹äº‹ä»¶æ•è·äº§ç”Ÿå½±å“ï¼Œé‚£å†’æ³¡é˜¶æ®µå‘¢ï¼Ÿä¹Ÿæ²¡æœ‰å½±å“ã€‚æ‰€ä»¥ preventDefault åªæ˜¯å•çº¯çš„é˜»æ­¢äº† html å…ƒç´ çš„é»˜è®¤äº‹ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ª a æ ‡ç­¾èƒ½å¤Ÿè·³è½¬é“¾æ¥ï¼ŒåŠ ä¸Š preventDefault åå°±ä¸èƒ½è·³è½¬äº†ã€‚\n\n## æ€»ç»“\n\n###### æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ stopPropagation é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ capture çš„é»˜è®¤å€¼ï¼šfalse,è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨ capture ä¸º false çš„æƒ…å†µä¸‹ï¼Œç»™ EventTarget å…ƒç´ æ·»åŠ  stopPropagation å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘ EventTarget çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\n\nå‚è€ƒï¼š[JavaScript eventing deep dive](https://web.dev/eventing-deepdive/)\n","source":"_posts/å¯¹javaScriptäº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ .md","raw":"---\ntitle: å¯¹javaScriptäº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \ndate: 2021-10-21 00:39:16\ntags: Event\ncategories: javascript\n---\n\n# å¯¹ javaScript äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \n\n## DOM æ ‘ç»“æ„\n\næˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šä¼šçœ‹è§ä¸€é¢— dom æ ‘ï¼Œè¿™æ ·çš„æ ‘çŠ¶ç»“æ„å†³å®šäº†äº‹ä»¶çš„å†’æ³¡ä¸æ•è·ã€‚\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Document</title>\n  </head>\n  <body>\n    <h1>hello Github Action</h1>\n    <div class=\"out-A\">\n      <div class=\"out-B\">\n        <div class=\"out-C\">hello, I'am C</div>\n      </div>\n    </div>\n  </body>\n</html>\n```\n\n<!--more-->\n\n## äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\n\n![äº‹ä»¶å†’æ³¡ä¸æ•è·](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bubbling-capturing.png)\n\n#### é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº† onclick ç‚¹å‡»äº‹ä»¶ã€‚\n\n##### 1.å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„ div æ ‡ç­¾æ—¶ï¼Œ\n\nä¼šå…ˆæ²¿ç€ window->document->parentNodes->EventTarget è·¯çº¿è¿›è¡Œäº‹ä»¶æ•è·ï¼Œåœ¨æ•è·æ—¶ä¼šè¿›è¡Œå¯¹æ¯ä¸ª html å¯¹è±¡è¯¢é—®æ˜¯å¦ç»‘å®šäº†è¯¥äº‹ä»¶çš„ listener,å¦‚æœæœ‰åˆ™æ‰§è¡Œå®ƒã€‚è€Œäº‹ä»¶å†’æ³¡åˆ™ä¸ä¸Šé¢è·¯çº¿ç›¸åï¼Œä½†è¯¢é—®è¡Œä¸ºç›¸åŒã€‚ ######ä¸€èˆ¬æˆ‘ä»¬ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¼šä½¿ç”¨ HTMLElement.addEventListener(type, listener, useCapture)ç»™å…¶æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™é‡Œçš„å‚æ•°è¯¦è§[EventTarget.addEventListener](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener)ã€‚éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°:\n\n```JavaScript\nuseCapture:boolean\n\nOR\n\n{\n\tcapture:boolean,\n\tonce:boolean,\n\tpassive:boolean\n}\n```\n\nè¿™é‡Œçš„ useCapture ä»¥åŠ capture å°±æ˜¯è®¾ç½®è¯¥äº‹ä»¶ listener æ˜¯å¦ä¼šåœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œé»˜è®¤ä¸º falseã€‚\n\n##### 2.æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\n\n###### è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„ divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\n\n![div](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/div.png)\n\n```javascript\nvar diva = document.querySelector(\".out-A\");\nvar divb = document.querySelector(\".out-B\");\nvar divc = document.querySelector(\".out-C\");\ndiva.addEventListener(\"click\", function () {\n  console.log(\"A\");\n});\ndivb.addEventListener(\"click\", function () {\n  console.log(\"B\");\n});\ndivc.addEventListener(\"click\", function () {\n  console.log(\"C\");\n});\n```\n\nç„¶åæˆ‘ä»¬ç‚¹å‡» C,å‡ºç°å¦‚ä¸‹ç»“æœï¼š\n![output](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/output.png)\nå¯ä»¥çœ‹è§ç‚¹å‡» C åå‡ºç°äº† C->B->A çš„è¾“å‡ºé¡ºåºï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç° CBA çš„è¾“å‡ºé¡ºåºå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ·»åŠ äº‹ä»¶æ—¶ï¼Œä½¿ç”¨äº† capture çš„é»˜è®¤å€¼ false,å³åœ¨äº‹ä»¶æ•è·é˜¶æ®µä¸ä¼šè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ã€‚\n\n###### å°† capture çš„å€¼è®¾ç½®ä¸º true\n\n```javascript\ndiva.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"A\");\n  },\n  true\n);\ndivb.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"B\");\n  },\n  true\n);\ndivc.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"C\");\n  },\n  true\n);\n```\n\nè¾“å‡ºç»“æœä¸ºï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202333.png)\nè¿™é‡Œå¯ä»¥çœ‹è§è¾“å‡ºç»“æœå˜ä¸ºäº† ABCï¼Œè¿™å°±æ˜¯ä»çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹çš„æ•è·ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ï¼Œå¦‚æœåªç»™èŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†ï¼Œè¿™æ ·åªä¼šè¿›è¡Œæ•è·æˆ–è€…å†’æ³¡ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.\n\n###### ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.\n\n```javascript\ndiva.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"A:capture=true\");\n  },\n  true\n);\ndivb.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"B:capture=true\");\n  },\n  true\n);\ndivc.addEventListener(\n  \"click\",\n  function () {\n    console.log(\"C:capture=true\");\n  },\n  true\n);\n//   é»˜è®¤false\ndiva.addEventListener(\"click\", function () {\n  console.log(\"A:capture=false\");\n});\ndivb.addEventListener(\"click\", function () {\n  console.log(\"B:capture=false\");\n});\ndivc.addEventListener(\"click\", function () {\n  console.log(\"C:capture=false\");\n});\n```\n\næˆ‘ä»¬å†æ¬¡ç‚¹å‡» C,è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202341.png)\nçœ‹çœ‹ï¼Œè¿™é‡Œçš„ç»“æœè¡¨ç¤ºåŒæ—¶å‡ºç°äº†äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡ã€‚\n<font color=\"green\">åˆ°äº†è¿™é‡Œï¼Œæƒ³å¿…å¤§å®¶å¯¹äºäº‹ä»¶çš„æ•è·ä¸å†’æ³¡æµç¨‹æœ‰äº†ä¸€å®šçš„äº†è§£å§ã€‚</font>ä¸‹é¢æˆ‘ä»¬å†æ¥èŠèŠ Event.stopPropagation()ä¸ Event.preventDefault()\n\n## Event.stopPropagation()ä¸ Event.preventDefault()\n\n#### Event.stopPropagation()\n\n###### åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™ A:capture=trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š stopPropagation().çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\n\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202353.png)\n\n###### åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„ A å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ  stopPropagation åˆ° C çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨ C:capture=false é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\n\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110210005.png)\n\n###### åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\n\n##### çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\n\n- è€Œæ•´ä¸ªæµç¨‹æ˜¯ï¼š\n\n###### äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\n\n###### çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\n\n#### Event.preventDefault()\n\né‚£æŠŠä¸Šé¢çš„æ”¹æˆ preventDefault åˆä¼šæ˜¯æ€æ ·çš„ç»“æœå‘¢ï¼Ÿé‚£å°±è¯•è¯•çœ‹å’¯ï¼š\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202356.png)\næ²¡æœ‰å½±å“ï¼ï¼ï¼preventDefault åœ¨æ²¡æœ‰å¯¹äº‹ä»¶æ•è·äº§ç”Ÿå½±å“ï¼Œé‚£å†’æ³¡é˜¶æ®µå‘¢ï¼Ÿä¹Ÿæ²¡æœ‰å½±å“ã€‚æ‰€ä»¥ preventDefault åªæ˜¯å•çº¯çš„é˜»æ­¢äº† html å…ƒç´ çš„é»˜è®¤äº‹ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ª a æ ‡ç­¾èƒ½å¤Ÿè·³è½¬é“¾æ¥ï¼ŒåŠ ä¸Š preventDefault åå°±ä¸èƒ½è·³è½¬äº†ã€‚\n\n## æ€»ç»“\n\n###### æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ stopPropagation é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ capture çš„é»˜è®¤å€¼ï¼šfalse,è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨ capture ä¸º false çš„æƒ…å†µä¸‹ï¼Œç»™ EventTarget å…ƒç´ æ·»åŠ  stopPropagation å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘ EventTarget çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\n\nå‚è€ƒï¼š[JavaScript eventing deep dive](https://web.dev/eventing-deepdive/)\n","slug":"å¯¹javaScriptäº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ ","published":1,"updated":"2022-12-31T10:26:33.598Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nht7000t3kv76u81bgmy","content":"<h1 id=\"å¯¹-javaScript-äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \"><a href=\"#å¯¹-javaScript-äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \" class=\"headerlink\" title=\"å¯¹ javaScript äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \"></a>å¯¹ javaScript äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ </h1><h2 id=\"DOM-æ ‘ç»“æ„\"><a href=\"#DOM-æ ‘ç»“æ„\" class=\"headerlink\" title=\"DOM æ ‘ç»“æ„\"></a>DOM æ ‘ç»“æ„</h2><p>æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šä¼šçœ‹è§ä¸€é¢— dom æ ‘ï¼Œè¿™æ ·çš„æ ‘çŠ¶ç»“æ„å†³å®šäº†äº‹ä»¶çš„å†’æ³¡ä¸æ•è·ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>hello Github Action<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;out-A&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;out-B&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;out-C&quot;</span>&gt;</span>hello, I&#x27;am C<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<h2 id=\"äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\"><a href=\"#äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\" class=\"headerlink\" title=\"äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\"></a>äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹</h2><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bubbling-capturing.png\" alt=\"äº‹ä»¶å†’æ³¡ä¸æ•è·\"></p>\n<h4 id=\"é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº†-onclick-ç‚¹å‡»äº‹ä»¶ã€‚\"><a href=\"#é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº†-onclick-ç‚¹å‡»äº‹ä»¶ã€‚\" class=\"headerlink\" title=\"é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº† onclick ç‚¹å‡»äº‹ä»¶ã€‚\"></a>é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº† onclick ç‚¹å‡»äº‹ä»¶ã€‚</h4><h5 id=\"1-å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„-div-æ ‡ç­¾æ—¶ï¼Œ\"><a href=\"#1-å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„-div-æ ‡ç­¾æ—¶ï¼Œ\" class=\"headerlink\" title=\"1.å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„ div æ ‡ç­¾æ—¶ï¼Œ\"></a>1.å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„ div æ ‡ç­¾æ—¶ï¼Œ</h5><p>ä¼šå…ˆæ²¿ç€ window-&gt;document-&gt;parentNodes-&gt;EventTarget è·¯çº¿è¿›è¡Œäº‹ä»¶æ•è·ï¼Œåœ¨æ•è·æ—¶ä¼šè¿›è¡Œå¯¹æ¯ä¸ª html å¯¹è±¡è¯¢é—®æ˜¯å¦ç»‘å®šäº†è¯¥äº‹ä»¶çš„ listener,å¦‚æœæœ‰åˆ™æ‰§è¡Œå®ƒã€‚è€Œäº‹ä»¶å†’æ³¡åˆ™ä¸ä¸Šé¢è·¯çº¿ç›¸åï¼Œä½†è¯¢é—®è¡Œä¸ºç›¸åŒã€‚ ######ä¸€èˆ¬æˆ‘ä»¬ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¼šä½¿ç”¨ HTMLElement.addEventListener(type, listener, useCapture)ç»™å…¶æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™é‡Œçš„å‚æ•°è¯¦è§<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener\">EventTarget.addEventListener</a>ã€‚éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useCapture:boolean</span><br><span class=\"line\"></span><br><span class=\"line\">OR</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">capture</span>:boolean,</span><br><span class=\"line\">\t<span class=\"attr\">once</span>:boolean,</span><br><span class=\"line\">\t<span class=\"attr\">passive</span>:boolean</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„ useCapture ä»¥åŠ capture å°±æ˜¯è®¾ç½®è¯¥äº‹ä»¶ listener æ˜¯å¦ä¼šåœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œé»˜è®¤ä¸º falseã€‚</p>\n<h5 id=\"2-æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\"><a href=\"#2-æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\" class=\"headerlink\" title=\"2.æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\"></a>2.æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š</h5><h6 id=\"è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„-divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\"><a href=\"#è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„-divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\" class=\"headerlink\" title=\"è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„ divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\"></a>è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„ divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚</h6><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/div.png\" alt=\"div\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> diva = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&quot;.out-A&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> divb = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&quot;.out-B&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> divc = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&quot;.out-C&quot;</span>);</span><br><span class=\"line\">diva.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divb.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divc.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæˆ‘ä»¬ç‚¹å‡» C,å‡ºç°å¦‚ä¸‹ç»“æœï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/output.png\" alt=\"output\"><br>å¯ä»¥çœ‹è§ç‚¹å‡» C åå‡ºç°äº† C-&gt;B-&gt;A çš„è¾“å‡ºé¡ºåºï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç° CBA çš„è¾“å‡ºé¡ºåºå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ·»åŠ äº‹ä»¶æ—¶ï¼Œä½¿ç”¨äº† capture çš„é»˜è®¤å€¼ false,å³åœ¨äº‹ä»¶æ•è·é˜¶æ®µä¸ä¼šè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p>\n<h6 id=\"å°†-capture-çš„å€¼è®¾ç½®ä¸º-true\"><a href=\"#å°†-capture-çš„å€¼è®¾ç½®ä¸º-true\" class=\"headerlink\" title=\"å°† capture çš„å€¼è®¾ç½®ä¸º true\"></a>å°† capture çš„å€¼è®¾ç½®ä¸º true</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diva.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divb.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divc.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<p>è¾“å‡ºç»“æœä¸ºï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202333.png\"><br>è¿™é‡Œå¯ä»¥çœ‹è§è¾“å‡ºç»“æœå˜ä¸ºäº† ABCï¼Œè¿™å°±æ˜¯ä»çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹çš„æ•è·ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ï¼Œå¦‚æœåªç»™èŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†ï¼Œè¿™æ ·åªä¼šè¿›è¡Œæ•è·æˆ–è€…å†’æ³¡ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.</p>\n<h6 id=\"ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª-click-äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„-capture-è®¾ç½®ä¸º-true-å¦ä¸€ä¸ªä¸º-false\"><a href=\"#ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª-click-äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„-capture-è®¾ç½®ä¸º-true-å¦ä¸€ä¸ªä¸º-false\" class=\"headerlink\" title=\"ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.\"></a>ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diva.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A:capture=true&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divb.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B:capture=true&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divc.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C:capture=true&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//   é»˜è®¤false</span></span><br><span class=\"line\">diva.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A:capture=false&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divb.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B:capture=false&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divc.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C:capture=false&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å†æ¬¡ç‚¹å‡» C,è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202341.png\"><br>çœ‹çœ‹ï¼Œè¿™é‡Œçš„ç»“æœè¡¨ç¤ºåŒæ—¶å‡ºç°äº†äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡ã€‚<br><font color=\"green\">åˆ°äº†è¿™é‡Œï¼Œæƒ³å¿…å¤§å®¶å¯¹äºäº‹ä»¶çš„æ•è·ä¸å†’æ³¡æµç¨‹æœ‰äº†ä¸€å®šçš„äº†è§£å§ã€‚</font>ä¸‹é¢æˆ‘ä»¬å†æ¥èŠèŠ Event.stopPropagation()ä¸ Event.preventDefault()</p>\n<h2 id=\"Event-stopPropagation-ä¸-Event-preventDefault\"><a href=\"#Event-stopPropagation-ä¸-Event-preventDefault\" class=\"headerlink\" title=\"Event.stopPropagation()ä¸ Event.preventDefault()\"></a>Event.stopPropagation()ä¸ Event.preventDefault()</h2><h4 id=\"Event-stopPropagation\"><a href=\"#Event-stopPropagation\" class=\"headerlink\" title=\"Event.stopPropagation()\"></a>Event.stopPropagation()</h4><h6 id=\"åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™-A-capture-trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š-stopPropagation-çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\"><a href=\"#åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™-A-capture-trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š-stopPropagation-çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\" class=\"headerlink\" title=\"åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™ A:capture=trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š stopPropagation().çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\"></a>åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™ A:capture=trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š stopPropagation().çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š</h6><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202353.png\"></p>\n<h6 id=\"åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„-A-å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ -stopPropagation-åˆ°-C-çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨-C-capture-false-é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\"><a href=\"#åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„-A-å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ -stopPropagation-åˆ°-C-çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨-C-capture-false-é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\" class=\"headerlink\" title=\"åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„ A å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ  stopPropagation åˆ° C çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨ C:capture=false é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\"></a>åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„ A å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ  stopPropagation åˆ° C çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨ C:capture=false é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š</h6><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110210005.png\"></p>\n<h6 id=\"åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\"><a href=\"#åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\" class=\"headerlink\" title=\"åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\"></a>åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚</h6><h5 id=\"çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation-å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\"><a href=\"#çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation-å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\" class=\"headerlink\" title=\"çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\"></a>çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚</h5><ul>\n<li>è€Œæ•´ä¸ªæµç¨‹æ˜¯ï¼š</li>\n</ul>\n<h6 id=\"äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\"><a href=\"#äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\" class=\"headerlink\" title=\"äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\"></a>äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡</h6><h6 id=\"çˆ¶èŠ‚ç‚¹åˆ°-EventTarget-èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\"><a href=\"#çˆ¶èŠ‚ç‚¹åˆ°-EventTarget-èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\" class=\"headerlink\" title=\"çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\"></a>çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹</h6><h4 id=\"Event-preventDefault\"><a href=\"#Event-preventDefault\" class=\"headerlink\" title=\"Event.preventDefault()\"></a>Event.preventDefault()</h4><p>é‚£æŠŠä¸Šé¢çš„æ”¹æˆ preventDefault åˆä¼šæ˜¯æ€æ ·çš„ç»“æœå‘¢ï¼Ÿé‚£å°±è¯•è¯•çœ‹å’¯ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202356.png\"><br>æ²¡æœ‰å½±å“ï¼ï¼ï¼preventDefault åœ¨æ²¡æœ‰å¯¹äº‹ä»¶æ•è·äº§ç”Ÿå½±å“ï¼Œé‚£å†’æ³¡é˜¶æ®µå‘¢ï¼Ÿä¹Ÿæ²¡æœ‰å½±å“ã€‚æ‰€ä»¥ preventDefault åªæ˜¯å•çº¯çš„é˜»æ­¢äº† html å…ƒç´ çš„é»˜è®¤äº‹ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ª a æ ‡ç­¾èƒ½å¤Ÿè·³è½¬é“¾æ¥ï¼ŒåŠ ä¸Š preventDefault åå°±ä¸èƒ½è·³è½¬äº†ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><h6 id=\"æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨-stopPropagation-é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™-html-å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨-capture-çš„é»˜è®¤å€¼ï¼šfalse-è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨-capture-ä¸º-false-çš„æƒ…å†µä¸‹ï¼Œç»™-EventTarget-å…ƒç´ æ·»åŠ -stopPropagation-å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘-EventTarget-çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\"><a href=\"#æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨-stopPropagation-é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™-html-å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨-capture-çš„é»˜è®¤å€¼ï¼šfalse-è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨-capture-ä¸º-false-çš„æƒ…å†µä¸‹ï¼Œç»™-EventTarget-å…ƒç´ æ·»åŠ -stopPropagation-å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘-EventTarget-çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\" class=\"headerlink\" title=\"æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ stopPropagation é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ capture çš„é»˜è®¤å€¼ï¼šfalse,è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨ capture ä¸º false çš„æƒ…å†µä¸‹ï¼Œç»™ EventTarget å…ƒç´ æ·»åŠ  stopPropagation å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘ EventTarget çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\"></a>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ stopPropagation é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ capture çš„é»˜è®¤å€¼ï¼šfalse,è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨ capture ä¸º false çš„æƒ…å†µä¸‹ï¼Œç»™ EventTarget å…ƒç´ æ·»åŠ  stopPropagation å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘ EventTarget çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚</h6><p>å‚è€ƒï¼š<a href=\"https://web.dev/eventing-deepdive/\">JavaScript eventing deep dive</a></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":3868,"excerpt":"<h1 id=\"å¯¹-javaScript-äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \"><a href=\"#å¯¹-javaScript-äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \" class=\"headerlink\" title=\"å¯¹ javaScript äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ \"></a>å¯¹ javaScript äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·çš„å†å­¦ä¹ </h1><h2 id=\"DOM-æ ‘ç»“æ„\"><a href=\"#DOM-æ ‘ç»“æ„\" class=\"headerlink\" title=\"DOM æ ‘ç»“æ„\"></a>DOM æ ‘ç»“æ„</h2><p>æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šä¼šçœ‹è§ä¸€é¢— dom æ ‘ï¼Œè¿™æ ·çš„æ ‘çŠ¶ç»“æ„å†³å®šäº†äº‹ä»¶çš„å†’æ³¡ä¸æ•è·ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>hello Github Action<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;out-A&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;out-B&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;out-C&quot;</span>&gt;</span>hello, I&#x27;am C<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>","more":"<h2 id=\"äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\"><a href=\"#äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\" class=\"headerlink\" title=\"äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹\"></a>äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹</h2><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/bubbling-capturing.png\" alt=\"äº‹ä»¶å†’æ³¡ä¸æ•è·\"></p>\n<h4 id=\"é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº†-onclick-ç‚¹å‡»äº‹ä»¶ã€‚\"><a href=\"#é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº†-onclick-ç‚¹å‡»äº‹ä»¶ã€‚\" class=\"headerlink\" title=\"é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº† onclick ç‚¹å‡»äº‹ä»¶ã€‚\"></a>é¦–å…ˆï¼Œäº‹ä»¶å†’æ³¡æ•è·å»ºç«‹åœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº†ç›¸åŒç±»å‹çš„äº‹ä»¶ã€‚æ¯”å¦‚ï¼šéƒ½ç»‘å®šäº† onclick ç‚¹å‡»äº‹ä»¶ã€‚</h4><h5 id=\"1-å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„-div-æ ‡ç­¾æ—¶ï¼Œ\"><a href=\"#1-å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„-div-æ ‡ç­¾æ—¶ï¼Œ\" class=\"headerlink\" title=\"1.å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„ div æ ‡ç­¾æ—¶ï¼Œ\"></a>1.å½“æˆ‘ä»¬ç‚¹å‡»æœ€é‡Œé¢çš„ div æ ‡ç­¾æ—¶ï¼Œ</h5><p>ä¼šå…ˆæ²¿ç€ window-&gt;document-&gt;parentNodes-&gt;EventTarget è·¯çº¿è¿›è¡Œäº‹ä»¶æ•è·ï¼Œåœ¨æ•è·æ—¶ä¼šè¿›è¡Œå¯¹æ¯ä¸ª html å¯¹è±¡è¯¢é—®æ˜¯å¦ç»‘å®šäº†è¯¥äº‹ä»¶çš„ listener,å¦‚æœæœ‰åˆ™æ‰§è¡Œå®ƒã€‚è€Œäº‹ä»¶å†’æ³¡åˆ™ä¸ä¸Šé¢è·¯çº¿ç›¸åï¼Œä½†è¯¢é—®è¡Œä¸ºç›¸åŒã€‚ ######ä¸€èˆ¬æˆ‘ä»¬ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¼šä½¿ç”¨ HTMLElement.addEventListener(type, listener, useCapture)ç»™å…¶æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™é‡Œçš„å‚æ•°è¯¦è§<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener\">EventTarget.addEventListener</a>ã€‚éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useCapture:boolean</span><br><span class=\"line\"></span><br><span class=\"line\">OR</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">capture</span>:boolean,</span><br><span class=\"line\">\t<span class=\"attr\">once</span>:boolean,</span><br><span class=\"line\">\t<span class=\"attr\">passive</span>:boolean</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„ useCapture ä»¥åŠ capture å°±æ˜¯è®¾ç½®è¯¥äº‹ä»¶ listener æ˜¯å¦ä¼šåœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œé»˜è®¤ä¸º falseã€‚</p>\n<h5 id=\"2-æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\"><a href=\"#2-æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\" class=\"headerlink\" title=\"2.æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š\"></a>2.æˆ‘ä»¬ä»¥å¦‚ä¸‹ä¾‹å­ä¸ºä¾‹ï¼š</h5><h6 id=\"è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„-divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\"><a href=\"#è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„-divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\" class=\"headerlink\" title=\"è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„ divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚\"></a>è¿™é‡Œç»˜åˆ¶ä¸€ä¸ªä¸‰å±‚åµŒå¥—çš„ divï¼Œå¹¶ç»™å®ƒä»¬æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚</h6><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/div.png\" alt=\"div\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> diva = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&quot;.out-A&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> divb = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&quot;.out-B&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> divc = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&quot;.out-C&quot;</span>);</span><br><span class=\"line\">diva.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divb.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divc.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæˆ‘ä»¬ç‚¹å‡» C,å‡ºç°å¦‚ä¸‹ç»“æœï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/output.png\" alt=\"output\"><br>å¯ä»¥çœ‹è§ç‚¹å‡» C åå‡ºç°äº† C-&gt;B-&gt;A çš„è¾“å‡ºé¡ºåºï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç° CBA çš„è¾“å‡ºé¡ºåºå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ·»åŠ äº‹ä»¶æ—¶ï¼Œä½¿ç”¨äº† capture çš„é»˜è®¤å€¼ false,å³åœ¨äº‹ä»¶æ•è·é˜¶æ®µä¸ä¼šè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p>\n<h6 id=\"å°†-capture-çš„å€¼è®¾ç½®ä¸º-true\"><a href=\"#å°†-capture-çš„å€¼è®¾ç½®ä¸º-true\" class=\"headerlink\" title=\"å°† capture çš„å€¼è®¾ç½®ä¸º true\"></a>å°† capture çš„å€¼è®¾ç½®ä¸º true</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diva.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divb.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divc.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<p>è¾“å‡ºç»“æœä¸ºï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202333.png\"><br>è¿™é‡Œå¯ä»¥çœ‹è§è¾“å‡ºç»“æœå˜ä¸ºäº† ABCï¼Œè¿™å°±æ˜¯ä»çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹çš„æ•è·ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ï¼Œå¦‚æœåªç»™èŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†ï¼Œè¿™æ ·åªä¼šè¿›è¡Œæ•è·æˆ–è€…å†’æ³¡ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.</p>\n<h6 id=\"ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª-click-äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„-capture-è®¾ç½®ä¸º-true-å¦ä¸€ä¸ªä¸º-false\"><a href=\"#ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª-click-äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„-capture-è®¾ç½®ä¸º-true-å¦ä¸€ä¸ªä¸º-false\" class=\"headerlink\" title=\"ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.\"></a>ç»™ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸¤ä¸ª click äº‹ä»¶ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­ä¸€ä¸ªçš„ capture è®¾ç½®ä¸º true,å¦ä¸€ä¸ªä¸º false.</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diva.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A:capture=true&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divb.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B:capture=true&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\">divc.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">&quot;click&quot;</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C:capture=true&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">true</span></span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//   é»˜è®¤false</span></span><br><span class=\"line\">diva.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;A:capture=false&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divb.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;B:capture=false&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">divc.addEventListener(<span class=\"string\">&quot;click&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;C:capture=false&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å†æ¬¡ç‚¹å‡» C,è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202341.png\"><br>çœ‹çœ‹ï¼Œè¿™é‡Œçš„ç»“æœè¡¨ç¤ºåŒæ—¶å‡ºç°äº†äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡ã€‚<br><font color=\"green\">åˆ°äº†è¿™é‡Œï¼Œæƒ³å¿…å¤§å®¶å¯¹äºäº‹ä»¶çš„æ•è·ä¸å†’æ³¡æµç¨‹æœ‰äº†ä¸€å®šçš„äº†è§£å§ã€‚</font>ä¸‹é¢æˆ‘ä»¬å†æ¥èŠèŠ Event.stopPropagation()ä¸ Event.preventDefault()</p>\n<h2 id=\"Event-stopPropagation-ä¸-Event-preventDefault\"><a href=\"#Event-stopPropagation-ä¸-Event-preventDefault\" class=\"headerlink\" title=\"Event.stopPropagation()ä¸ Event.preventDefault()\"></a>Event.stopPropagation()ä¸ Event.preventDefault()</h2><h4 id=\"Event-stopPropagation\"><a href=\"#Event-stopPropagation\" class=\"headerlink\" title=\"Event.stopPropagation()\"></a>Event.stopPropagation()</h4><h6 id=\"åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™-A-capture-trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š-stopPropagation-çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\"><a href=\"#åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™-A-capture-trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š-stopPropagation-çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\" class=\"headerlink\" title=\"åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™ A:capture=trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š stopPropagation().çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š\"></a>åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ã€‚æˆ‘ä»¬ç»™ A:capture=trueï¼ˆæ•è·é˜¶æ®µï¼‰çš„é‚£ä¸ªäº‹ä»¶å¤„ç†åŠ ä¸Š stopPropagation().çœ‹çœ‹ä¸‹é¢çš„è¾“å‡ºï¼š</h6><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202353.png\"></p>\n<h6 id=\"åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„-A-å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ -stopPropagation-åˆ°-C-çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨-C-capture-false-é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\"><a href=\"#åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„-A-å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ -stopPropagation-åˆ°-C-çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨-C-capture-false-é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\" class=\"headerlink\" title=\"åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„ A å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ  stopPropagation åˆ° C çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨ C:capture=false é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š\"></a>åªè¾“å‡ºäº†æ•è·é˜¶æ®µçš„ A å¤„ç†å‡½æ•°ï¼Œåé¢å­èŠ‚ç‚¹çš„äº‹ä»¶å‡½æ•°éƒ½æ²¡æœ‰è§¦å‘ã€‚é‚£æˆ‘ä»¬åœ¨å†’æ³¡é˜¶æ®µæ·»åŠ è¿™ä¸€è¡Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢å°†æ·»åŠ  stopPropagation åˆ° C çš„å†’æ³¡å¤„ç†å‡½æ•°é‡Œï¼Œå³åœ¨ C:capture=false é‡Œé¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœï¼š</h6><p><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110210005.png\"></p>\n<h6 id=\"åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\"><a href=\"#åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\" class=\"headerlink\" title=\"åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚\"></a>åŒæ ·çš„ï¼Œäº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡æµç¨‹è¢«æˆªæ–­äº†ã€‚</h6><h5 id=\"çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation-å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\"><a href=\"#çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation-å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\" class=\"headerlink\" title=\"çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚\"></a>çœ‹åˆ°è¿™é‡Œï¼Œæƒ³å¿…æ˜ç™½äº†å§ï¼ŒstopPropagation å°±å¥½æ¯”ä¸€æŠŠâ€˜åˆ€â€™ï¼Œä½ æŠŠå®ƒæ·»åŠ åˆ°ä»€ä¹ˆé˜¶æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µåé¢çš„å°±ä¼šè¢«æˆªå»ã€‚</h5><ul>\n<li>è€Œæ•´ä¸ªæµç¨‹æ˜¯ï¼š</li>\n</ul>\n<h6 id=\"äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\"><a href=\"#äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\" class=\"headerlink\" title=\"äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡\"></a>äº‹ä»¶æ•è·åˆ°äº‹ä»¶å†’æ³¡</h6><h6 id=\"çˆ¶èŠ‚ç‚¹åˆ°-EventTarget-èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\"><a href=\"#çˆ¶èŠ‚ç‚¹åˆ°-EventTarget-èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\" class=\"headerlink\" title=\"çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹\"></a>çˆ¶èŠ‚ç‚¹åˆ° EventTarget èŠ‚ç‚¹å†åˆ°çˆ¶èŠ‚ç‚¹</h6><h4 id=\"Event-preventDefault\"><a href=\"#Event-preventDefault\" class=\"headerlink\" title=\"Event.preventDefault()\"></a>Event.preventDefault()</h4><p>é‚£æŠŠä¸Šé¢çš„æ”¹æˆ preventDefault åˆä¼šæ˜¯æ€æ ·çš„ç»“æœå‘¢ï¼Ÿé‚£å°±è¯•è¯•çœ‹å’¯ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202110202356.png\"><br>æ²¡æœ‰å½±å“ï¼ï¼ï¼preventDefault åœ¨æ²¡æœ‰å¯¹äº‹ä»¶æ•è·äº§ç”Ÿå½±å“ï¼Œé‚£å†’æ³¡é˜¶æ®µå‘¢ï¼Ÿä¹Ÿæ²¡æœ‰å½±å“ã€‚æ‰€ä»¥ preventDefault åªæ˜¯å•çº¯çš„é˜»æ­¢äº† html å…ƒç´ çš„é»˜è®¤äº‹ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ª a æ ‡ç­¾èƒ½å¤Ÿè·³è½¬é“¾æ¥ï¼ŒåŠ ä¸Š preventDefault åå°±ä¸èƒ½è·³è½¬äº†ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><h6 id=\"æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨-stopPropagation-é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™-html-å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨-capture-çš„é»˜è®¤å€¼ï¼šfalse-è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨-capture-ä¸º-false-çš„æƒ…å†µä¸‹ï¼Œç»™-EventTarget-å…ƒç´ æ·»åŠ -stopPropagation-å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘-EventTarget-çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\"><a href=\"#æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨-stopPropagation-é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™-html-å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨-capture-çš„é»˜è®¤å€¼ï¼šfalse-è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨-capture-ä¸º-false-çš„æƒ…å†µä¸‹ï¼Œç»™-EventTarget-å…ƒç´ æ·»åŠ -stopPropagation-å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘-EventTarget-çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\" class=\"headerlink\" title=\"æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ stopPropagation é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ capture çš„é»˜è®¤å€¼ï¼šfalse,è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨ capture ä¸º false çš„æƒ…å†µä¸‹ï¼Œç»™ EventTarget å…ƒç´ æ·»åŠ  stopPropagation å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘ EventTarget çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚\"></a>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ stopPropagation é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»™ html å…ƒç´ æ·»åŠ äº‹ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ capture çš„é»˜è®¤å€¼ï¼šfalse,è¿™æ ·å°±åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·é€šå¸¸æˆ‘ä»¬åªéœ€è¦åœ¨ capture ä¸º false çš„æƒ…å†µä¸‹ï¼Œç»™ EventTarget å…ƒç´ æ·»åŠ  stopPropagation å°±è¡Œäº†ï¼Œè¿™æ ·ï¼Œæ— è®ºåœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µéƒ½åªä¼šè§¦å‘ EventTarget çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚</h6><p>å‚è€ƒï¼š<a href=\"https://web.dev/eventing-deepdive/\">JavaScript eventing deep dive</a></p>"},{"title":"èŠèŠJavaScriptäº‹ä»¶å¾ªç¯","date":"2022-01-12T15:37:00.000Z","_content":"\n**äº‹æƒ…è¿˜å¾—ä»è¿™ä¹ˆä¸€é“é¢˜å¼€å§‹ï¼š**\n\n```javascript\nlet p = new Promise((resolve, reject) => {\n  console.log(\"p\");\n});\nsetTimeout(() => {\n  console.log(\"setTime\");\n}, 0);\nconsole.log(\"end\");\n```\n\nå„ä½æƒ³æƒ³ä¸‹é¢çš„è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆå§ï¼Ÿ\næˆ‘å…ˆè¯´ä¸€ä¸‹æˆ‘çš„ç­”æ¡ˆå§ï¼š\n\n> end\n> p\n> setTime\n\nä¸Šé¢çš„è¾“å‡ºæ˜¯é”™è¯¯çš„ ğŸ˜¥ï¼Œæˆ‘æ˜¯æ€ä¹ˆä¹Ÿä¸å¼€å¿ƒå•Šï¼Œäºæ˜¯æˆ‘å°±å¼€å§‹ç¿»éå„ç§èµ„æ–™ï¼Œå…¶ä¸­åŒ…æ‹¬ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€JavaScript äº‹ä»¶å¾ªç¯ã€Promise ç­‰ç­‰èµ„æ–™ã€‚ä¸‹é¢å°±è®©æˆ‘æ¥ç»†è¯´å§ã€‚\n\n<!-- more-->\n\n**é¦–å…ˆä»‹ç»å‡ ä¸ªé‡è¦çš„æ¦‚å¿µã€‚**\n\n## ç›¸å…³æ¦‚å¿µ\n\n### ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\n\nä»»åŠ¡æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š\n\n- ä¸€æ®µæ–°ç¨‹åºæˆ–å­ç¨‹åºè¢«ç›´æ¥æ‰§è¡Œæ—¶ï¼ˆæ¯”å¦‚ä»ä¸€ä¸ªæ§åˆ¶å°ï¼Œæˆ–åœ¨ä¸€ä¸ª &lt;script&gt; å…ƒç´ ä¸­è¿è¡Œä»£ç ï¼‰ã€‚\n- è§¦å‘äº†ä¸€ä¸ªäº‹ä»¶ï¼Œå°†å…¶**å›è°ƒå‡½æ•°**æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚\n- æ‰§è¡Œåˆ°ä¸€ä¸ªç”± setTimeout() æˆ– setInterval() åˆ›å»ºçš„ timeout æˆ– intervalï¼Œä»¥è‡´ç›¸åº”çš„**å›è°ƒå‡½æ•°**è¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚\n- setImmediate()å›è°ƒï¼ˆnodejsï¼‰\n- I/O\n- UI\n- postMessage\n- requestAnimationFrame\n\n### å¾®ä»»åŠ¡\n\n- promise.then(callback)ä¸­çš„**callback**ã€‚\n- MutationObserver\n- process.nextTick(Node.js)\n\n### æ‰§è¡Œæ ˆ\n\nå‡½æ•°çš„äº’ç›¸è°ƒç”¨ä¼šè®©å‡½æ•°æ ‘å½¢æˆä¸€ä¸ªè°ƒç”¨æ ˆï¼Œè€Œå‡½æ•°çš„æ‰§è¡Œä¼šæŒ‰ç…§è¿™ä¸ªæ ˆæ¥æ‰§è¡Œï¼Œå³åè¿›å…ˆæ‰§è¡Œã€‚æ‰§è¡Œæ ˆä¼šå ç”¨ JavaScript çš„ run timeã€‚\n\n### æ‰§è¡Œä¸Šä¸‹æ–‡\n\nJavaScript åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯è¿è¡Œåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ï¼Œæ¯ä¸€ä¸ªä¸Šä¸‹æ–‡æ‹¥æœ‰è‡ªå·±çš„å˜é‡ã€å¯¹è±¡ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰å¦‚ä¸‹å‡ ç±»ï¼š\n\n- å…¨å±€ä¸Šä¸‹æ–‡ï¼šåœ¨ JavaScript å¼€å§‹æ‰§è¡Œæ—¶ä¾¿åˆ›å»ºï¼Œæ˜¯æœ€åŸºç¡€çš„ä¸Šä¸‹æ–‡ã€‚\n- å‡½æ•°ä¸Šä¸‹æ–‡ï¼ˆå±€éƒ¨ä¸Šä¸‹æ–‡ï¼‰ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼šåˆ›å»ºï¼Œä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œä¼´éšä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡çš„äº§ç”Ÿã€‚\n- eval ä¸Šä¸‹æ–‡ï¼šä½¿ç”¨ eval å‡½æ•°æ‰€åˆ›å»ºçš„ä¸Šä¸‹æ–‡ã€‚\n\n### JavaScript RunTime\n\næ‰§è¡Œ js ä»£ç æ—¶ï¼Œè¿è¡Œæ—¶å¼•æ“æ‹¥æœ‰ä¸€ç³»åˆ—çš„ä»£ç†ï¼Œæ¯ä¸€ä¸ªä»£ç†ç”±ä¸€ç³»åˆ—çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€æ‰§è¡Œæ ˆã€ä¸»çº¿ç¨‹ã€é™„åŠ çº¿ç¨‹ï¼ˆworkerï¼‰ã€ä»»åŠ¡é˜Ÿåˆ—ã€å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¸¸è§çš„ JavaScript run time æœ‰ iframeã€web workerã€JavaScript ä¸»çº¿ç¨‹ã€‚\n\n### äº‹ä»¶å¾ªç¯\n\näº‹ä»¶å¾ªç¯è´Ÿè´£æ”¶é›†ç”¨äº‹ä»¶ï¼ˆåŒ…æ‹¬ç”¨æˆ·äº‹ä»¶ä»¥åŠå…¶ä»–éç”¨æˆ·äº‹ä»¶ç­‰ï¼‰ã€å¯¹ä»»åŠ¡è¿›è¡Œæ’é˜Ÿä»¥ä¾¿åœ¨åˆé€‚çš„æ—¶å€™æ‰§è¡Œå›è°ƒã€‚ç„¶åå®ƒæ‰§è¡Œæ‰€æœ‰å¤„äºç­‰å¾…ä¸­çš„ JavaScript ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰ï¼Œç„¶åæ˜¯å¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯ä¹‹å‰æ‰§è¡Œä¸€äº›å¿…è¦çš„æ¸²æŸ“å’Œç»˜åˆ¶æ“ä½œã€‚æ¯ä¸€ä¸ª JavaScript run time éƒ½ä¼šæ‹¥æœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ï¼ŒRunTime é‡Œé¢çš„ä»£ç†ç”±äº‹ä»¶å¾ªç¯æ‰€é©±åŠ¨ã€‚\n**äº‹ä»¶å¾ªç¯åˆ†ä¸ºä¸‰ç±»ï¼š**\n\n#### window event loop\n\né©±åŠ¨åŒæºçš„çª—å£ï¼ˆFrame,Tabï¼‰çš„äº‹ä»¶å¾ªç¯ï¼Œæ¥è‡ªç›¸åŒ origin çš„ window å¯èƒ½å…±äº«åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯\n\n#### worker event loop\n\né©±åŠ¨ worker æ‰§è¡Œï¼ˆweb workersã€ shared workersã€service workersï¼‰worker æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸ä¸»ç¨‹åºä¸åŒçš„ä»£ç†ã€‚\n\n#### worklet event loop\n\né©±åŠ¨ worklet ä»£ç†çš„è¿è¡Œã€‚worklet çš„ç±»å‹åŒ…æ‹¬ï¼ˆWorkletã€AudioWorkletã€PaintWorkletï¼‰ã€‚\n\n### Promise\n\nä¸€ç§å¼‚æ­¥ JavaScript çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å¯¹å¼‚æ­¥æ–¹æ³•çš„è¿”å›å€¼çš„ä¸€ç§æè¿°ï¼Œç”¨äºåœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å°†å¼‚æ­¥ç»“æœè¿”å›ç»™ä½¿ç”¨è€…ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ then é“¾å¼è°ƒç”¨ã€‚\n\n## äº‹ä»¶å¾ªç¯æœºåˆ¶\n\nåœ¨æ¯ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶ï¼ŒRunTime ä¼šä»ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¦‚æœä»»åŠ¡é‡Œé¢åˆæ·»åŠ äº†æ–°ä»»åŠ¡åˆ°é˜Ÿåˆ—é‡Œé¢ï¼Œæ–°ä»»åŠ¡ä¸ä¼šå†æœ¬è½®äº‹ä»¶å¾ªç¯é‡Œå»æ‰§è¡Œã€‚å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—æ—¶ï¼Œå¹¶ä¸”æ‰§è¡Œæ ˆä½ç©ºæ—¶ï¼Œè¿™æ—¶ä¼šå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡ä¸ä¼šåƒä»»åŠ¡é‚£æ ·æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªï¼Œè€Œæ˜¯å°†å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå³ä½¿æ˜¯åœ¨æ‰§è¡Œå¾®ä»»åŠ¡æ—¶æœ‰æ–°çš„å¾®ä»»åŠ¡åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœ¨ä¸‹ä¸€ä¸ªä»»åŠ¡å¼€å§‹ä»¥åŠäº‹ä»¶å¾ªç¯è¿­ä»£ç»“æŸä¹‹å‰ä¾ç„¶ä¼šæ‰§è¡Œå¾®ä»»åŠ¡ã€‚\nOKï¼Œè¯´åˆ°è¿™å„¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åˆ†æä»¥ä¸‹åˆšæ‰çš„é¢˜äº†ã€‚\n\n## é¢˜ç›®åˆ†æ\n\n```javascript\nlet p = new Promise((resolve, reject) => {\n  console.log(\"p\");\n});\nsetTimeout(() => {\n  console.log(\"setTime\");\n}, 0);\nconsole.log(\"end\");\n```\n\n**æœ€å¼€å§‹ï¼š**å°†æ•´ä½“ä»£ç ï¼ˆä¸€æ®µæ–°ç¨‹åºï¼‰åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š\n![1](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122218.png)\n\næ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»…æœ‰æ•´ä½“ç¨‹åºï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚æ•´ä½“ç¨‹åºå°†è¿›å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚\n**åˆ›å»º promise å¯¹è±¡ï¼š**åœ¨åˆ›å»º promise å¯¹è±¡æ—¶ï¼Œä¼ å…¥äº†å¯é€‰å‚æ•°å³ï¼š\n\n> (resolve,reject)=>{\n> console.log('p');\n> }\n\nè€Œ Promise æ„é€ å™¨å°†ä¼šåœ¨è¿”å›æ–°å¯¹è±¡ä¹‹å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°å‚æ•°ã€‚æ‰€ä»¥åœ¨æ‰§è¡Œæ ˆä¸­ä¼šæ‰§è¡Œ console.log('p')ï¼Œæ‰“å°å‡º 'p'ã€‚\n**æ‰§è¡Œå®šæ—¶å™¨ï¼š**æ‰§è¡Œå®šæ—¶å™¨ï¼Œä¼šåœ¨ä¼ å…¥çš„å»¶è¿Ÿæ—¶é—´ä¹‹åå°†å›è°ƒå‡½æ•°åŠ å…¥é˜Ÿåˆ—ï¼ŒåŠ å…¥ä»€ä¹ˆé˜Ÿåˆ—å‘¢ï¼Œè¿™é‡ŒåŠ å…¥çš„æ˜¯ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸º settimeoout çš„å›è°ƒå±äºå®ä»»åŠ¡ã€‚ä¹‹åï¼Œå½“å‰æ‰§è¡Œæ ˆä¸ä¸ºç©ºï¼Œä¼šç»§ç»­æ‰§è¡Œã€‚\n**æ‰“å° end:**åœ¨æ‰§è¡Œ console.log('end')åï¼Œç°åœ¨æ‰§è¡Œæ ˆä¸ºç©ºäº†ï¼Œæ•´ä½“ç¨‹åºå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—æ˜¯**ä¸ä¸ºç©ºçš„**ï¼ˆåŒ…å«å®šæ—¶å™¨çš„å›è°ƒ()=>{console.log('setTime')}ï¼‰\n\næ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š\n![2](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122230.png)\nè¿™æ—¶çš„ä»»åŠ¡é˜Ÿåˆ—åŒ…æ‹¬å®šæ—¶å™¨çš„å›è°ƒï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¾ç„¶ä¸ºç©ºï¼ˆè¿™é“é¢˜å°±æ²¡æ¶‰åŠåˆ°å¾®ä»»åŠ¡ã€‚ã€‚ã€‚ï¼‰ã€‚éšåå®šæ—¶å™¨å›è°ƒå°†è¿›å…¥æ‰§è¡Œæ ˆï¼Œæ‰“å°å‡º setTimeã€‚æ‰€ä»¥æœ€ç»ˆçš„æ‰“å°ç»“æœä¸ºï¼š\n\n> p\n> end\n> setTime\n\n**è¿™é‡Œå°±æ³¨æ„ promise çš„æ„å»ºå°±è¡Œäº†ï¼Œæ˜¯ç«‹å³æ‰§è¡Œï¼Œæˆ‘é”™çš„æ˜¯åº”ä¸ºå®ƒä¼šè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è€Œ Promise è¿›å…¥å¾®ä»»åŠ¡çš„æ˜¯ then çš„å›è°ƒå‡½æ•°ã€‚**\n\n## æ‰©å±•é¢˜ç›®\n\nä¸Šé¢çš„é¢˜æ²¡æœ‰æ¶‰åŠå¾®ä»»åŠ¡ï¼Œé‚£æˆ‘ä»¬æ”¹æ”¹åŸé¢˜ç›®çœ‹çœ‹ï¼š\n\n```javascript\nconst p_2 = new Promise((res, rej) => {\n  console.log(\"p_2\");\n  // å®šæ—¶å™¨1\n  setTimeout(() => {\n    res(\"å®šæ—¶å™¨1\");\n  }, 0);\n}).then((v) => console.log(v));\n// å®šæ—¶å™¨2\nsetTimeout(() => {\n  console.log(\"å®šæ—¶å™¨2\");\n}, 0);\nconsole.log(\"end\");\n```\n\nä¸Šé¢æ–°å¢çš„æ˜¯åœ¨åˆ›å»º Promise å¯¹è±¡æ—¶å¢åŠ äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œä»¥åŠå¢åŠ äº†å¯¹ then çš„å›è°ƒã€‚\nä¾æ—§ä»æ•´ä½“ç¨‹åºå¼€å§‹ï¼Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“æ•´ä½“ç¨‹åºæ‰§è¡Œå®Œæ—¶ï¼Œè¿™æ—¶çš„ RunTime æƒ…å†µå¦‚ä¸‹ï¼š\n![3](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122252.png)\næ­¤æ—¶è¾“å‡ºä¸ºï¼š\n\n> p_2\n> end\n\næŒ‰ç…§é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œå®šæ—¶å™¨ 1 å…ˆè¿›å…¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥å…¶å…ˆäºå®šæ—¶å™¨ 2 æ‰§è¡Œã€‚æ­¤æ—¶å®šæ—¶å™¨ 1 çš„å›è°ƒè¿›å…¥æ‰§è¡Œæ ˆæ‰§è¡Œï¼Œæ‰§è¡Œ res('å®šæ—¶å™¨ 1')æ”¹å˜ promise çš„çŠ¶æ€ä¸º resolve,å°† then çš„å›è°ƒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ­¤æ—¶ RunTime çš„æƒ…å†µå¦‚ä¸‹ï¼š\n![4](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122258.png)\n\nå®šæ—¶å™¨ 1 æ‰§è¡Œå®Œæ¯•å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œåï¼Œæ£€ç´¢å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿™æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—å­˜åœ¨ä¸€ä¸ª then å›è°ƒï¼Œæ‰€ä»¥å°†å…¶åŠ å…¥æ‰§è¡Œæ ˆã€‚\n\nç°åœ¨çš„è¾“å‡ºæ˜¯ï¼š\n\n> p_2\n> end\n> å®šæ—¶å™¨ 1\n\næœ€ç»ˆï¼Œåªå‰©ä¸‹äº†ä»»åŠ¡é˜Ÿåˆ—çš„å®šæ—¶å™¨ 2 å›è°ƒï¼Œé‡å¤æ—¶é—´å¾ªç¯ï¼Œå°†å®šæ—¶å™¨ 2 çš„å›è°ƒåŠ å…¥æ‰§è¡Œæ ˆå¹¶æ‰§è¡Œã€‚æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸ºï¼š\n\n> p_2\n> end\n> å®šæ—¶å™¨ 1\n> å®šæ—¶å™¨ 2\n\nä¸Šé¢è¿™é¢˜å°±è¯´æ˜äº†ä¸€ä¸ªä»»åŠ¡å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—åä¼šæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œå¯æ˜¯åœ¨ä¸Šé¢çš„æ¦‚å¿µä¸€ç« ä¸­è¿˜æåˆ°äº†ä¸€ä¸ªä»»åŠ¡å‡ºé˜Ÿåˆ—åæ˜¯è¦æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ï¼Œè€Œä¸Šé¢çš„é‚£ä¸€é¢˜åªæœ‰ä¸€ä¸ªå¾®ä»»åŠ¡çœ‹ä¸å‡ºä»€ä¹ˆè¹Šè··ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ”¹ä¸€ä¸‹å§ã€‚\n\n```javascript\nconst p_2 = new Promise((res, rej) => {\n  console.log(\"p_2\");\n  // å®šæ—¶å™¨1\n  setTimeout(() => {\n    res(\"å®šæ—¶å™¨1\");\n  }, 0);\n}).then((v) => {\n  console.log(\"å¾®ä»»åŠ¡å¼€å§‹\");\n  for (let i = 0; i < 5; i++) {\n    window.queueMicrotask(() => {\n      // å‡½æ•°çš„å†…å®¹\n      console.log(i);\n    });\n  }\n});\n// å®šæ—¶å™¨2\nsetTimeout(() => {\n  console.log(\"å®šæ—¶å™¨2\");\n}, 0);\nconsole.log(\"end\");\n```\n\nè¿™æ¬¡æˆ‘ä»¬æ›´æ”¹äº† then çš„å›è°ƒï¼Œä½¿ç”¨äº† window.queueMicrotask()æ¥æ·»åŠ å›è°ƒåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è¿™æ¬¡æ˜¯æ·»åŠ äº”ä¸ªè¾“å‡ºåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ã€‚é¡ºç€ä¸Šä¸€é¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬åªéœ€å°†ä¸Šä¸€é¢˜çš„è¾“å‡º**â€˜å®šæ—¶å™¨ 1â€™**æ›´æ”¹ä¸€ä¸‹å°±è¡Œäº†ã€‚æŒ‰ç…§ä¸€æ¬¡æ‰§è¡Œæ‰æ‰€æœ‰å¾®ä»»åŠ¡çš„ç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥ä½œå‡ºå¦‚ä¸‹æ›´æ”¹ã€‚\n\n> p_2\n> end\n> å¾®ä»»åŠ¡å¼€å§‹\n> 0\n> 1\n> 2\n> 3\n> 4\n> å®šæ—¶å™¨ 2\n\nåœ¨ chrome é‡Œé¢è¯•ä¸€ä¸‹å§ï¼šï¼‰\n![5](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122327.png)\n\nå¯ä»¥çœ‹è§ï¼Œç»“è®ºæ­£ç¡®ã€‚\n\n**å‚è€ƒï¼š**\n[https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide](https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide)\n[https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth](https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth)\n","source":"_posts/èŠèŠJavaScriptäº‹ä»¶å¾ªç¯.md","raw":"---\ntitle: èŠèŠJavaScriptäº‹ä»¶å¾ªç¯\ndate: 2022-01-12 23:37:00\ntags:\ncategories: javascript\n---\n\n**äº‹æƒ…è¿˜å¾—ä»è¿™ä¹ˆä¸€é“é¢˜å¼€å§‹ï¼š**\n\n```javascript\nlet p = new Promise((resolve, reject) => {\n  console.log(\"p\");\n});\nsetTimeout(() => {\n  console.log(\"setTime\");\n}, 0);\nconsole.log(\"end\");\n```\n\nå„ä½æƒ³æƒ³ä¸‹é¢çš„è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆå§ï¼Ÿ\næˆ‘å…ˆè¯´ä¸€ä¸‹æˆ‘çš„ç­”æ¡ˆå§ï¼š\n\n> end\n> p\n> setTime\n\nä¸Šé¢çš„è¾“å‡ºæ˜¯é”™è¯¯çš„ ğŸ˜¥ï¼Œæˆ‘æ˜¯æ€ä¹ˆä¹Ÿä¸å¼€å¿ƒå•Šï¼Œäºæ˜¯æˆ‘å°±å¼€å§‹ç¿»éå„ç§èµ„æ–™ï¼Œå…¶ä¸­åŒ…æ‹¬ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€JavaScript äº‹ä»¶å¾ªç¯ã€Promise ç­‰ç­‰èµ„æ–™ã€‚ä¸‹é¢å°±è®©æˆ‘æ¥ç»†è¯´å§ã€‚\n\n<!-- more-->\n\n**é¦–å…ˆä»‹ç»å‡ ä¸ªé‡è¦çš„æ¦‚å¿µã€‚**\n\n## ç›¸å…³æ¦‚å¿µ\n\n### ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\n\nä»»åŠ¡æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š\n\n- ä¸€æ®µæ–°ç¨‹åºæˆ–å­ç¨‹åºè¢«ç›´æ¥æ‰§è¡Œæ—¶ï¼ˆæ¯”å¦‚ä»ä¸€ä¸ªæ§åˆ¶å°ï¼Œæˆ–åœ¨ä¸€ä¸ª &lt;script&gt; å…ƒç´ ä¸­è¿è¡Œä»£ç ï¼‰ã€‚\n- è§¦å‘äº†ä¸€ä¸ªäº‹ä»¶ï¼Œå°†å…¶**å›è°ƒå‡½æ•°**æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚\n- æ‰§è¡Œåˆ°ä¸€ä¸ªç”± setTimeout() æˆ– setInterval() åˆ›å»ºçš„ timeout æˆ– intervalï¼Œä»¥è‡´ç›¸åº”çš„**å›è°ƒå‡½æ•°**è¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚\n- setImmediate()å›è°ƒï¼ˆnodejsï¼‰\n- I/O\n- UI\n- postMessage\n- requestAnimationFrame\n\n### å¾®ä»»åŠ¡\n\n- promise.then(callback)ä¸­çš„**callback**ã€‚\n- MutationObserver\n- process.nextTick(Node.js)\n\n### æ‰§è¡Œæ ˆ\n\nå‡½æ•°çš„äº’ç›¸è°ƒç”¨ä¼šè®©å‡½æ•°æ ‘å½¢æˆä¸€ä¸ªè°ƒç”¨æ ˆï¼Œè€Œå‡½æ•°çš„æ‰§è¡Œä¼šæŒ‰ç…§è¿™ä¸ªæ ˆæ¥æ‰§è¡Œï¼Œå³åè¿›å…ˆæ‰§è¡Œã€‚æ‰§è¡Œæ ˆä¼šå ç”¨ JavaScript çš„ run timeã€‚\n\n### æ‰§è¡Œä¸Šä¸‹æ–‡\n\nJavaScript åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯è¿è¡Œåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ï¼Œæ¯ä¸€ä¸ªä¸Šä¸‹æ–‡æ‹¥æœ‰è‡ªå·±çš„å˜é‡ã€å¯¹è±¡ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰å¦‚ä¸‹å‡ ç±»ï¼š\n\n- å…¨å±€ä¸Šä¸‹æ–‡ï¼šåœ¨ JavaScript å¼€å§‹æ‰§è¡Œæ—¶ä¾¿åˆ›å»ºï¼Œæ˜¯æœ€åŸºç¡€çš„ä¸Šä¸‹æ–‡ã€‚\n- å‡½æ•°ä¸Šä¸‹æ–‡ï¼ˆå±€éƒ¨ä¸Šä¸‹æ–‡ï¼‰ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼šåˆ›å»ºï¼Œä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œä¼´éšä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡çš„äº§ç”Ÿã€‚\n- eval ä¸Šä¸‹æ–‡ï¼šä½¿ç”¨ eval å‡½æ•°æ‰€åˆ›å»ºçš„ä¸Šä¸‹æ–‡ã€‚\n\n### JavaScript RunTime\n\næ‰§è¡Œ js ä»£ç æ—¶ï¼Œè¿è¡Œæ—¶å¼•æ“æ‹¥æœ‰ä¸€ç³»åˆ—çš„ä»£ç†ï¼Œæ¯ä¸€ä¸ªä»£ç†ç”±ä¸€ç³»åˆ—çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€æ‰§è¡Œæ ˆã€ä¸»çº¿ç¨‹ã€é™„åŠ çº¿ç¨‹ï¼ˆworkerï¼‰ã€ä»»åŠ¡é˜Ÿåˆ—ã€å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¸¸è§çš„ JavaScript run time æœ‰ iframeã€web workerã€JavaScript ä¸»çº¿ç¨‹ã€‚\n\n### äº‹ä»¶å¾ªç¯\n\näº‹ä»¶å¾ªç¯è´Ÿè´£æ”¶é›†ç”¨äº‹ä»¶ï¼ˆåŒ…æ‹¬ç”¨æˆ·äº‹ä»¶ä»¥åŠå…¶ä»–éç”¨æˆ·äº‹ä»¶ç­‰ï¼‰ã€å¯¹ä»»åŠ¡è¿›è¡Œæ’é˜Ÿä»¥ä¾¿åœ¨åˆé€‚çš„æ—¶å€™æ‰§è¡Œå›è°ƒã€‚ç„¶åå®ƒæ‰§è¡Œæ‰€æœ‰å¤„äºç­‰å¾…ä¸­çš„ JavaScript ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰ï¼Œç„¶åæ˜¯å¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯ä¹‹å‰æ‰§è¡Œä¸€äº›å¿…è¦çš„æ¸²æŸ“å’Œç»˜åˆ¶æ“ä½œã€‚æ¯ä¸€ä¸ª JavaScript run time éƒ½ä¼šæ‹¥æœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ï¼ŒRunTime é‡Œé¢çš„ä»£ç†ç”±äº‹ä»¶å¾ªç¯æ‰€é©±åŠ¨ã€‚\n**äº‹ä»¶å¾ªç¯åˆ†ä¸ºä¸‰ç±»ï¼š**\n\n#### window event loop\n\né©±åŠ¨åŒæºçš„çª—å£ï¼ˆFrame,Tabï¼‰çš„äº‹ä»¶å¾ªç¯ï¼Œæ¥è‡ªç›¸åŒ origin çš„ window å¯èƒ½å…±äº«åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯\n\n#### worker event loop\n\né©±åŠ¨ worker æ‰§è¡Œï¼ˆweb workersã€ shared workersã€service workersï¼‰worker æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸ä¸»ç¨‹åºä¸åŒçš„ä»£ç†ã€‚\n\n#### worklet event loop\n\né©±åŠ¨ worklet ä»£ç†çš„è¿è¡Œã€‚worklet çš„ç±»å‹åŒ…æ‹¬ï¼ˆWorkletã€AudioWorkletã€PaintWorkletï¼‰ã€‚\n\n### Promise\n\nä¸€ç§å¼‚æ­¥ JavaScript çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å¯¹å¼‚æ­¥æ–¹æ³•çš„è¿”å›å€¼çš„ä¸€ç§æè¿°ï¼Œç”¨äºåœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å°†å¼‚æ­¥ç»“æœè¿”å›ç»™ä½¿ç”¨è€…ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ then é“¾å¼è°ƒç”¨ã€‚\n\n## äº‹ä»¶å¾ªç¯æœºåˆ¶\n\nåœ¨æ¯ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶ï¼ŒRunTime ä¼šä»ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¦‚æœä»»åŠ¡é‡Œé¢åˆæ·»åŠ äº†æ–°ä»»åŠ¡åˆ°é˜Ÿåˆ—é‡Œé¢ï¼Œæ–°ä»»åŠ¡ä¸ä¼šå†æœ¬è½®äº‹ä»¶å¾ªç¯é‡Œå»æ‰§è¡Œã€‚å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—æ—¶ï¼Œå¹¶ä¸”æ‰§è¡Œæ ˆä½ç©ºæ—¶ï¼Œè¿™æ—¶ä¼šå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡ä¸ä¼šåƒä»»åŠ¡é‚£æ ·æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªï¼Œè€Œæ˜¯å°†å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå³ä½¿æ˜¯åœ¨æ‰§è¡Œå¾®ä»»åŠ¡æ—¶æœ‰æ–°çš„å¾®ä»»åŠ¡åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœ¨ä¸‹ä¸€ä¸ªä»»åŠ¡å¼€å§‹ä»¥åŠäº‹ä»¶å¾ªç¯è¿­ä»£ç»“æŸä¹‹å‰ä¾ç„¶ä¼šæ‰§è¡Œå¾®ä»»åŠ¡ã€‚\nOKï¼Œè¯´åˆ°è¿™å„¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åˆ†æä»¥ä¸‹åˆšæ‰çš„é¢˜äº†ã€‚\n\n## é¢˜ç›®åˆ†æ\n\n```javascript\nlet p = new Promise((resolve, reject) => {\n  console.log(\"p\");\n});\nsetTimeout(() => {\n  console.log(\"setTime\");\n}, 0);\nconsole.log(\"end\");\n```\n\n**æœ€å¼€å§‹ï¼š**å°†æ•´ä½“ä»£ç ï¼ˆä¸€æ®µæ–°ç¨‹åºï¼‰åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š\n![1](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122218.png)\n\næ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»…æœ‰æ•´ä½“ç¨‹åºï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚æ•´ä½“ç¨‹åºå°†è¿›å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚\n**åˆ›å»º promise å¯¹è±¡ï¼š**åœ¨åˆ›å»º promise å¯¹è±¡æ—¶ï¼Œä¼ å…¥äº†å¯é€‰å‚æ•°å³ï¼š\n\n> (resolve,reject)=>{\n> console.log('p');\n> }\n\nè€Œ Promise æ„é€ å™¨å°†ä¼šåœ¨è¿”å›æ–°å¯¹è±¡ä¹‹å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°å‚æ•°ã€‚æ‰€ä»¥åœ¨æ‰§è¡Œæ ˆä¸­ä¼šæ‰§è¡Œ console.log('p')ï¼Œæ‰“å°å‡º 'p'ã€‚\n**æ‰§è¡Œå®šæ—¶å™¨ï¼š**æ‰§è¡Œå®šæ—¶å™¨ï¼Œä¼šåœ¨ä¼ å…¥çš„å»¶è¿Ÿæ—¶é—´ä¹‹åå°†å›è°ƒå‡½æ•°åŠ å…¥é˜Ÿåˆ—ï¼ŒåŠ å…¥ä»€ä¹ˆé˜Ÿåˆ—å‘¢ï¼Œè¿™é‡ŒåŠ å…¥çš„æ˜¯ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸º settimeoout çš„å›è°ƒå±äºå®ä»»åŠ¡ã€‚ä¹‹åï¼Œå½“å‰æ‰§è¡Œæ ˆä¸ä¸ºç©ºï¼Œä¼šç»§ç»­æ‰§è¡Œã€‚\n**æ‰“å° end:**åœ¨æ‰§è¡Œ console.log('end')åï¼Œç°åœ¨æ‰§è¡Œæ ˆä¸ºç©ºäº†ï¼Œæ•´ä½“ç¨‹åºå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—æ˜¯**ä¸ä¸ºç©ºçš„**ï¼ˆåŒ…å«å®šæ—¶å™¨çš„å›è°ƒ()=>{console.log('setTime')}ï¼‰\n\næ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š\n![2](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122230.png)\nè¿™æ—¶çš„ä»»åŠ¡é˜Ÿåˆ—åŒ…æ‹¬å®šæ—¶å™¨çš„å›è°ƒï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¾ç„¶ä¸ºç©ºï¼ˆè¿™é“é¢˜å°±æ²¡æ¶‰åŠåˆ°å¾®ä»»åŠ¡ã€‚ã€‚ã€‚ï¼‰ã€‚éšåå®šæ—¶å™¨å›è°ƒå°†è¿›å…¥æ‰§è¡Œæ ˆï¼Œæ‰“å°å‡º setTimeã€‚æ‰€ä»¥æœ€ç»ˆçš„æ‰“å°ç»“æœä¸ºï¼š\n\n> p\n> end\n> setTime\n\n**è¿™é‡Œå°±æ³¨æ„ promise çš„æ„å»ºå°±è¡Œäº†ï¼Œæ˜¯ç«‹å³æ‰§è¡Œï¼Œæˆ‘é”™çš„æ˜¯åº”ä¸ºå®ƒä¼šè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è€Œ Promise è¿›å…¥å¾®ä»»åŠ¡çš„æ˜¯ then çš„å›è°ƒå‡½æ•°ã€‚**\n\n## æ‰©å±•é¢˜ç›®\n\nä¸Šé¢çš„é¢˜æ²¡æœ‰æ¶‰åŠå¾®ä»»åŠ¡ï¼Œé‚£æˆ‘ä»¬æ”¹æ”¹åŸé¢˜ç›®çœ‹çœ‹ï¼š\n\n```javascript\nconst p_2 = new Promise((res, rej) => {\n  console.log(\"p_2\");\n  // å®šæ—¶å™¨1\n  setTimeout(() => {\n    res(\"å®šæ—¶å™¨1\");\n  }, 0);\n}).then((v) => console.log(v));\n// å®šæ—¶å™¨2\nsetTimeout(() => {\n  console.log(\"å®šæ—¶å™¨2\");\n}, 0);\nconsole.log(\"end\");\n```\n\nä¸Šé¢æ–°å¢çš„æ˜¯åœ¨åˆ›å»º Promise å¯¹è±¡æ—¶å¢åŠ äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œä»¥åŠå¢åŠ äº†å¯¹ then çš„å›è°ƒã€‚\nä¾æ—§ä»æ•´ä½“ç¨‹åºå¼€å§‹ï¼Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“æ•´ä½“ç¨‹åºæ‰§è¡Œå®Œæ—¶ï¼Œè¿™æ—¶çš„ RunTime æƒ…å†µå¦‚ä¸‹ï¼š\n![3](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122252.png)\næ­¤æ—¶è¾“å‡ºä¸ºï¼š\n\n> p_2\n> end\n\næŒ‰ç…§é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œå®šæ—¶å™¨ 1 å…ˆè¿›å…¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥å…¶å…ˆäºå®šæ—¶å™¨ 2 æ‰§è¡Œã€‚æ­¤æ—¶å®šæ—¶å™¨ 1 çš„å›è°ƒè¿›å…¥æ‰§è¡Œæ ˆæ‰§è¡Œï¼Œæ‰§è¡Œ res('å®šæ—¶å™¨ 1')æ”¹å˜ promise çš„çŠ¶æ€ä¸º resolve,å°† then çš„å›è°ƒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ­¤æ—¶ RunTime çš„æƒ…å†µå¦‚ä¸‹ï¼š\n![4](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122258.png)\n\nå®šæ—¶å™¨ 1 æ‰§è¡Œå®Œæ¯•å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œåï¼Œæ£€ç´¢å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿™æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—å­˜åœ¨ä¸€ä¸ª then å›è°ƒï¼Œæ‰€ä»¥å°†å…¶åŠ å…¥æ‰§è¡Œæ ˆã€‚\n\nç°åœ¨çš„è¾“å‡ºæ˜¯ï¼š\n\n> p_2\n> end\n> å®šæ—¶å™¨ 1\n\næœ€ç»ˆï¼Œåªå‰©ä¸‹äº†ä»»åŠ¡é˜Ÿåˆ—çš„å®šæ—¶å™¨ 2 å›è°ƒï¼Œé‡å¤æ—¶é—´å¾ªç¯ï¼Œå°†å®šæ—¶å™¨ 2 çš„å›è°ƒåŠ å…¥æ‰§è¡Œæ ˆå¹¶æ‰§è¡Œã€‚æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸ºï¼š\n\n> p_2\n> end\n> å®šæ—¶å™¨ 1\n> å®šæ—¶å™¨ 2\n\nä¸Šé¢è¿™é¢˜å°±è¯´æ˜äº†ä¸€ä¸ªä»»åŠ¡å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—åä¼šæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œå¯æ˜¯åœ¨ä¸Šé¢çš„æ¦‚å¿µä¸€ç« ä¸­è¿˜æåˆ°äº†ä¸€ä¸ªä»»åŠ¡å‡ºé˜Ÿåˆ—åæ˜¯è¦æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ï¼Œè€Œä¸Šé¢çš„é‚£ä¸€é¢˜åªæœ‰ä¸€ä¸ªå¾®ä»»åŠ¡çœ‹ä¸å‡ºä»€ä¹ˆè¹Šè··ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ”¹ä¸€ä¸‹å§ã€‚\n\n```javascript\nconst p_2 = new Promise((res, rej) => {\n  console.log(\"p_2\");\n  // å®šæ—¶å™¨1\n  setTimeout(() => {\n    res(\"å®šæ—¶å™¨1\");\n  }, 0);\n}).then((v) => {\n  console.log(\"å¾®ä»»åŠ¡å¼€å§‹\");\n  for (let i = 0; i < 5; i++) {\n    window.queueMicrotask(() => {\n      // å‡½æ•°çš„å†…å®¹\n      console.log(i);\n    });\n  }\n});\n// å®šæ—¶å™¨2\nsetTimeout(() => {\n  console.log(\"å®šæ—¶å™¨2\");\n}, 0);\nconsole.log(\"end\");\n```\n\nè¿™æ¬¡æˆ‘ä»¬æ›´æ”¹äº† then çš„å›è°ƒï¼Œä½¿ç”¨äº† window.queueMicrotask()æ¥æ·»åŠ å›è°ƒåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è¿™æ¬¡æ˜¯æ·»åŠ äº”ä¸ªè¾“å‡ºåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ã€‚é¡ºç€ä¸Šä¸€é¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬åªéœ€å°†ä¸Šä¸€é¢˜çš„è¾“å‡º**â€˜å®šæ—¶å™¨ 1â€™**æ›´æ”¹ä¸€ä¸‹å°±è¡Œäº†ã€‚æŒ‰ç…§ä¸€æ¬¡æ‰§è¡Œæ‰æ‰€æœ‰å¾®ä»»åŠ¡çš„ç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥ä½œå‡ºå¦‚ä¸‹æ›´æ”¹ã€‚\n\n> p_2\n> end\n> å¾®ä»»åŠ¡å¼€å§‹\n> 0\n> 1\n> 2\n> 3\n> 4\n> å®šæ—¶å™¨ 2\n\nåœ¨ chrome é‡Œé¢è¯•ä¸€ä¸‹å§ï¼šï¼‰\n![5](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122327.png)\n\nå¯ä»¥çœ‹è§ï¼Œç»“è®ºæ­£ç¡®ã€‚\n\n**å‚è€ƒï¼š**\n[https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide](https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide)\n[https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth](https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth)\n","slug":"èŠèŠJavaScriptäº‹ä»¶å¾ªç¯","published":1,"updated":"2022-12-31T10:26:33.600Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhta000x3kv7ahuodzqp","content":"<p><strong>äº‹æƒ…è¿˜å¾—ä»è¿™ä¹ˆä¸€é“é¢˜å¼€å§‹ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;setTime&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>å„ä½æƒ³æƒ³ä¸‹é¢çš„è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆå§ï¼Ÿ<br>æˆ‘å…ˆè¯´ä¸€ä¸‹æˆ‘çš„ç­”æ¡ˆå§ï¼š</p>\n<blockquote>\n<p>end<br>p<br>setTime</p>\n</blockquote>\n<p>ä¸Šé¢çš„è¾“å‡ºæ˜¯é”™è¯¯çš„ ğŸ˜¥ï¼Œæˆ‘æ˜¯æ€ä¹ˆä¹Ÿä¸å¼€å¿ƒå•Šï¼Œäºæ˜¯æˆ‘å°±å¼€å§‹ç¿»éå„ç§èµ„æ–™ï¼Œå…¶ä¸­åŒ…æ‹¬ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€JavaScript äº‹ä»¶å¾ªç¯ã€Promise ç­‰ç­‰èµ„æ–™ã€‚ä¸‹é¢å°±è®©æˆ‘æ¥ç»†è¯´å§ã€‚</p>\n<span id=\"more\"></span>\n\n<p><strong>é¦–å…ˆä»‹ç»å‡ ä¸ªé‡è¦çš„æ¦‚å¿µã€‚</strong></p>\n<h2 id=\"ç›¸å…³æ¦‚å¿µ\"><a href=\"#ç›¸å…³æ¦‚å¿µ\" class=\"headerlink\" title=\"ç›¸å…³æ¦‚å¿µ\"></a>ç›¸å…³æ¦‚å¿µ</h2><h3 id=\"ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\"><a href=\"#ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\" class=\"headerlink\" title=\"ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\"></a>ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰</h3><p>ä»»åŠ¡æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š</p>\n<ul>\n<li>ä¸€æ®µæ–°ç¨‹åºæˆ–å­ç¨‹åºè¢«ç›´æ¥æ‰§è¡Œæ—¶ï¼ˆæ¯”å¦‚ä»ä¸€ä¸ªæ§åˆ¶å°ï¼Œæˆ–åœ¨ä¸€ä¸ª &lt;script&gt; å…ƒç´ ä¸­è¿è¡Œä»£ç ï¼‰ã€‚</li>\n<li>è§¦å‘äº†ä¸€ä¸ªäº‹ä»¶ï¼Œå°†å…¶<strong>å›è°ƒå‡½æ•°</strong>æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚</li>\n<li>æ‰§è¡Œåˆ°ä¸€ä¸ªç”± setTimeout() æˆ– setInterval() åˆ›å»ºçš„ timeout æˆ– intervalï¼Œä»¥è‡´ç›¸åº”çš„<strong>å›è°ƒå‡½æ•°</strong>è¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚</li>\n<li>setImmediate()å›è°ƒï¼ˆnodejsï¼‰</li>\n<li>I/O</li>\n<li>UI</li>\n<li>postMessage</li>\n<li>requestAnimationFrame</li>\n</ul>\n<h3 id=\"å¾®ä»»åŠ¡\"><a href=\"#å¾®ä»»åŠ¡\" class=\"headerlink\" title=\"å¾®ä»»åŠ¡\"></a>å¾®ä»»åŠ¡</h3><ul>\n<li>promise.then(callback)ä¸­çš„<strong>callback</strong>ã€‚</li>\n<li>MutationObserver</li>\n<li>process.nextTick(Node.js)</li>\n</ul>\n<h3 id=\"æ‰§è¡Œæ ˆ\"><a href=\"#æ‰§è¡Œæ ˆ\" class=\"headerlink\" title=\"æ‰§è¡Œæ ˆ\"></a>æ‰§è¡Œæ ˆ</h3><p>å‡½æ•°çš„äº’ç›¸è°ƒç”¨ä¼šè®©å‡½æ•°æ ‘å½¢æˆä¸€ä¸ªè°ƒç”¨æ ˆï¼Œè€Œå‡½æ•°çš„æ‰§è¡Œä¼šæŒ‰ç…§è¿™ä¸ªæ ˆæ¥æ‰§è¡Œï¼Œå³åè¿›å…ˆæ‰§è¡Œã€‚æ‰§è¡Œæ ˆä¼šå ç”¨ JavaScript çš„ run timeã€‚</p>\n<h3 id=\"æ‰§è¡Œä¸Šä¸‹æ–‡\"><a href=\"#æ‰§è¡Œä¸Šä¸‹æ–‡\" class=\"headerlink\" title=\"æ‰§è¡Œä¸Šä¸‹æ–‡\"></a>æ‰§è¡Œä¸Šä¸‹æ–‡</h3><p>JavaScript åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯è¿è¡Œåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ï¼Œæ¯ä¸€ä¸ªä¸Šä¸‹æ–‡æ‹¥æœ‰è‡ªå·±çš„å˜é‡ã€å¯¹è±¡ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰å¦‚ä¸‹å‡ ç±»ï¼š</p>\n<ul>\n<li>å…¨å±€ä¸Šä¸‹æ–‡ï¼šåœ¨ JavaScript å¼€å§‹æ‰§è¡Œæ—¶ä¾¿åˆ›å»ºï¼Œæ˜¯æœ€åŸºç¡€çš„ä¸Šä¸‹æ–‡ã€‚</li>\n<li>å‡½æ•°ä¸Šä¸‹æ–‡ï¼ˆå±€éƒ¨ä¸Šä¸‹æ–‡ï¼‰ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼šåˆ›å»ºï¼Œä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œä¼´éšä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡çš„äº§ç”Ÿã€‚</li>\n<li>eval ä¸Šä¸‹æ–‡ï¼šä½¿ç”¨ eval å‡½æ•°æ‰€åˆ›å»ºçš„ä¸Šä¸‹æ–‡ã€‚</li>\n</ul>\n<h3 id=\"JavaScript-RunTime\"><a href=\"#JavaScript-RunTime\" class=\"headerlink\" title=\"JavaScript RunTime\"></a>JavaScript RunTime</h3><p>æ‰§è¡Œ js ä»£ç æ—¶ï¼Œè¿è¡Œæ—¶å¼•æ“æ‹¥æœ‰ä¸€ç³»åˆ—çš„ä»£ç†ï¼Œæ¯ä¸€ä¸ªä»£ç†ç”±ä¸€ç³»åˆ—çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€æ‰§è¡Œæ ˆã€ä¸»çº¿ç¨‹ã€é™„åŠ çº¿ç¨‹ï¼ˆworkerï¼‰ã€ä»»åŠ¡é˜Ÿåˆ—ã€å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¸¸è§çš„ JavaScript run time æœ‰ iframeã€web workerã€JavaScript ä¸»çº¿ç¨‹ã€‚</p>\n<h3 id=\"äº‹ä»¶å¾ªç¯\"><a href=\"#äº‹ä»¶å¾ªç¯\" class=\"headerlink\" title=\"äº‹ä»¶å¾ªç¯\"></a>äº‹ä»¶å¾ªç¯</h3><p>äº‹ä»¶å¾ªç¯è´Ÿè´£æ”¶é›†ç”¨äº‹ä»¶ï¼ˆåŒ…æ‹¬ç”¨æˆ·äº‹ä»¶ä»¥åŠå…¶ä»–éç”¨æˆ·äº‹ä»¶ç­‰ï¼‰ã€å¯¹ä»»åŠ¡è¿›è¡Œæ’é˜Ÿä»¥ä¾¿åœ¨åˆé€‚çš„æ—¶å€™æ‰§è¡Œå›è°ƒã€‚ç„¶åå®ƒæ‰§è¡Œæ‰€æœ‰å¤„äºç­‰å¾…ä¸­çš„ JavaScript ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰ï¼Œç„¶åæ˜¯å¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯ä¹‹å‰æ‰§è¡Œä¸€äº›å¿…è¦çš„æ¸²æŸ“å’Œç»˜åˆ¶æ“ä½œã€‚æ¯ä¸€ä¸ª JavaScript run time éƒ½ä¼šæ‹¥æœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ï¼ŒRunTime é‡Œé¢çš„ä»£ç†ç”±äº‹ä»¶å¾ªç¯æ‰€é©±åŠ¨ã€‚<br><strong>äº‹ä»¶å¾ªç¯åˆ†ä¸ºä¸‰ç±»ï¼š</strong></p>\n<h4 id=\"window-event-loop\"><a href=\"#window-event-loop\" class=\"headerlink\" title=\"window event loop\"></a>window event loop</h4><p>é©±åŠ¨åŒæºçš„çª—å£ï¼ˆFrame,Tabï¼‰çš„äº‹ä»¶å¾ªç¯ï¼Œæ¥è‡ªç›¸åŒ origin çš„ window å¯èƒ½å…±äº«åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯</p>\n<h4 id=\"worker-event-loop\"><a href=\"#worker-event-loop\" class=\"headerlink\" title=\"worker event loop\"></a>worker event loop</h4><p>é©±åŠ¨ worker æ‰§è¡Œï¼ˆweb workersã€ shared workersã€service workersï¼‰worker æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸ä¸»ç¨‹åºä¸åŒçš„ä»£ç†ã€‚</p>\n<h4 id=\"worklet-event-loop\"><a href=\"#worklet-event-loop\" class=\"headerlink\" title=\"worklet event loop\"></a>worklet event loop</h4><p>é©±åŠ¨ worklet ä»£ç†çš„è¿è¡Œã€‚worklet çš„ç±»å‹åŒ…æ‹¬ï¼ˆWorkletã€AudioWorkletã€PaintWorkletï¼‰ã€‚</p>\n<h3 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h3><p>ä¸€ç§å¼‚æ­¥ JavaScript çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å¯¹å¼‚æ­¥æ–¹æ³•çš„è¿”å›å€¼çš„ä¸€ç§æè¿°ï¼Œç”¨äºåœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å°†å¼‚æ­¥ç»“æœè¿”å›ç»™ä½¿ç”¨è€…ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ then é“¾å¼è°ƒç”¨ã€‚</p>\n<h2 id=\"äº‹ä»¶å¾ªç¯æœºåˆ¶\"><a href=\"#äº‹ä»¶å¾ªç¯æœºåˆ¶\" class=\"headerlink\" title=\"äº‹ä»¶å¾ªç¯æœºåˆ¶\"></a>äº‹ä»¶å¾ªç¯æœºåˆ¶</h2><p>åœ¨æ¯ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶ï¼ŒRunTime ä¼šä»ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¦‚æœä»»åŠ¡é‡Œé¢åˆæ·»åŠ äº†æ–°ä»»åŠ¡åˆ°é˜Ÿåˆ—é‡Œé¢ï¼Œæ–°ä»»åŠ¡ä¸ä¼šå†æœ¬è½®äº‹ä»¶å¾ªç¯é‡Œå»æ‰§è¡Œã€‚å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—æ—¶ï¼Œå¹¶ä¸”æ‰§è¡Œæ ˆä½ç©ºæ—¶ï¼Œè¿™æ—¶ä¼šå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡ä¸ä¼šåƒä»»åŠ¡é‚£æ ·æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªï¼Œè€Œæ˜¯å°†å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå³ä½¿æ˜¯åœ¨æ‰§è¡Œå¾®ä»»åŠ¡æ—¶æœ‰æ–°çš„å¾®ä»»åŠ¡åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœ¨ä¸‹ä¸€ä¸ªä»»åŠ¡å¼€å§‹ä»¥åŠäº‹ä»¶å¾ªç¯è¿­ä»£ç»“æŸä¹‹å‰ä¾ç„¶ä¼šæ‰§è¡Œå¾®ä»»åŠ¡ã€‚<br>OKï¼Œè¯´åˆ°è¿™å„¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åˆ†æä»¥ä¸‹åˆšæ‰çš„é¢˜äº†ã€‚</p>\n<h2 id=\"é¢˜ç›®åˆ†æ\"><a href=\"#é¢˜ç›®åˆ†æ\" class=\"headerlink\" title=\"é¢˜ç›®åˆ†æ\"></a>é¢˜ç›®åˆ†æ</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;setTime&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>æœ€å¼€å§‹ï¼š</strong>å°†æ•´ä½“ä»£ç ï¼ˆä¸€æ®µæ–°ç¨‹åºï¼‰åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122218.png\" alt=\"1\"></p>\n<p>æ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»…æœ‰æ•´ä½“ç¨‹åºï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚æ•´ä½“ç¨‹åºå°†è¿›å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚<br><strong>åˆ›å»º promise å¯¹è±¡ï¼š</strong>åœ¨åˆ›å»º promise å¯¹è±¡æ—¶ï¼Œä¼ å…¥äº†å¯é€‰å‚æ•°å³ï¼š</p>\n<blockquote>\n<p>(resolve,reject)=&gt;{<br>console.log(â€˜pâ€™);<br>}</p>\n</blockquote>\n<p>è€Œ Promise æ„é€ å™¨å°†ä¼šåœ¨è¿”å›æ–°å¯¹è±¡ä¹‹å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°å‚æ•°ã€‚æ‰€ä»¥åœ¨æ‰§è¡Œæ ˆä¸­ä¼šæ‰§è¡Œ console.log(â€˜pâ€™)ï¼Œæ‰“å°å‡º â€˜pâ€™ã€‚<br><strong>æ‰§è¡Œå®šæ—¶å™¨ï¼š</strong>æ‰§è¡Œå®šæ—¶å™¨ï¼Œä¼šåœ¨ä¼ å…¥çš„å»¶è¿Ÿæ—¶é—´ä¹‹åå°†å›è°ƒå‡½æ•°åŠ å…¥é˜Ÿåˆ—ï¼ŒåŠ å…¥ä»€ä¹ˆé˜Ÿåˆ—å‘¢ï¼Œè¿™é‡ŒåŠ å…¥çš„æ˜¯ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸º settimeoout çš„å›è°ƒå±äºå®ä»»åŠ¡ã€‚ä¹‹åï¼Œå½“å‰æ‰§è¡Œæ ˆä¸ä¸ºç©ºï¼Œä¼šç»§ç»­æ‰§è¡Œã€‚<br><strong>æ‰“å° end:<strong>åœ¨æ‰§è¡Œ console.log(â€˜endâ€™)åï¼Œç°åœ¨æ‰§è¡Œæ ˆä¸ºç©ºäº†ï¼Œæ•´ä½“ç¨‹åºå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—æ˜¯</strong>ä¸ä¸ºç©ºçš„</strong>ï¼ˆåŒ…å«å®šæ—¶å™¨çš„å›è°ƒ()=&gt;{console.log(â€˜setTimeâ€™)}ï¼‰</p>\n<p>æ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122230.png\" alt=\"2\"><br>è¿™æ—¶çš„ä»»åŠ¡é˜Ÿåˆ—åŒ…æ‹¬å®šæ—¶å™¨çš„å›è°ƒï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¾ç„¶ä¸ºç©ºï¼ˆè¿™é“é¢˜å°±æ²¡æ¶‰åŠåˆ°å¾®ä»»åŠ¡ã€‚ã€‚ã€‚ï¼‰ã€‚éšåå®šæ—¶å™¨å›è°ƒå°†è¿›å…¥æ‰§è¡Œæ ˆï¼Œæ‰“å°å‡º setTimeã€‚æ‰€ä»¥æœ€ç»ˆçš„æ‰“å°ç»“æœä¸ºï¼š</p>\n<blockquote>\n<p>p<br>end<br>setTime</p>\n</blockquote>\n<p><strong>è¿™é‡Œå°±æ³¨æ„ promise çš„æ„å»ºå°±è¡Œäº†ï¼Œæ˜¯ç«‹å³æ‰§è¡Œï¼Œæˆ‘é”™çš„æ˜¯åº”ä¸ºå®ƒä¼šè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è€Œ Promise è¿›å…¥å¾®ä»»åŠ¡çš„æ˜¯ then çš„å›è°ƒå‡½æ•°ã€‚</strong></p>\n<h2 id=\"æ‰©å±•é¢˜ç›®\"><a href=\"#æ‰©å±•é¢˜ç›®\" class=\"headerlink\" title=\"æ‰©å±•é¢˜ç›®\"></a>æ‰©å±•é¢˜ç›®</h2><p>ä¸Šé¢çš„é¢˜æ²¡æœ‰æ¶‰åŠå¾®ä»»åŠ¡ï¼Œé‚£æˆ‘ä»¬æ”¹æ”¹åŸé¢˜ç›®çœ‹çœ‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p_2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">res, rej</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p_2&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// å®šæ—¶å™¨1</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    res(<span class=\"string\">&quot;å®šæ—¶å™¨1&quot;</span>);</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;).then(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(v));</span><br><span class=\"line\"><span class=\"comment\">// å®šæ—¶å™¨2</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;å®šæ—¶å™¨2&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢æ–°å¢çš„æ˜¯åœ¨åˆ›å»º Promise å¯¹è±¡æ—¶å¢åŠ äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œä»¥åŠå¢åŠ äº†å¯¹ then çš„å›è°ƒã€‚<br>ä¾æ—§ä»æ•´ä½“ç¨‹åºå¼€å§‹ï¼Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“æ•´ä½“ç¨‹åºæ‰§è¡Œå®Œæ—¶ï¼Œè¿™æ—¶çš„ RunTime æƒ…å†µå¦‚ä¸‹ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122252.png\" alt=\"3\"><br>æ­¤æ—¶è¾“å‡ºä¸ºï¼š</p>\n<blockquote>\n<p>p_2<br>end</p>\n</blockquote>\n<p>æŒ‰ç…§é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œå®šæ—¶å™¨ 1 å…ˆè¿›å…¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥å…¶å…ˆäºå®šæ—¶å™¨ 2 æ‰§è¡Œã€‚æ­¤æ—¶å®šæ—¶å™¨ 1 çš„å›è°ƒè¿›å…¥æ‰§è¡Œæ ˆæ‰§è¡Œï¼Œæ‰§è¡Œ res(â€˜å®šæ—¶å™¨ 1â€™)æ”¹å˜ promise çš„çŠ¶æ€ä¸º resolve,å°† then çš„å›è°ƒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ­¤æ—¶ RunTime çš„æƒ…å†µå¦‚ä¸‹ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122258.png\" alt=\"4\"></p>\n<p>å®šæ—¶å™¨ 1 æ‰§è¡Œå®Œæ¯•å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œåï¼Œæ£€ç´¢å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿™æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—å­˜åœ¨ä¸€ä¸ª then å›è°ƒï¼Œæ‰€ä»¥å°†å…¶åŠ å…¥æ‰§è¡Œæ ˆã€‚</p>\n<p>ç°åœ¨çš„è¾“å‡ºæ˜¯ï¼š</p>\n<blockquote>\n<p>p_2<br>end<br>å®šæ—¶å™¨ 1</p>\n</blockquote>\n<p>æœ€ç»ˆï¼Œåªå‰©ä¸‹äº†ä»»åŠ¡é˜Ÿåˆ—çš„å®šæ—¶å™¨ 2 å›è°ƒï¼Œé‡å¤æ—¶é—´å¾ªç¯ï¼Œå°†å®šæ—¶å™¨ 2 çš„å›è°ƒåŠ å…¥æ‰§è¡Œæ ˆå¹¶æ‰§è¡Œã€‚æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸ºï¼š</p>\n<blockquote>\n<p>p_2<br>end<br>å®šæ—¶å™¨ 1<br>å®šæ—¶å™¨ 2</p>\n</blockquote>\n<p>ä¸Šé¢è¿™é¢˜å°±è¯´æ˜äº†ä¸€ä¸ªä»»åŠ¡å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—åä¼šæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œå¯æ˜¯åœ¨ä¸Šé¢çš„æ¦‚å¿µä¸€ç« ä¸­è¿˜æåˆ°äº†ä¸€ä¸ªä»»åŠ¡å‡ºé˜Ÿåˆ—åæ˜¯è¦æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ï¼Œè€Œä¸Šé¢çš„é‚£ä¸€é¢˜åªæœ‰ä¸€ä¸ªå¾®ä»»åŠ¡çœ‹ä¸å‡ºä»€ä¹ˆè¹Šè··ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ”¹ä¸€ä¸‹å§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p_2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">res, rej</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p_2&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// å®šæ—¶å™¨1</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    res(<span class=\"string\">&quot;å®šæ—¶å™¨1&quot;</span>);</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;).then(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;å¾®ä»»åŠ¡å¼€å§‹&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">window</span>.queueMicrotask(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å‡½æ•°çš„å†…å®¹</span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// å®šæ—¶å™¨2</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;å®šæ—¶å™¨2&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ¬¡æˆ‘ä»¬æ›´æ”¹äº† then çš„å›è°ƒï¼Œä½¿ç”¨äº† window.queueMicrotask()æ¥æ·»åŠ å›è°ƒåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è¿™æ¬¡æ˜¯æ·»åŠ äº”ä¸ªè¾“å‡ºåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ã€‚é¡ºç€ä¸Šä¸€é¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬åªéœ€å°†ä¸Šä¸€é¢˜çš„è¾“å‡º<strong>â€˜å®šæ—¶å™¨ 1â€™</strong>æ›´æ”¹ä¸€ä¸‹å°±è¡Œäº†ã€‚æŒ‰ç…§ä¸€æ¬¡æ‰§è¡Œæ‰æ‰€æœ‰å¾®ä»»åŠ¡çš„ç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥ä½œå‡ºå¦‚ä¸‹æ›´æ”¹ã€‚</p>\n<blockquote>\n<p>p_2<br>end<br>å¾®ä»»åŠ¡å¼€å§‹<br>0<br>1<br>2<br>3<br>4<br>å®šæ—¶å™¨ 2</p>\n</blockquote>\n<p>åœ¨ chrome é‡Œé¢è¯•ä¸€ä¸‹å§ï¼šï¼‰<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122327.png\" alt=\"5\"></p>\n<p>å¯ä»¥çœ‹è§ï¼Œç»“è®ºæ­£ç¡®ã€‚</p>\n<p><strong>å‚è€ƒï¼š</strong><br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide\">https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide</a><br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth\">https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth</a></p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":4050,"excerpt":"<p><strong>äº‹æƒ…è¿˜å¾—ä»è¿™ä¹ˆä¸€é“é¢˜å¼€å§‹ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;setTime&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>å„ä½æƒ³æƒ³ä¸‹é¢çš„è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆå§ï¼Ÿ<br>æˆ‘å…ˆè¯´ä¸€ä¸‹æˆ‘çš„ç­”æ¡ˆå§ï¼š</p>\n<blockquote>\n<p>end<br>p<br>setTime</p>\n</blockquote>\n<p>ä¸Šé¢çš„è¾“å‡ºæ˜¯é”™è¯¯çš„ ğŸ˜¥ï¼Œæˆ‘æ˜¯æ€ä¹ˆä¹Ÿä¸å¼€å¿ƒå•Šï¼Œäºæ˜¯æˆ‘å°±å¼€å§‹ç¿»éå„ç§èµ„æ–™ï¼Œå…¶ä¸­åŒ…æ‹¬ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€JavaScript äº‹ä»¶å¾ªç¯ã€Promise ç­‰ç­‰èµ„æ–™ã€‚ä¸‹é¢å°±è®©æˆ‘æ¥ç»†è¯´å§ã€‚</p>","more":"<p><strong>é¦–å…ˆä»‹ç»å‡ ä¸ªé‡è¦çš„æ¦‚å¿µã€‚</strong></p>\n<h2 id=\"ç›¸å…³æ¦‚å¿µ\"><a href=\"#ç›¸å…³æ¦‚å¿µ\" class=\"headerlink\" title=\"ç›¸å…³æ¦‚å¿µ\"></a>ç›¸å…³æ¦‚å¿µ</h2><h3 id=\"ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\"><a href=\"#ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\" class=\"headerlink\" title=\"ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰\"></a>ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰</h3><p>ä»»åŠ¡æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š</p>\n<ul>\n<li>ä¸€æ®µæ–°ç¨‹åºæˆ–å­ç¨‹åºè¢«ç›´æ¥æ‰§è¡Œæ—¶ï¼ˆæ¯”å¦‚ä»ä¸€ä¸ªæ§åˆ¶å°ï¼Œæˆ–åœ¨ä¸€ä¸ª &lt;script&gt; å…ƒç´ ä¸­è¿è¡Œä»£ç ï¼‰ã€‚</li>\n<li>è§¦å‘äº†ä¸€ä¸ªäº‹ä»¶ï¼Œå°†å…¶<strong>å›è°ƒå‡½æ•°</strong>æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚</li>\n<li>æ‰§è¡Œåˆ°ä¸€ä¸ªç”± setTimeout() æˆ– setInterval() åˆ›å»ºçš„ timeout æˆ– intervalï¼Œä»¥è‡´ç›¸åº”çš„<strong>å›è°ƒå‡½æ•°</strong>è¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æ—¶ã€‚</li>\n<li>setImmediate()å›è°ƒï¼ˆnodejsï¼‰</li>\n<li>I/O</li>\n<li>UI</li>\n<li>postMessage</li>\n<li>requestAnimationFrame</li>\n</ul>\n<h3 id=\"å¾®ä»»åŠ¡\"><a href=\"#å¾®ä»»åŠ¡\" class=\"headerlink\" title=\"å¾®ä»»åŠ¡\"></a>å¾®ä»»åŠ¡</h3><ul>\n<li>promise.then(callback)ä¸­çš„<strong>callback</strong>ã€‚</li>\n<li>MutationObserver</li>\n<li>process.nextTick(Node.js)</li>\n</ul>\n<h3 id=\"æ‰§è¡Œæ ˆ\"><a href=\"#æ‰§è¡Œæ ˆ\" class=\"headerlink\" title=\"æ‰§è¡Œæ ˆ\"></a>æ‰§è¡Œæ ˆ</h3><p>å‡½æ•°çš„äº’ç›¸è°ƒç”¨ä¼šè®©å‡½æ•°æ ‘å½¢æˆä¸€ä¸ªè°ƒç”¨æ ˆï¼Œè€Œå‡½æ•°çš„æ‰§è¡Œä¼šæŒ‰ç…§è¿™ä¸ªæ ˆæ¥æ‰§è¡Œï¼Œå³åè¿›å…ˆæ‰§è¡Œã€‚æ‰§è¡Œæ ˆä¼šå ç”¨ JavaScript çš„ run timeã€‚</p>\n<h3 id=\"æ‰§è¡Œä¸Šä¸‹æ–‡\"><a href=\"#æ‰§è¡Œä¸Šä¸‹æ–‡\" class=\"headerlink\" title=\"æ‰§è¡Œä¸Šä¸‹æ–‡\"></a>æ‰§è¡Œä¸Šä¸‹æ–‡</h3><p>JavaScript åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯è¿è¡Œåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ï¼Œæ¯ä¸€ä¸ªä¸Šä¸‹æ–‡æ‹¥æœ‰è‡ªå·±çš„å˜é‡ã€å¯¹è±¡ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰å¦‚ä¸‹å‡ ç±»ï¼š</p>\n<ul>\n<li>å…¨å±€ä¸Šä¸‹æ–‡ï¼šåœ¨ JavaScript å¼€å§‹æ‰§è¡Œæ—¶ä¾¿åˆ›å»ºï¼Œæ˜¯æœ€åŸºç¡€çš„ä¸Šä¸‹æ–‡ã€‚</li>\n<li>å‡½æ•°ä¸Šä¸‹æ–‡ï¼ˆå±€éƒ¨ä¸Šä¸‹æ–‡ï¼‰ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼šåˆ›å»ºï¼Œä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œä¼´éšä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡çš„äº§ç”Ÿã€‚</li>\n<li>eval ä¸Šä¸‹æ–‡ï¼šä½¿ç”¨ eval å‡½æ•°æ‰€åˆ›å»ºçš„ä¸Šä¸‹æ–‡ã€‚</li>\n</ul>\n<h3 id=\"JavaScript-RunTime\"><a href=\"#JavaScript-RunTime\" class=\"headerlink\" title=\"JavaScript RunTime\"></a>JavaScript RunTime</h3><p>æ‰§è¡Œ js ä»£ç æ—¶ï¼Œè¿è¡Œæ—¶å¼•æ“æ‹¥æœ‰ä¸€ç³»åˆ—çš„ä»£ç†ï¼Œæ¯ä¸€ä¸ªä»£ç†ç”±ä¸€ç³»åˆ—çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€æ‰§è¡Œæ ˆã€ä¸»çº¿ç¨‹ã€é™„åŠ çº¿ç¨‹ï¼ˆworkerï¼‰ã€ä»»åŠ¡é˜Ÿåˆ—ã€å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¸¸è§çš„ JavaScript run time æœ‰ iframeã€web workerã€JavaScript ä¸»çº¿ç¨‹ã€‚</p>\n<h3 id=\"äº‹ä»¶å¾ªç¯\"><a href=\"#äº‹ä»¶å¾ªç¯\" class=\"headerlink\" title=\"äº‹ä»¶å¾ªç¯\"></a>äº‹ä»¶å¾ªç¯</h3><p>äº‹ä»¶å¾ªç¯è´Ÿè´£æ”¶é›†ç”¨äº‹ä»¶ï¼ˆåŒ…æ‹¬ç”¨æˆ·äº‹ä»¶ä»¥åŠå…¶ä»–éç”¨æˆ·äº‹ä»¶ç­‰ï¼‰ã€å¯¹ä»»åŠ¡è¿›è¡Œæ’é˜Ÿä»¥ä¾¿åœ¨åˆé€‚çš„æ—¶å€™æ‰§è¡Œå›è°ƒã€‚ç„¶åå®ƒæ‰§è¡Œæ‰€æœ‰å¤„äºç­‰å¾…ä¸­çš„ JavaScript ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ï¼‰ï¼Œç„¶åæ˜¯å¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯ä¹‹å‰æ‰§è¡Œä¸€äº›å¿…è¦çš„æ¸²æŸ“å’Œç»˜åˆ¶æ“ä½œã€‚æ¯ä¸€ä¸ª JavaScript run time éƒ½ä¼šæ‹¥æœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ï¼ŒRunTime é‡Œé¢çš„ä»£ç†ç”±äº‹ä»¶å¾ªç¯æ‰€é©±åŠ¨ã€‚<br><strong>äº‹ä»¶å¾ªç¯åˆ†ä¸ºä¸‰ç±»ï¼š</strong></p>\n<h4 id=\"window-event-loop\"><a href=\"#window-event-loop\" class=\"headerlink\" title=\"window event loop\"></a>window event loop</h4><p>é©±åŠ¨åŒæºçš„çª—å£ï¼ˆFrame,Tabï¼‰çš„äº‹ä»¶å¾ªç¯ï¼Œæ¥è‡ªç›¸åŒ origin çš„ window å¯èƒ½å…±äº«åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯</p>\n<h4 id=\"worker-event-loop\"><a href=\"#worker-event-loop\" class=\"headerlink\" title=\"worker event loop\"></a>worker event loop</h4><p>é©±åŠ¨ worker æ‰§è¡Œï¼ˆweb workersã€ shared workersã€service workersï¼‰worker æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸ä¸»ç¨‹åºä¸åŒçš„ä»£ç†ã€‚</p>\n<h4 id=\"worklet-event-loop\"><a href=\"#worklet-event-loop\" class=\"headerlink\" title=\"worklet event loop\"></a>worklet event loop</h4><p>é©±åŠ¨ worklet ä»£ç†çš„è¿è¡Œã€‚worklet çš„ç±»å‹åŒ…æ‹¬ï¼ˆWorkletã€AudioWorkletã€PaintWorkletï¼‰ã€‚</p>\n<h3 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h3><p>ä¸€ç§å¼‚æ­¥ JavaScript çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å¯¹å¼‚æ­¥æ–¹æ³•çš„è¿”å›å€¼çš„ä¸€ç§æè¿°ï¼Œç”¨äºåœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å°†å¼‚æ­¥ç»“æœè¿”å›ç»™ä½¿ç”¨è€…ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ then é“¾å¼è°ƒç”¨ã€‚</p>\n<h2 id=\"äº‹ä»¶å¾ªç¯æœºåˆ¶\"><a href=\"#äº‹ä»¶å¾ªç¯æœºåˆ¶\" class=\"headerlink\" title=\"äº‹ä»¶å¾ªç¯æœºåˆ¶\"></a>äº‹ä»¶å¾ªç¯æœºåˆ¶</h2><p>åœ¨æ¯ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶ï¼ŒRunTime ä¼šä»ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¦‚æœä»»åŠ¡é‡Œé¢åˆæ·»åŠ äº†æ–°ä»»åŠ¡åˆ°é˜Ÿåˆ—é‡Œé¢ï¼Œæ–°ä»»åŠ¡ä¸ä¼šå†æœ¬è½®äº‹ä»¶å¾ªç¯é‡Œå»æ‰§è¡Œã€‚å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—æ—¶ï¼Œå¹¶ä¸”æ‰§è¡Œæ ˆä½ç©ºæ—¶ï¼Œè¿™æ—¶ä¼šå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡ä¸ä¼šåƒä»»åŠ¡é‚£æ ·æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªï¼Œè€Œæ˜¯å°†å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå³ä½¿æ˜¯åœ¨æ‰§è¡Œå¾®ä»»åŠ¡æ—¶æœ‰æ–°çš„å¾®ä»»åŠ¡åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœ¨ä¸‹ä¸€ä¸ªä»»åŠ¡å¼€å§‹ä»¥åŠäº‹ä»¶å¾ªç¯è¿­ä»£ç»“æŸä¹‹å‰ä¾ç„¶ä¼šæ‰§è¡Œå¾®ä»»åŠ¡ã€‚<br>OKï¼Œè¯´åˆ°è¿™å„¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åˆ†æä»¥ä¸‹åˆšæ‰çš„é¢˜äº†ã€‚</p>\n<h2 id=\"é¢˜ç›®åˆ†æ\"><a href=\"#é¢˜ç›®åˆ†æ\" class=\"headerlink\" title=\"é¢˜ç›®åˆ†æ\"></a>é¢˜ç›®åˆ†æ</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;setTime&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>æœ€å¼€å§‹ï¼š</strong>å°†æ•´ä½“ä»£ç ï¼ˆä¸€æ®µæ–°ç¨‹åºï¼‰åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122218.png\" alt=\"1\"></p>\n<p>æ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»…æœ‰æ•´ä½“ç¨‹åºï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚æ•´ä½“ç¨‹åºå°†è¿›å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚<br><strong>åˆ›å»º promise å¯¹è±¡ï¼š</strong>åœ¨åˆ›å»º promise å¯¹è±¡æ—¶ï¼Œä¼ å…¥äº†å¯é€‰å‚æ•°å³ï¼š</p>\n<blockquote>\n<p>(resolve,reject)=&gt;{<br>console.log(â€˜pâ€™);<br>}</p>\n</blockquote>\n<p>è€Œ Promise æ„é€ å™¨å°†ä¼šåœ¨è¿”å›æ–°å¯¹è±¡ä¹‹å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°å‚æ•°ã€‚æ‰€ä»¥åœ¨æ‰§è¡Œæ ˆä¸­ä¼šæ‰§è¡Œ console.log(â€˜pâ€™)ï¼Œæ‰“å°å‡º â€˜pâ€™ã€‚<br><strong>æ‰§è¡Œå®šæ—¶å™¨ï¼š</strong>æ‰§è¡Œå®šæ—¶å™¨ï¼Œä¼šåœ¨ä¼ å…¥çš„å»¶è¿Ÿæ—¶é—´ä¹‹åå°†å›è°ƒå‡½æ•°åŠ å…¥é˜Ÿåˆ—ï¼ŒåŠ å…¥ä»€ä¹ˆé˜Ÿåˆ—å‘¢ï¼Œè¿™é‡ŒåŠ å…¥çš„æ˜¯ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸º settimeoout çš„å›è°ƒå±äºå®ä»»åŠ¡ã€‚ä¹‹åï¼Œå½“å‰æ‰§è¡Œæ ˆä¸ä¸ºç©ºï¼Œä¼šç»§ç»­æ‰§è¡Œã€‚<br><strong>æ‰“å° end:<strong>åœ¨æ‰§è¡Œ console.log(â€˜endâ€™)åï¼Œç°åœ¨æ‰§è¡Œæ ˆä¸ºç©ºäº†ï¼Œæ•´ä½“ç¨‹åºå¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—æ˜¯</strong>ä¸ä¸ºç©ºçš„</strong>ï¼ˆåŒ…å«å®šæ—¶å™¨çš„å›è°ƒ()=&gt;{console.log(â€˜setTimeâ€™)}ï¼‰</p>\n<p>æ­¤æ—¶çš„ JavaScript RunTime çš„æƒ…å†µå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122230.png\" alt=\"2\"><br>è¿™æ—¶çš„ä»»åŠ¡é˜Ÿåˆ—åŒ…æ‹¬å®šæ—¶å™¨çš„å›è°ƒï¼Œè€Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¾ç„¶ä¸ºç©ºï¼ˆè¿™é“é¢˜å°±æ²¡æ¶‰åŠåˆ°å¾®ä»»åŠ¡ã€‚ã€‚ã€‚ï¼‰ã€‚éšåå®šæ—¶å™¨å›è°ƒå°†è¿›å…¥æ‰§è¡Œæ ˆï¼Œæ‰“å°å‡º setTimeã€‚æ‰€ä»¥æœ€ç»ˆçš„æ‰“å°ç»“æœä¸ºï¼š</p>\n<blockquote>\n<p>p<br>end<br>setTime</p>\n</blockquote>\n<p><strong>è¿™é‡Œå°±æ³¨æ„ promise çš„æ„å»ºå°±è¡Œäº†ï¼Œæ˜¯ç«‹å³æ‰§è¡Œï¼Œæˆ‘é”™çš„æ˜¯åº”ä¸ºå®ƒä¼šè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è€Œ Promise è¿›å…¥å¾®ä»»åŠ¡çš„æ˜¯ then çš„å›è°ƒå‡½æ•°ã€‚</strong></p>\n<h2 id=\"æ‰©å±•é¢˜ç›®\"><a href=\"#æ‰©å±•é¢˜ç›®\" class=\"headerlink\" title=\"æ‰©å±•é¢˜ç›®\"></a>æ‰©å±•é¢˜ç›®</h2><p>ä¸Šé¢çš„é¢˜æ²¡æœ‰æ¶‰åŠå¾®ä»»åŠ¡ï¼Œé‚£æˆ‘ä»¬æ”¹æ”¹åŸé¢˜ç›®çœ‹çœ‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p_2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">res, rej</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p_2&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// å®šæ—¶å™¨1</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    res(<span class=\"string\">&quot;å®šæ—¶å™¨1&quot;</span>);</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;).then(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(v));</span><br><span class=\"line\"><span class=\"comment\">// å®šæ—¶å™¨2</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;å®šæ—¶å™¨2&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢æ–°å¢çš„æ˜¯åœ¨åˆ›å»º Promise å¯¹è±¡æ—¶å¢åŠ äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œä»¥åŠå¢åŠ äº†å¯¹ then çš„å›è°ƒã€‚<br>ä¾æ—§ä»æ•´ä½“ç¨‹åºå¼€å§‹ï¼Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“æ•´ä½“ç¨‹åºæ‰§è¡Œå®Œæ—¶ï¼Œè¿™æ—¶çš„ RunTime æƒ…å†µå¦‚ä¸‹ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122252.png\" alt=\"3\"><br>æ­¤æ—¶è¾“å‡ºä¸ºï¼š</p>\n<blockquote>\n<p>p_2<br>end</p>\n</blockquote>\n<p>æŒ‰ç…§é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œå®šæ—¶å™¨ 1 å…ˆè¿›å…¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥å…¶å…ˆäºå®šæ—¶å™¨ 2 æ‰§è¡Œã€‚æ­¤æ—¶å®šæ—¶å™¨ 1 çš„å›è°ƒè¿›å…¥æ‰§è¡Œæ ˆæ‰§è¡Œï¼Œæ‰§è¡Œ res(â€˜å®šæ—¶å™¨ 1â€™)æ”¹å˜ promise çš„çŠ¶æ€ä¸º resolve,å°† then çš„å›è°ƒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ­¤æ—¶ RunTime çš„æƒ…å†µå¦‚ä¸‹ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122258.png\" alt=\"4\"></p>\n<p>å®šæ—¶å™¨ 1 æ‰§è¡Œå®Œæ¯•å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œåï¼Œæ£€ç´¢å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿™æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—å­˜åœ¨ä¸€ä¸ª then å›è°ƒï¼Œæ‰€ä»¥å°†å…¶åŠ å…¥æ‰§è¡Œæ ˆã€‚</p>\n<p>ç°åœ¨çš„è¾“å‡ºæ˜¯ï¼š</p>\n<blockquote>\n<p>p_2<br>end<br>å®šæ—¶å™¨ 1</p>\n</blockquote>\n<p>æœ€ç»ˆï¼Œåªå‰©ä¸‹äº†ä»»åŠ¡é˜Ÿåˆ—çš„å®šæ—¶å™¨ 2 å›è°ƒï¼Œé‡å¤æ—¶é—´å¾ªç¯ï¼Œå°†å®šæ—¶å™¨ 2 çš„å›è°ƒåŠ å…¥æ‰§è¡Œæ ˆå¹¶æ‰§è¡Œã€‚æœ€ç»ˆçš„è¾“å‡ºç»“æœä¸ºï¼š</p>\n<blockquote>\n<p>p_2<br>end<br>å®šæ—¶å™¨ 1<br>å®šæ—¶å™¨ 2</p>\n</blockquote>\n<p>ä¸Šé¢è¿™é¢˜å°±è¯´æ˜äº†ä¸€ä¸ªä»»åŠ¡å¼¹å‡ºä»»åŠ¡é˜Ÿåˆ—åä¼šæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œå¯æ˜¯åœ¨ä¸Šé¢çš„æ¦‚å¿µä¸€ç« ä¸­è¿˜æåˆ°äº†ä¸€ä¸ªä»»åŠ¡å‡ºé˜Ÿåˆ—åæ˜¯è¦æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ï¼Œè€Œä¸Šé¢çš„é‚£ä¸€é¢˜åªæœ‰ä¸€ä¸ªå¾®ä»»åŠ¡çœ‹ä¸å‡ºä»€ä¹ˆè¹Šè··ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ”¹ä¸€ä¸‹å§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p_2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">res, rej</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;p_2&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// å®šæ—¶å™¨1</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    res(<span class=\"string\">&quot;å®šæ—¶å™¨1&quot;</span>);</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;).then(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;å¾®ä»»åŠ¡å¼€å§‹&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">window</span>.queueMicrotask(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å‡½æ•°çš„å†…å®¹</span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// å®šæ—¶å™¨2</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;å®šæ—¶å™¨2&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;end&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ¬¡æˆ‘ä»¬æ›´æ”¹äº† then çš„å›è°ƒï¼Œä½¿ç”¨äº† window.queueMicrotask()æ¥æ·»åŠ å›è°ƒåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è¿™æ¬¡æ˜¯æ·»åŠ äº”ä¸ªè¾“å‡ºåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ã€‚é¡ºç€ä¸Šä¸€é¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬åªéœ€å°†ä¸Šä¸€é¢˜çš„è¾“å‡º<strong>â€˜å®šæ—¶å™¨ 1â€™</strong>æ›´æ”¹ä¸€ä¸‹å°±è¡Œäº†ã€‚æŒ‰ç…§ä¸€æ¬¡æ‰§è¡Œæ‰æ‰€æœ‰å¾®ä»»åŠ¡çš„ç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥ä½œå‡ºå¦‚ä¸‹æ›´æ”¹ã€‚</p>\n<blockquote>\n<p>p_2<br>end<br>å¾®ä»»åŠ¡å¼€å§‹<br>0<br>1<br>2<br>3<br>4<br>å®šæ—¶å™¨ 2</p>\n</blockquote>\n<p>åœ¨ chrome é‡Œé¢è¯•ä¸€ä¸‹å§ï¼šï¼‰<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202201122327.png\" alt=\"5\"></p>\n<p>å¯ä»¥çœ‹è§ï¼Œç»“è®ºæ­£ç¡®ã€‚</p>\n<p><strong>å‚è€ƒï¼š</strong><br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide\">https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide</a><br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth\">https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth</a></p>"},{"title":"è°ˆè°ˆcookieã€sessionä¸token(jwt)","date":"2021-12-07T14:04:05.000Z","_content":"\n**é¦–å…ˆå‘¢ï¼Œç½‘ä¸Šå…³äºå®ƒä»¬çš„æ–‡ç« å·²ç»å¾ˆå¤šäº†ï¼Œåœ¨è¿™é‡Œæˆ‘å°±åªæ˜¯æ¥è®°å½•ä»¥ä¸‹æˆ‘çš„ç†è§£ï¼Œå…¶å®ä¹Ÿæ˜¯çœ‹å…¶ä»–ç½‘ä¸Šå†…å®¹çš„ä¸€ä¸ªæ€»ç»“å§ã€‚**\n\n> **å‰è¨€ï¼šç”±äº HTTP åè®®æ— çŠ¶æ€çš„ç¼ºé™·ã€‚WEB çš„è®¾è®¡è€…ä»¬æå‡ºäº† Cookie å’Œ Session ä¸¤ç§è§£å†³æœºåˆ¶ã€‚è€Œ token,é€šå¸¸æ˜¯ jwt(json web token)ä½œä¸ºä¸€ç§ç”¨æˆ·èº«ä»½ä»¤ç‰Œï¼Œä¹Ÿå¸¸å¸¸ç”¨äºè®°å½• http çš„çŠ¶æ€å­˜å‚¨ï¼Œé€šå¸¸æ˜¯åœ¨ç”¨æˆ·ç™»å½•åï¼Œä¼´éšæ¯ä¸€æ¬¡è¯·æ±‚å‘é€ç»™ç»™åç«¯ã€‚ä¸‹é¢å°±æ¥èŠèŠå®ƒä»¬ã€‚**\n\n <!--more-->\n\n### cookie\n\n#### æ¦‚å¿µ\n\nCookie æ˜¯ä¸€æ®µä¸è¶…è¿‡ 4KB çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œç”±ä¸€ä¸ªåç§°ï¼ˆNameï¼‰ã€ä¸€ä¸ªå€¼ï¼ˆValueï¼‰å’Œå…¶å®ƒå‡ ä¸ªç”¨äºæ§åˆ¶ Cookie æœ‰æ•ˆæœŸã€å®‰å…¨æ€§ã€ä½¿ç”¨èŒƒå›´çš„å¯é€‰å±æ€§ç»„æˆã€‚\nåŒ…æ‹¬ï¼š\n\n1. Name/Valueï¼šè®¾ç½® Cookie çš„åç§°åŠç›¸å¯¹åº”çš„å€¼ï¼Œå¯¹äºè®¤è¯ Cookieï¼ŒValue å€¼åŒ…æ‹¬ Web æœåŠ¡å™¨æ‰€æä¾›çš„è®¿é—®ä»¤ç‰Œã€‚\n2. Expires å±æ€§ï¼šè®¾ç½® Cookie çš„ç”Ÿå­˜æœŸã€‚æœ‰ä¸¤ç§å­˜å‚¨ç±»å‹çš„ Cookieï¼šä¼šè¯æ€§ä¸æŒä¹…æ€§ã€‚Expires å±æ€§ç¼ºçœæ—¶ï¼Œä¸ºä¼šè¯æ€§ Cookieï¼Œä»…ä¿å­˜åœ¨å®¢æˆ·ç«¯å†…å­˜ä¸­ï¼Œå¹¶åœ¨ç”¨æˆ·å…³é—­æµè§ˆå™¨æ—¶å¤±æ•ˆï¼›æŒä¹…æ€§ Cookie ä¼šä¿å­˜åœ¨ç”¨æˆ·çš„ç¡¬ç›˜ä¸­ï¼Œç›´è‡³ç”Ÿå­˜æœŸåˆ°æˆ–ç”¨æˆ·ç›´æ¥åœ¨ç½‘é¡µä¸­å•å‡»â€œæ³¨é”€â€ç­‰æŒ‰é’®ç»“æŸä¼šè¯æ—¶æ‰ä¼šå¤±æ•ˆã€‚\n3. Domain å±æ€§ï¼šæŒ‡å®šäº†å¯ä»¥è®¿é—®è¯¥ Cookie çš„ Web ç«™ç‚¹æˆ–åŸŸã€‚Cookie æœºåˆ¶å¹¶æœªéµå¾ªä¸¥æ ¼çš„åŒæºç­–ç•¥ï¼Œå…è®¸ä¸€ä¸ªå­åŸŸï¼ˆåŸŸåå‰ç¼€ä¸åŒï¼‰å¯ä»¥è®¾ç½®æˆ–è·å–å…¶çˆ¶åŸŸçš„ Cookieã€‚\n4. Secure å±æ€§ï¼šæŒ‡å®šæ˜¯å¦ä½¿ç”¨ HTTPS å®‰å…¨åè®®å‘é€ Cookieã€‚\n5. Path å±æ€§ï¼šå®šä¹‰äº† Web ç«™ç‚¹ä¸Šå¯ä»¥è®¿é—®è¯¥ Cookie çš„ç›®å½•ã€‚\n6. HTTPOnly å±æ€§ ï¼šç”¨äºé˜²æ­¢å®¢æˆ·ç«¯è„šæœ¬é€šè¿‡ document.cookie å±æ€§è®¿é—® Cookieï¼Œæœ‰åŠ©äºä¿æŠ¤ Cookie ä¸è¢«è·¨ç«™è„šæœ¬æ”»å‡»çªƒå–æˆ–ç¯¡æ”¹ã€‚ä½†æ˜¯ï¼ŒHTTPOnly çš„åº”ç”¨ä»å­˜åœ¨å±€é™æ€§ï¼Œä¸€äº›æµè§ˆå™¨å¯ä»¥é˜»æ­¢å®¢æˆ·ç«¯è„šæœ¬å¯¹ Cookie çš„è¯»æ“ä½œï¼Œä½†å…è®¸å†™æ“ä½œï¼›æ­¤å¤–å¤§å¤šæ•°æµè§ˆå™¨ä»å…è®¸é€šè¿‡ XMLHTTP å¯¹è±¡è¯»å– HTTP å“åº”ä¸­çš„ Set-Cookie å¤´ã€‚\n   **å¥½äº†ï¼Œä»¥ä¸Šå†…å®¹æ˜¯æ¥è‡ªç™¾åº¦ç™¾ç§‘ã€‚ç®€å•åœ°åšä¸ªæ€»ç»“ï¼šcookie æ˜¯ä¸€ç§å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œé‡Œé¢çš„ç±»å®¹æœ‰é”®å€¼å¯¹ã€ç”Ÿå­˜å‘¨æœŸã€è®¿é—®åŸŸã€æ˜¯å¦ä½¿ç”¨ http,web ç«™ç‚¹å¯è®¿é—® cookie çš„ç›®å½•ä»¥åŠæ˜¯å¦å…è®¸å®¢æˆ·ç«¯è¯»å– cookieã€‚**\n\n#### å®‰å…¨æ€§\n\n**XSRF/CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰**ï¼šåˆ©ç”¨çš„æ˜¯ web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼šç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨,å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚è¿™é‡Œæœ‰ä¸€äº›å¦‚ Firefoxã€Opera ç­‰æµè§ˆå™¨ä½¿ç”¨å•è¿›ç¨‹æœºåˆ¶ï¼Œ**å¤šä¸ªçª—å£æˆ–æ ‡ç­¾ä½¿ç”¨åŒä¸€ä¸ªè¿›ç¨‹ï¼Œå…±äº« Cookie ç­‰ä¼šè¯æ•°æ®**ã€‚IE åˆ™æ··åˆä½¿ç”¨å•è¿›ç¨‹ä¸å¤šè¿›ç¨‹æ¨¡å¼ï¼Œä¸€ä¸ªçª—å£ä¸­çš„å¤šä¸ªæ ‡ç­¾ï¼Œä»¥åŠä½¿ç”¨â€œCTRL+Nâ€ æˆ–å•å‡»ç½‘é¡µä¸­çš„é“¾æ¥æ‰“å¼€çš„æ–°çª—å£ä½¿ç”¨åŒä¸€è¿›ç¨‹ï¼Œå…±äº«ä¼šè¯æ•°æ®ï¼›åªæœ‰ç›´æ¥è¿è¡Œ IE å¯æ‰§è¡Œç¨‹åºæ‰“å¼€çª—å£æ—¶ï¼Œæ‰ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚**Chrome è™½ç„¶ä½¿ç”¨å¤šè¿›ç¨‹æœºåˆ¶ï¼Œç„¶è€Œç»æµ‹è¯•å‘ç°ï¼Œå…¶ä¸åŒçš„çª—å£æˆ–æ ‡ç­¾ä¹‹é—´ä»ä¼šå…±äº«ä¼šè¯æ•°æ®ï¼Œé™¤éä½¿ç”¨éšèº«è®¿é—®æ–¹å¼ã€‚**å› è€Œï¼Œç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæµè§ˆå™¨çª—å£æˆ–æ ‡ç­¾è®¿é—®äº’è”ç½‘èµ„æºæ—¶ï¼Œå°±ä¸º CSRF æ”»å‡»ç¯¡å¤ºç”¨æˆ·çš„ä¼šè¯ Cookie åˆ›é€ äº†æ¡ä»¶ã€‚å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚å…¶æœ€å…¸å‹çš„ä¾‹å­**å°±æ˜¯å½“ cookie è¿˜æ²¡è¿‡æœŸæ—¶ï¼Œç”¨æˆ·æµè§ˆçš„ç½‘ç«™æœ‰ä¸å…¶æ²¡è¿‡æœŸçš„ç½‘ç«™çš„ä¸€äº› api è¯·æ±‚ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·æµè§ˆè¿™ä¸ªæ¶æ„ç½‘ç«™æ—¶å°±å¯èƒ½ä¼šå—åˆ°å±å®³**ã€‚\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202112161949.png)\n**ä¼šè¯å®šç½®(Session Fixation)æ”»å‡»**æ˜¯æŒ‡ï¼Œæ”»å‡»è€…å‘å—å®³è€…ä¸»æœºæ³¨å…¥è‡ªå·±æ§åˆ¶çš„è®¤è¯ Cookie ç­‰ä¿¡æ¯ï¼Œä½¿å¾—å—å®³è€…ä»¥æ”»å‡»è€…çš„èº«ä»½ç™»å½•ç½‘ç«™ï¼Œä»è€Œçªƒå–å—å®³è€…çš„ä¼šè¯ä¿¡æ¯ã€‚æ³¨å…¥ Cookie çš„æ–¹æ³•åŒ…æ‹¬ï¼šä½¿ç”¨è·¨ç«™è„šæœ¬æˆ–æœ¨é©¬ç­‰æ¶æ„ç¨‹åºï¼›æˆ–ä¼ªé€ ä¸åˆæ³•ç½‘ç«™åŒåŸŸçš„ç«™ç‚¹ï¼Œå¹¶åˆ©ç”¨å„ç§æ–¹æ³•æ¬ºéª—ç”¨æˆ·è®¿é—®è¯¥ä»¿å†’ç½‘ç«™ï¼Œä»è€Œé€šè¿‡ HTTP å“åº”ä¸­çš„ Set-Cookie å¤´å°†æ”»å‡»è€…æ‹¥æœ‰çš„è¯¥åŸŸ Cookie å‘é€ç»™ç”¨æˆ·ç­‰ã€‚å› ä¸º sessionID ä¸€èˆ¬éƒ½ä¼šæ”¾åœ¨ cookie ä¸­å­˜å‚¨ï¼Œæ‰€ä»¥ä¼šå®¹æ˜“å—åˆ°ä¼šè¯å®šåˆ¶æ”»å‡»ã€‚\n\n### Session\n\n#### æ¦‚å¿µ\n\nä¸ cookie ç›¸æ¯”ï¼Œsession å°±æ˜¯å­˜æ”¾åœ¨æœåŠ¡ç«¯äº†ï¼Œå®ƒè¡¨ç¤ºåœ¨å®¢æˆ·ç«¯ç™»å½•æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‘æ”¾ä¸€ä¸ª sessionid åˆ°å®¢æˆ·ç«¯ï¼Œå®ƒä¸€èˆ¬å­˜åœ¨ cookie ä¸­ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä»¥åçš„è¯·æ±‚å°±ä¼šåœ¨è¯·æ±‚å¤´çš„ cookies å­—æ®µä¸­æºå¸¦è¿™ä¸ªä¿¡æ¯ã€‚è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ•°æ®åˆ¤æ–­å®¢æˆ·ç«¯çš„ç™»å½•çŠ¶æ€ã€‚è¿™å°±å¥½æ¯”æˆ‘ä»¬å»ç‚¹èœï¼Œç‚¹å¥½äº†åå•†å®¶ç»™æˆ‘ä»¬ä¸€ä¸ªå·ç ç‰Œï¼Œç­‰èœå¥½äº†ï¼Œå°±é€å¾€ç›¸åº”å·ç ç‰Œçš„ä½ç½®ã€‚\n\n#### å®‰å…¨æ€§\n\nå› ä¸º session æ˜¯æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„å®‰å…¨æ€§å°±è€ƒè™‘ sessionid çš„ä¼ªé€ ä¸æˆªè·ã€‚å¦‚æœ sessionid æ˜¯æ”¾åœ¨ cookie ä¸­çš„ï¼Œé‚£ä¹ˆ cookie çš„æ—¶æ•ˆå°±å†³å®šäº† sessionid å³ç™»å½•çŠ¶æ€çš„æ—¶æ•ˆã€‚\néœ€è¦æ³¨æ„çš„å°±æ˜¯ä¼šè¯å›ºå®šï¼ˆsession fixation)ï¼šæ„æ€æ˜¯æ”»å‡»è€…å…ˆè‡ªå·±è·å–ä¸€ä¸ª sessionid,ç„¶åå‡å†’ä¸€ä¸ªç½‘ç«™å¹¶å°†è¿æ¥å‘ç»™è¢«æ”»å‡»çš„äººï¼Œå½“å—å®³è€…ç™»å½•åï¼Œæ”»å‡»è€…å°±å¯ä»¥åŠ«æŒå—å®³äººçš„ä¼šè¯ã€‚å› ä¸ºåœ¨æ”»å‡»è€…ç™»å½•è·å– sessionid åï¼Œç½‘ç»œæœåŠ¡å™¨çœ‹åˆ°ä¼šè¯å·²ç»å»ºç«‹ï¼Œæ— éœ€åˆ›å»ºæ–°çš„ä¼šè¯ã€‚æ‰€ä»¥æ”»å‡»è€…å°±æˆåŠŸåœ°å†’å……äº†å—å®³è€…ï¼Œä»è€Œè·å–äº†å—å®³è€…çš„ä¿¡æ¯ã€‚\n\n### Tokenï¼ˆJWTï¼‰\n\n#### æ¦‚å¿µï¼š\n\nJSON Web Token (JWT) æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡† (RFC 7519)ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘ä¸”è‡ªåŒ…å«çš„æ–¹å¼ï¼Œç”¨äºåœ¨å„æ–¹ä¹‹é—´ä½œä¸º JSON å¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ­¤ä¿¡æ¯ç»è¿‡æ•°å­—ç­¾åï¼Œå› æ­¤å¯ä»¥éªŒè¯å’Œä¿¡ä»»ã€‚ JWT å¯ä»¥ä½¿ç”¨ç§˜å¯†ï¼ˆä½¿ç”¨ HMAC ç®—æ³•ï¼‰æˆ–ä½¿ç”¨ RSA æˆ– ECDSA çš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚å°½ç®¡ JWTs å¯ä»¥è¢«åŠ å¯†ï¼Œä»¥ä¾¿åœ¨å„æ–¹ä¹‹é—´æä¾›ä¿å¯†æ€§ï¼Œä½†æˆ‘ä»¬å°†ä¸“æ³¨äºç­¾åçš„ä»¤ç‰Œã€‚ç­¾åçš„ä»¤ç‰Œå¯ä»¥éªŒè¯å…¶ä¸­åŒ…å«çš„ç´¢èµ”çš„å®Œæ•´æ€§ï¼Œè€ŒåŠ å¯†çš„ä»¤ç‰Œåˆ™å¯¹å…¶ä»–å„æ–¹éšè—è¿™äº›ç´¢èµ”ã€‚å½“ä»¤ç‰Œä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ç­¾åæ—¶ï¼Œç­¾åä¹Ÿè¯æ˜äº†åªæœ‰æŒæœ‰ç§é’¥çš„ä¸€æ–¹æ‰æ˜¯ç­¾åè€…ã€‚ - - - - https://jwt.io/introduction\n\n#### ç»„æˆï¼š\n\n> å½¢å¦‚ï¼šxxxxx.yyyyy.zzzzz\n\n1. headerï¼šæ ‡å¤´é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼Œå³ JWTï¼Œä»¥åŠæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¾‹å¦‚ HMAC SHA256 æˆ– RSAã€‚**ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚**\n\n```javascript\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n```\n\n2. payloadï¼šåŒ…å«ä¸€äº›å£°æ˜ï¼Œ å£°æ˜æ˜¯å…³äºå®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œé™„åŠ æ•°æ®çš„å£°æ˜ã€‚å…±æœ‰ä¸‰ç§ç±»å‹çš„ claimsï¼šæ³¨å†Œè´Ÿè½½ã€å…¬å…±è´Ÿè½½å’Œç§äººè´Ÿè½½ã€‚\n\n- Registered claimsï¼ˆæ³¨å†Œï¼‰: é€šå¸¸æœ‰å››ä¸ªéƒ¨åˆ†ï¼Œiss(issuer)ï¼Œexp (expiration time), sub (subject), aud (audience)ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ï¼Œæ¯”å¦‚ï¼šnbf (Not Before)ã€iat (Issued At)ã€jti (JWT ID)ã€‚\n  **issï¼ˆissuerï¼‰**ï¼šå£°æ˜æ ‡è¯†å‘è¡Œè¯¥è¯ä¹¦çš„å§”æ‰˜äººã€‚\n  **exp (expiration time)**ï¼šå£°æ˜æ ‡è¯†äº†è¿‡æœŸæ—¶é—´æˆ–ä¹‹åä¸å¾—æ¥å— JWT è¿›è¡Œå¤„ç†\n  **sub (subject)**ï¼šJWT çš„ä¸»é¢˜ã€‚ JWT ä¸­çš„å£°æ˜é€šå¸¸æ˜¯å£°æ˜ï¼Œå…³äºä¸»é¢˜ã€‚ä¸»é¢˜å€¼å¿…é¡»è¦ä¹ˆè¢«é™å®šä¸ºåœ¨å‘è¡Œäººçš„ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ¬åœ°å”¯ä¸€çš„ï¼Œæˆ–è€…æ˜¯å…¨çƒå”¯ä¸€çš„ã€‚\n  **aud (audience)**ï¼šå£°æ˜æ ‡è¯†äº† JWT çš„æ¥æ”¶è€…ã€‚\n- Public claimsï¼ˆå…¬å…±ï¼‰ï¼šè¿™äº›å¯ä»¥ç”±ä½¿ç”¨ JWT çš„äººéšæ„å®šä¹‰ã€‚ä½†æ˜¯ä¸ºäº†é¿å…å†²çªï¼Œå®ƒä»¬åº”è¯¥åœ¨ [IANA JSON Web Token Registry](https://www.iana.org/assignments/jwt/jwt.xhtml) ä¸­å®šä¹‰ï¼Œæˆ–è€…å®šä¹‰ä¸ºåŒ…å«æŠ—å†²çªå‘½åç©ºé—´çš„ URIã€‚\n- Private claimsï¼ˆç§æœ‰ï¼‰ï¼šè¿™äº›æ˜¯ä¸ºäº†åœ¨åŒæ„ä½¿ç”¨å®ƒä»¬çš„å„æ–¹ä¹‹é—´å…±äº«ä¿¡æ¯è€Œåˆ›å»ºçš„è‡ªå®šä¹‰å£°æ˜ï¼Œè¿™äº›å£°æ˜æ—¢ä¸æ˜¯æ³¨å†Œå£°æ˜ä¹Ÿä¸æ˜¯å…¬å¼€å£°æ˜ã€‚æ­¤å£°æ˜çš„å¤„ç†é€šå¸¸æ˜¯**ç‰¹å®šäºåº”ç”¨ç¨‹åº**çš„ã€‚\n\n**ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬äºŒéƒ¨åˆ†ã€‚**\n**è¿™é‡Œï¼Œheader ä¸ payload éƒ½æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ base64url è§£ç è·å¾—å…¶ json æ•°æ®çš„ã€‚** 3. signatureï¼šç­¾åï¼Œè¿™æ˜¯ jwt æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå°±æ˜¯åŒ…å« base64 ç¼–ç çš„ header,payload,ä»¥åŠ secretï¼Œæœ€åå†å°†æ•´ä¸ªä½¿ç”¨åŠ å¯†ç®—æ³•è¿›è¡ŒåŠ å¯†ã€‚å…¶ä¸­çš„ secret å°±æ˜¯æœåŠ¡ç«¯å‘æ”¾çš„ç§é’¥ã€‚\n\n> å½¢å¦‚ï¼š\n> HMACSHA256(\n> base64UrlEncode(header) + \".\" +\n> base64UrlEncode(payload),\n> secret\n> )\n\n#### ä½¿ç”¨\n\næ¯å½“ç”¨æˆ·æƒ³è¦è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æˆ–èµ„æºæ—¶ï¼Œç”¨æˆ·ä»£ç†åº”å‘é€ JWTï¼Œé€šå¸¸åœ¨ä½¿ç”¨ Bearer æ¨¡å¼çš„ Authorization æ ‡å¤´ä¸­ã€‚æ ‡é¢˜çš„å†…å®¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```javascript\nAuthorization: Bearer <token>\n```\n\nå¦‚æœä»¤ç‰Œåœ¨ Authorization æ ‡å¤´ä¸­å‘é€ï¼Œåˆ™è·¨æºèµ„æºå…±äº« (CORS) ä¸ä¼šæˆä¸ºé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨ cookieï¼ˆcookie æ˜¯ä¸èƒ½è·¨åŸŸçš„ï¼‰ã€‚è¿™ä¸€ç‚¹å°±éå¸¸é€‚åˆå•ç‚¹ç™»å½•ã€‚\n\n#### å®‰å…¨æ€§\n\nå› ä¸ºåœ¨ jwt ç­¾å‘çš„æ—¶å€™ï¼Œå¯†é’¥æ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æ¥è¯´æ˜¯æ¯”è¾ƒå®‰å…¨çš„ï¼Œå½“ payload çš„æ•°æ®ä¿®æ”¹åï¼Œå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šé‡‡ç”¨ç›¸åŒçš„åŠ å¯†ç®—æ³•ç”Ÿæˆä¸€ä¸ª token å‰¯æœ¬ä¸ä¹‹å‰ç­¾å‘çš„è¿›è¡Œå¯¹æ¯”ï¼Œæ˜¾ç„¶ï¼Œä¿®æ”¹åçš„æ•°æ®å†æ¬¡åŠ å¯†åä¸ä¹‹å‰çš„ token å¯¹æ¯”è‚¯å®šä¸åŒã€‚\nåœ¨ payload ä¸­ï¼Œå› ä¸ºæ˜¯ base64url ç¼–ç çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è§£ç è·å–ä¿¡æ¯ï¼Œå› æ­¤ä¸å®œåœ¨é‡Œé¢æ”¾ä¸€äº›æ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ã€‚\n","source":"_posts/è°ˆè°ˆcookieã€sessionä¸token-jwt.md","raw":"---\ntitle: è°ˆè°ˆcookieã€sessionä¸token(jwt)\ndate: 2021-12-07 22:04:05\ncategories: web\n---\n\n**é¦–å…ˆå‘¢ï¼Œç½‘ä¸Šå…³äºå®ƒä»¬çš„æ–‡ç« å·²ç»å¾ˆå¤šäº†ï¼Œåœ¨è¿™é‡Œæˆ‘å°±åªæ˜¯æ¥è®°å½•ä»¥ä¸‹æˆ‘çš„ç†è§£ï¼Œå…¶å®ä¹Ÿæ˜¯çœ‹å…¶ä»–ç½‘ä¸Šå†…å®¹çš„ä¸€ä¸ªæ€»ç»“å§ã€‚**\n\n> **å‰è¨€ï¼šç”±äº HTTP åè®®æ— çŠ¶æ€çš„ç¼ºé™·ã€‚WEB çš„è®¾è®¡è€…ä»¬æå‡ºäº† Cookie å’Œ Session ä¸¤ç§è§£å†³æœºåˆ¶ã€‚è€Œ token,é€šå¸¸æ˜¯ jwt(json web token)ä½œä¸ºä¸€ç§ç”¨æˆ·èº«ä»½ä»¤ç‰Œï¼Œä¹Ÿå¸¸å¸¸ç”¨äºè®°å½• http çš„çŠ¶æ€å­˜å‚¨ï¼Œé€šå¸¸æ˜¯åœ¨ç”¨æˆ·ç™»å½•åï¼Œä¼´éšæ¯ä¸€æ¬¡è¯·æ±‚å‘é€ç»™ç»™åç«¯ã€‚ä¸‹é¢å°±æ¥èŠèŠå®ƒä»¬ã€‚**\n\n <!--more-->\n\n### cookie\n\n#### æ¦‚å¿µ\n\nCookie æ˜¯ä¸€æ®µä¸è¶…è¿‡ 4KB çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œç”±ä¸€ä¸ªåç§°ï¼ˆNameï¼‰ã€ä¸€ä¸ªå€¼ï¼ˆValueï¼‰å’Œå…¶å®ƒå‡ ä¸ªç”¨äºæ§åˆ¶ Cookie æœ‰æ•ˆæœŸã€å®‰å…¨æ€§ã€ä½¿ç”¨èŒƒå›´çš„å¯é€‰å±æ€§ç»„æˆã€‚\nåŒ…æ‹¬ï¼š\n\n1. Name/Valueï¼šè®¾ç½® Cookie çš„åç§°åŠç›¸å¯¹åº”çš„å€¼ï¼Œå¯¹äºè®¤è¯ Cookieï¼ŒValue å€¼åŒ…æ‹¬ Web æœåŠ¡å™¨æ‰€æä¾›çš„è®¿é—®ä»¤ç‰Œã€‚\n2. Expires å±æ€§ï¼šè®¾ç½® Cookie çš„ç”Ÿå­˜æœŸã€‚æœ‰ä¸¤ç§å­˜å‚¨ç±»å‹çš„ Cookieï¼šä¼šè¯æ€§ä¸æŒä¹…æ€§ã€‚Expires å±æ€§ç¼ºçœæ—¶ï¼Œä¸ºä¼šè¯æ€§ Cookieï¼Œä»…ä¿å­˜åœ¨å®¢æˆ·ç«¯å†…å­˜ä¸­ï¼Œå¹¶åœ¨ç”¨æˆ·å…³é—­æµè§ˆå™¨æ—¶å¤±æ•ˆï¼›æŒä¹…æ€§ Cookie ä¼šä¿å­˜åœ¨ç”¨æˆ·çš„ç¡¬ç›˜ä¸­ï¼Œç›´è‡³ç”Ÿå­˜æœŸåˆ°æˆ–ç”¨æˆ·ç›´æ¥åœ¨ç½‘é¡µä¸­å•å‡»â€œæ³¨é”€â€ç­‰æŒ‰é’®ç»“æŸä¼šè¯æ—¶æ‰ä¼šå¤±æ•ˆã€‚\n3. Domain å±æ€§ï¼šæŒ‡å®šäº†å¯ä»¥è®¿é—®è¯¥ Cookie çš„ Web ç«™ç‚¹æˆ–åŸŸã€‚Cookie æœºåˆ¶å¹¶æœªéµå¾ªä¸¥æ ¼çš„åŒæºç­–ç•¥ï¼Œå…è®¸ä¸€ä¸ªå­åŸŸï¼ˆåŸŸåå‰ç¼€ä¸åŒï¼‰å¯ä»¥è®¾ç½®æˆ–è·å–å…¶çˆ¶åŸŸçš„ Cookieã€‚\n4. Secure å±æ€§ï¼šæŒ‡å®šæ˜¯å¦ä½¿ç”¨ HTTPS å®‰å…¨åè®®å‘é€ Cookieã€‚\n5. Path å±æ€§ï¼šå®šä¹‰äº† Web ç«™ç‚¹ä¸Šå¯ä»¥è®¿é—®è¯¥ Cookie çš„ç›®å½•ã€‚\n6. HTTPOnly å±æ€§ ï¼šç”¨äºé˜²æ­¢å®¢æˆ·ç«¯è„šæœ¬é€šè¿‡ document.cookie å±æ€§è®¿é—® Cookieï¼Œæœ‰åŠ©äºä¿æŠ¤ Cookie ä¸è¢«è·¨ç«™è„šæœ¬æ”»å‡»çªƒå–æˆ–ç¯¡æ”¹ã€‚ä½†æ˜¯ï¼ŒHTTPOnly çš„åº”ç”¨ä»å­˜åœ¨å±€é™æ€§ï¼Œä¸€äº›æµè§ˆå™¨å¯ä»¥é˜»æ­¢å®¢æˆ·ç«¯è„šæœ¬å¯¹ Cookie çš„è¯»æ“ä½œï¼Œä½†å…è®¸å†™æ“ä½œï¼›æ­¤å¤–å¤§å¤šæ•°æµè§ˆå™¨ä»å…è®¸é€šè¿‡ XMLHTTP å¯¹è±¡è¯»å– HTTP å“åº”ä¸­çš„ Set-Cookie å¤´ã€‚\n   **å¥½äº†ï¼Œä»¥ä¸Šå†…å®¹æ˜¯æ¥è‡ªç™¾åº¦ç™¾ç§‘ã€‚ç®€å•åœ°åšä¸ªæ€»ç»“ï¼šcookie æ˜¯ä¸€ç§å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œé‡Œé¢çš„ç±»å®¹æœ‰é”®å€¼å¯¹ã€ç”Ÿå­˜å‘¨æœŸã€è®¿é—®åŸŸã€æ˜¯å¦ä½¿ç”¨ http,web ç«™ç‚¹å¯è®¿é—® cookie çš„ç›®å½•ä»¥åŠæ˜¯å¦å…è®¸å®¢æˆ·ç«¯è¯»å– cookieã€‚**\n\n#### å®‰å…¨æ€§\n\n**XSRF/CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰**ï¼šåˆ©ç”¨çš„æ˜¯ web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼šç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨,å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚è¿™é‡Œæœ‰ä¸€äº›å¦‚ Firefoxã€Opera ç­‰æµè§ˆå™¨ä½¿ç”¨å•è¿›ç¨‹æœºåˆ¶ï¼Œ**å¤šä¸ªçª—å£æˆ–æ ‡ç­¾ä½¿ç”¨åŒä¸€ä¸ªè¿›ç¨‹ï¼Œå…±äº« Cookie ç­‰ä¼šè¯æ•°æ®**ã€‚IE åˆ™æ··åˆä½¿ç”¨å•è¿›ç¨‹ä¸å¤šè¿›ç¨‹æ¨¡å¼ï¼Œä¸€ä¸ªçª—å£ä¸­çš„å¤šä¸ªæ ‡ç­¾ï¼Œä»¥åŠä½¿ç”¨â€œCTRL+Nâ€ æˆ–å•å‡»ç½‘é¡µä¸­çš„é“¾æ¥æ‰“å¼€çš„æ–°çª—å£ä½¿ç”¨åŒä¸€è¿›ç¨‹ï¼Œå…±äº«ä¼šè¯æ•°æ®ï¼›åªæœ‰ç›´æ¥è¿è¡Œ IE å¯æ‰§è¡Œç¨‹åºæ‰“å¼€çª—å£æ—¶ï¼Œæ‰ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚**Chrome è™½ç„¶ä½¿ç”¨å¤šè¿›ç¨‹æœºåˆ¶ï¼Œç„¶è€Œç»æµ‹è¯•å‘ç°ï¼Œå…¶ä¸åŒçš„çª—å£æˆ–æ ‡ç­¾ä¹‹é—´ä»ä¼šå…±äº«ä¼šè¯æ•°æ®ï¼Œé™¤éä½¿ç”¨éšèº«è®¿é—®æ–¹å¼ã€‚**å› è€Œï¼Œç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæµè§ˆå™¨çª—å£æˆ–æ ‡ç­¾è®¿é—®äº’è”ç½‘èµ„æºæ—¶ï¼Œå°±ä¸º CSRF æ”»å‡»ç¯¡å¤ºç”¨æˆ·çš„ä¼šè¯ Cookie åˆ›é€ äº†æ¡ä»¶ã€‚å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚å…¶æœ€å…¸å‹çš„ä¾‹å­**å°±æ˜¯å½“ cookie è¿˜æ²¡è¿‡æœŸæ—¶ï¼Œç”¨æˆ·æµè§ˆçš„ç½‘ç«™æœ‰ä¸å…¶æ²¡è¿‡æœŸçš„ç½‘ç«™çš„ä¸€äº› api è¯·æ±‚ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·æµè§ˆè¿™ä¸ªæ¶æ„ç½‘ç«™æ—¶å°±å¯èƒ½ä¼šå—åˆ°å±å®³**ã€‚\n![](https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202112161949.png)\n**ä¼šè¯å®šç½®(Session Fixation)æ”»å‡»**æ˜¯æŒ‡ï¼Œæ”»å‡»è€…å‘å—å®³è€…ä¸»æœºæ³¨å…¥è‡ªå·±æ§åˆ¶çš„è®¤è¯ Cookie ç­‰ä¿¡æ¯ï¼Œä½¿å¾—å—å®³è€…ä»¥æ”»å‡»è€…çš„èº«ä»½ç™»å½•ç½‘ç«™ï¼Œä»è€Œçªƒå–å—å®³è€…çš„ä¼šè¯ä¿¡æ¯ã€‚æ³¨å…¥ Cookie çš„æ–¹æ³•åŒ…æ‹¬ï¼šä½¿ç”¨è·¨ç«™è„šæœ¬æˆ–æœ¨é©¬ç­‰æ¶æ„ç¨‹åºï¼›æˆ–ä¼ªé€ ä¸åˆæ³•ç½‘ç«™åŒåŸŸçš„ç«™ç‚¹ï¼Œå¹¶åˆ©ç”¨å„ç§æ–¹æ³•æ¬ºéª—ç”¨æˆ·è®¿é—®è¯¥ä»¿å†’ç½‘ç«™ï¼Œä»è€Œé€šè¿‡ HTTP å“åº”ä¸­çš„ Set-Cookie å¤´å°†æ”»å‡»è€…æ‹¥æœ‰çš„è¯¥åŸŸ Cookie å‘é€ç»™ç”¨æˆ·ç­‰ã€‚å› ä¸º sessionID ä¸€èˆ¬éƒ½ä¼šæ”¾åœ¨ cookie ä¸­å­˜å‚¨ï¼Œæ‰€ä»¥ä¼šå®¹æ˜“å—åˆ°ä¼šè¯å®šåˆ¶æ”»å‡»ã€‚\n\n### Session\n\n#### æ¦‚å¿µ\n\nä¸ cookie ç›¸æ¯”ï¼Œsession å°±æ˜¯å­˜æ”¾åœ¨æœåŠ¡ç«¯äº†ï¼Œå®ƒè¡¨ç¤ºåœ¨å®¢æˆ·ç«¯ç™»å½•æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‘æ”¾ä¸€ä¸ª sessionid åˆ°å®¢æˆ·ç«¯ï¼Œå®ƒä¸€èˆ¬å­˜åœ¨ cookie ä¸­ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä»¥åçš„è¯·æ±‚å°±ä¼šåœ¨è¯·æ±‚å¤´çš„ cookies å­—æ®µä¸­æºå¸¦è¿™ä¸ªä¿¡æ¯ã€‚è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ•°æ®åˆ¤æ–­å®¢æˆ·ç«¯çš„ç™»å½•çŠ¶æ€ã€‚è¿™å°±å¥½æ¯”æˆ‘ä»¬å»ç‚¹èœï¼Œç‚¹å¥½äº†åå•†å®¶ç»™æˆ‘ä»¬ä¸€ä¸ªå·ç ç‰Œï¼Œç­‰èœå¥½äº†ï¼Œå°±é€å¾€ç›¸åº”å·ç ç‰Œçš„ä½ç½®ã€‚\n\n#### å®‰å…¨æ€§\n\nå› ä¸º session æ˜¯æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„å®‰å…¨æ€§å°±è€ƒè™‘ sessionid çš„ä¼ªé€ ä¸æˆªè·ã€‚å¦‚æœ sessionid æ˜¯æ”¾åœ¨ cookie ä¸­çš„ï¼Œé‚£ä¹ˆ cookie çš„æ—¶æ•ˆå°±å†³å®šäº† sessionid å³ç™»å½•çŠ¶æ€çš„æ—¶æ•ˆã€‚\néœ€è¦æ³¨æ„çš„å°±æ˜¯ä¼šè¯å›ºå®šï¼ˆsession fixation)ï¼šæ„æ€æ˜¯æ”»å‡»è€…å…ˆè‡ªå·±è·å–ä¸€ä¸ª sessionid,ç„¶åå‡å†’ä¸€ä¸ªç½‘ç«™å¹¶å°†è¿æ¥å‘ç»™è¢«æ”»å‡»çš„äººï¼Œå½“å—å®³è€…ç™»å½•åï¼Œæ”»å‡»è€…å°±å¯ä»¥åŠ«æŒå—å®³äººçš„ä¼šè¯ã€‚å› ä¸ºåœ¨æ”»å‡»è€…ç™»å½•è·å– sessionid åï¼Œç½‘ç»œæœåŠ¡å™¨çœ‹åˆ°ä¼šè¯å·²ç»å»ºç«‹ï¼Œæ— éœ€åˆ›å»ºæ–°çš„ä¼šè¯ã€‚æ‰€ä»¥æ”»å‡»è€…å°±æˆåŠŸåœ°å†’å……äº†å—å®³è€…ï¼Œä»è€Œè·å–äº†å—å®³è€…çš„ä¿¡æ¯ã€‚\n\n### Tokenï¼ˆJWTï¼‰\n\n#### æ¦‚å¿µï¼š\n\nJSON Web Token (JWT) æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡† (RFC 7519)ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘ä¸”è‡ªåŒ…å«çš„æ–¹å¼ï¼Œç”¨äºåœ¨å„æ–¹ä¹‹é—´ä½œä¸º JSON å¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ­¤ä¿¡æ¯ç»è¿‡æ•°å­—ç­¾åï¼Œå› æ­¤å¯ä»¥éªŒè¯å’Œä¿¡ä»»ã€‚ JWT å¯ä»¥ä½¿ç”¨ç§˜å¯†ï¼ˆä½¿ç”¨ HMAC ç®—æ³•ï¼‰æˆ–ä½¿ç”¨ RSA æˆ– ECDSA çš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚å°½ç®¡ JWTs å¯ä»¥è¢«åŠ å¯†ï¼Œä»¥ä¾¿åœ¨å„æ–¹ä¹‹é—´æä¾›ä¿å¯†æ€§ï¼Œä½†æˆ‘ä»¬å°†ä¸“æ³¨äºç­¾åçš„ä»¤ç‰Œã€‚ç­¾åçš„ä»¤ç‰Œå¯ä»¥éªŒè¯å…¶ä¸­åŒ…å«çš„ç´¢èµ”çš„å®Œæ•´æ€§ï¼Œè€ŒåŠ å¯†çš„ä»¤ç‰Œåˆ™å¯¹å…¶ä»–å„æ–¹éšè—è¿™äº›ç´¢èµ”ã€‚å½“ä»¤ç‰Œä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ç­¾åæ—¶ï¼Œç­¾åä¹Ÿè¯æ˜äº†åªæœ‰æŒæœ‰ç§é’¥çš„ä¸€æ–¹æ‰æ˜¯ç­¾åè€…ã€‚ - - - - https://jwt.io/introduction\n\n#### ç»„æˆï¼š\n\n> å½¢å¦‚ï¼šxxxxx.yyyyy.zzzzz\n\n1. headerï¼šæ ‡å¤´é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼Œå³ JWTï¼Œä»¥åŠæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¾‹å¦‚ HMAC SHA256 æˆ– RSAã€‚**ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚**\n\n```javascript\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n```\n\n2. payloadï¼šåŒ…å«ä¸€äº›å£°æ˜ï¼Œ å£°æ˜æ˜¯å…³äºå®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œé™„åŠ æ•°æ®çš„å£°æ˜ã€‚å…±æœ‰ä¸‰ç§ç±»å‹çš„ claimsï¼šæ³¨å†Œè´Ÿè½½ã€å…¬å…±è´Ÿè½½å’Œç§äººè´Ÿè½½ã€‚\n\n- Registered claimsï¼ˆæ³¨å†Œï¼‰: é€šå¸¸æœ‰å››ä¸ªéƒ¨åˆ†ï¼Œiss(issuer)ï¼Œexp (expiration time), sub (subject), aud (audience)ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ï¼Œæ¯”å¦‚ï¼šnbf (Not Before)ã€iat (Issued At)ã€jti (JWT ID)ã€‚\n  **issï¼ˆissuerï¼‰**ï¼šå£°æ˜æ ‡è¯†å‘è¡Œè¯¥è¯ä¹¦çš„å§”æ‰˜äººã€‚\n  **exp (expiration time)**ï¼šå£°æ˜æ ‡è¯†äº†è¿‡æœŸæ—¶é—´æˆ–ä¹‹åä¸å¾—æ¥å— JWT è¿›è¡Œå¤„ç†\n  **sub (subject)**ï¼šJWT çš„ä¸»é¢˜ã€‚ JWT ä¸­çš„å£°æ˜é€šå¸¸æ˜¯å£°æ˜ï¼Œå…³äºä¸»é¢˜ã€‚ä¸»é¢˜å€¼å¿…é¡»è¦ä¹ˆè¢«é™å®šä¸ºåœ¨å‘è¡Œäººçš„ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ¬åœ°å”¯ä¸€çš„ï¼Œæˆ–è€…æ˜¯å…¨çƒå”¯ä¸€çš„ã€‚\n  **aud (audience)**ï¼šå£°æ˜æ ‡è¯†äº† JWT çš„æ¥æ”¶è€…ã€‚\n- Public claimsï¼ˆå…¬å…±ï¼‰ï¼šè¿™äº›å¯ä»¥ç”±ä½¿ç”¨ JWT çš„äººéšæ„å®šä¹‰ã€‚ä½†æ˜¯ä¸ºäº†é¿å…å†²çªï¼Œå®ƒä»¬åº”è¯¥åœ¨ [IANA JSON Web Token Registry](https://www.iana.org/assignments/jwt/jwt.xhtml) ä¸­å®šä¹‰ï¼Œæˆ–è€…å®šä¹‰ä¸ºåŒ…å«æŠ—å†²çªå‘½åç©ºé—´çš„ URIã€‚\n- Private claimsï¼ˆç§æœ‰ï¼‰ï¼šè¿™äº›æ˜¯ä¸ºäº†åœ¨åŒæ„ä½¿ç”¨å®ƒä»¬çš„å„æ–¹ä¹‹é—´å…±äº«ä¿¡æ¯è€Œåˆ›å»ºçš„è‡ªå®šä¹‰å£°æ˜ï¼Œè¿™äº›å£°æ˜æ—¢ä¸æ˜¯æ³¨å†Œå£°æ˜ä¹Ÿä¸æ˜¯å…¬å¼€å£°æ˜ã€‚æ­¤å£°æ˜çš„å¤„ç†é€šå¸¸æ˜¯**ç‰¹å®šäºåº”ç”¨ç¨‹åº**çš„ã€‚\n\n**ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬äºŒéƒ¨åˆ†ã€‚**\n**è¿™é‡Œï¼Œheader ä¸ payload éƒ½æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ base64url è§£ç è·å¾—å…¶ json æ•°æ®çš„ã€‚** 3. signatureï¼šç­¾åï¼Œè¿™æ˜¯ jwt æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå°±æ˜¯åŒ…å« base64 ç¼–ç çš„ header,payload,ä»¥åŠ secretï¼Œæœ€åå†å°†æ•´ä¸ªä½¿ç”¨åŠ å¯†ç®—æ³•è¿›è¡ŒåŠ å¯†ã€‚å…¶ä¸­çš„ secret å°±æ˜¯æœåŠ¡ç«¯å‘æ”¾çš„ç§é’¥ã€‚\n\n> å½¢å¦‚ï¼š\n> HMACSHA256(\n> base64UrlEncode(header) + \".\" +\n> base64UrlEncode(payload),\n> secret\n> )\n\n#### ä½¿ç”¨\n\næ¯å½“ç”¨æˆ·æƒ³è¦è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æˆ–èµ„æºæ—¶ï¼Œç”¨æˆ·ä»£ç†åº”å‘é€ JWTï¼Œé€šå¸¸åœ¨ä½¿ç”¨ Bearer æ¨¡å¼çš„ Authorization æ ‡å¤´ä¸­ã€‚æ ‡é¢˜çš„å†…å®¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```javascript\nAuthorization: Bearer <token>\n```\n\nå¦‚æœä»¤ç‰Œåœ¨ Authorization æ ‡å¤´ä¸­å‘é€ï¼Œåˆ™è·¨æºèµ„æºå…±äº« (CORS) ä¸ä¼šæˆä¸ºé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨ cookieï¼ˆcookie æ˜¯ä¸èƒ½è·¨åŸŸçš„ï¼‰ã€‚è¿™ä¸€ç‚¹å°±éå¸¸é€‚åˆå•ç‚¹ç™»å½•ã€‚\n\n#### å®‰å…¨æ€§\n\nå› ä¸ºåœ¨ jwt ç­¾å‘çš„æ—¶å€™ï¼Œå¯†é’¥æ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æ¥è¯´æ˜¯æ¯”è¾ƒå®‰å…¨çš„ï¼Œå½“ payload çš„æ•°æ®ä¿®æ”¹åï¼Œå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šé‡‡ç”¨ç›¸åŒçš„åŠ å¯†ç®—æ³•ç”Ÿæˆä¸€ä¸ª token å‰¯æœ¬ä¸ä¹‹å‰ç­¾å‘çš„è¿›è¡Œå¯¹æ¯”ï¼Œæ˜¾ç„¶ï¼Œä¿®æ”¹åçš„æ•°æ®å†æ¬¡åŠ å¯†åä¸ä¹‹å‰çš„ token å¯¹æ¯”è‚¯å®šä¸åŒã€‚\nåœ¨ payload ä¸­ï¼Œå› ä¸ºæ˜¯ base64url ç¼–ç çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è§£ç è·å–ä¿¡æ¯ï¼Œå› æ­¤ä¸å®œåœ¨é‡Œé¢æ”¾ä¸€äº›æ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ã€‚\n","slug":"è°ˆè°ˆcookieã€sessionä¸token-jwt","published":1,"updated":"2022-12-31T10:26:33.601Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf15nhtc000z3kv7hneh83k7","content":"<p><strong>é¦–å…ˆå‘¢ï¼Œç½‘ä¸Šå…³äºå®ƒä»¬çš„æ–‡ç« å·²ç»å¾ˆå¤šäº†ï¼Œåœ¨è¿™é‡Œæˆ‘å°±åªæ˜¯æ¥è®°å½•ä»¥ä¸‹æˆ‘çš„ç†è§£ï¼Œå…¶å®ä¹Ÿæ˜¯çœ‹å…¶ä»–ç½‘ä¸Šå†…å®¹çš„ä¸€ä¸ªæ€»ç»“å§ã€‚</strong></p>\n<blockquote>\n<p><strong>å‰è¨€ï¼šç”±äº HTTP åè®®æ— çŠ¶æ€çš„ç¼ºé™·ã€‚WEB çš„è®¾è®¡è€…ä»¬æå‡ºäº† Cookie å’Œ Session ä¸¤ç§è§£å†³æœºåˆ¶ã€‚è€Œ token,é€šå¸¸æ˜¯ jwt(json web token)ä½œä¸ºä¸€ç§ç”¨æˆ·èº«ä»½ä»¤ç‰Œï¼Œä¹Ÿå¸¸å¸¸ç”¨äºè®°å½• http çš„çŠ¶æ€å­˜å‚¨ï¼Œé€šå¸¸æ˜¯åœ¨ç”¨æˆ·ç™»å½•åï¼Œä¼´éšæ¯ä¸€æ¬¡è¯·æ±‚å‘é€ç»™ç»™åç«¯ã€‚ä¸‹é¢å°±æ¥èŠèŠå®ƒä»¬ã€‚</strong></p>\n</blockquote>\n <span id=\"more\"></span>\n\n<h3 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h3><h4 id=\"æ¦‚å¿µ\"><a href=\"#æ¦‚å¿µ\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h4><p>Cookie æ˜¯ä¸€æ®µä¸è¶…è¿‡ 4KB çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œç”±ä¸€ä¸ªåç§°ï¼ˆNameï¼‰ã€ä¸€ä¸ªå€¼ï¼ˆValueï¼‰å’Œå…¶å®ƒå‡ ä¸ªç”¨äºæ§åˆ¶ Cookie æœ‰æ•ˆæœŸã€å®‰å…¨æ€§ã€ä½¿ç”¨èŒƒå›´çš„å¯é€‰å±æ€§ç»„æˆã€‚<br>åŒ…æ‹¬ï¼š</p>\n<ol>\n<li>Name/Valueï¼šè®¾ç½® Cookie çš„åç§°åŠç›¸å¯¹åº”çš„å€¼ï¼Œå¯¹äºè®¤è¯ Cookieï¼ŒValue å€¼åŒ…æ‹¬ Web æœåŠ¡å™¨æ‰€æä¾›çš„è®¿é—®ä»¤ç‰Œã€‚</li>\n<li>Expires å±æ€§ï¼šè®¾ç½® Cookie çš„ç”Ÿå­˜æœŸã€‚æœ‰ä¸¤ç§å­˜å‚¨ç±»å‹çš„ Cookieï¼šä¼šè¯æ€§ä¸æŒä¹…æ€§ã€‚Expires å±æ€§ç¼ºçœæ—¶ï¼Œä¸ºä¼šè¯æ€§ Cookieï¼Œä»…ä¿å­˜åœ¨å®¢æˆ·ç«¯å†…å­˜ä¸­ï¼Œå¹¶åœ¨ç”¨æˆ·å…³é—­æµè§ˆå™¨æ—¶å¤±æ•ˆï¼›æŒä¹…æ€§ Cookie ä¼šä¿å­˜åœ¨ç”¨æˆ·çš„ç¡¬ç›˜ä¸­ï¼Œç›´è‡³ç”Ÿå­˜æœŸåˆ°æˆ–ç”¨æˆ·ç›´æ¥åœ¨ç½‘é¡µä¸­å•å‡»â€œæ³¨é”€â€ç­‰æŒ‰é’®ç»“æŸä¼šè¯æ—¶æ‰ä¼šå¤±æ•ˆã€‚</li>\n<li>Domain å±æ€§ï¼šæŒ‡å®šäº†å¯ä»¥è®¿é—®è¯¥ Cookie çš„ Web ç«™ç‚¹æˆ–åŸŸã€‚Cookie æœºåˆ¶å¹¶æœªéµå¾ªä¸¥æ ¼çš„åŒæºç­–ç•¥ï¼Œå…è®¸ä¸€ä¸ªå­åŸŸï¼ˆåŸŸåå‰ç¼€ä¸åŒï¼‰å¯ä»¥è®¾ç½®æˆ–è·å–å…¶çˆ¶åŸŸçš„ Cookieã€‚</li>\n<li>Secure å±æ€§ï¼šæŒ‡å®šæ˜¯å¦ä½¿ç”¨ HTTPS å®‰å…¨åè®®å‘é€ Cookieã€‚</li>\n<li>Path å±æ€§ï¼šå®šä¹‰äº† Web ç«™ç‚¹ä¸Šå¯ä»¥è®¿é—®è¯¥ Cookie çš„ç›®å½•ã€‚</li>\n<li>HTTPOnly å±æ€§ ï¼šç”¨äºé˜²æ­¢å®¢æˆ·ç«¯è„šæœ¬é€šè¿‡ document.cookie å±æ€§è®¿é—® Cookieï¼Œæœ‰åŠ©äºä¿æŠ¤ Cookie ä¸è¢«è·¨ç«™è„šæœ¬æ”»å‡»çªƒå–æˆ–ç¯¡æ”¹ã€‚ä½†æ˜¯ï¼ŒHTTPOnly çš„åº”ç”¨ä»å­˜åœ¨å±€é™æ€§ï¼Œä¸€äº›æµè§ˆå™¨å¯ä»¥é˜»æ­¢å®¢æˆ·ç«¯è„šæœ¬å¯¹ Cookie çš„è¯»æ“ä½œï¼Œä½†å…è®¸å†™æ“ä½œï¼›æ­¤å¤–å¤§å¤šæ•°æµè§ˆå™¨ä»å…è®¸é€šè¿‡ XMLHTTP å¯¹è±¡è¯»å– HTTP å“åº”ä¸­çš„ Set-Cookie å¤´ã€‚<br><strong>å¥½äº†ï¼Œä»¥ä¸Šå†…å®¹æ˜¯æ¥è‡ªç™¾åº¦ç™¾ç§‘ã€‚ç®€å•åœ°åšä¸ªæ€»ç»“ï¼šcookie æ˜¯ä¸€ç§å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œé‡Œé¢çš„ç±»å®¹æœ‰é”®å€¼å¯¹ã€ç”Ÿå­˜å‘¨æœŸã€è®¿é—®åŸŸã€æ˜¯å¦ä½¿ç”¨ http,web ç«™ç‚¹å¯è®¿é—® cookie çš„ç›®å½•ä»¥åŠæ˜¯å¦å…è®¸å®¢æˆ·ç«¯è¯»å– cookieã€‚</strong></li>\n</ol>\n<h4 id=\"å®‰å…¨æ€§\"><a href=\"#å®‰å…¨æ€§\" class=\"headerlink\" title=\"å®‰å…¨æ€§\"></a>å®‰å…¨æ€§</h4><p><strong>XSRF/CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</strong>ï¼šåˆ©ç”¨çš„æ˜¯ web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼šç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨,å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚è¿™é‡Œæœ‰ä¸€äº›å¦‚ Firefoxã€Opera ç­‰æµè§ˆå™¨ä½¿ç”¨å•è¿›ç¨‹æœºåˆ¶ï¼Œ<strong>å¤šä¸ªçª—å£æˆ–æ ‡ç­¾ä½¿ç”¨åŒä¸€ä¸ªè¿›ç¨‹ï¼Œå…±äº« Cookie ç­‰ä¼šè¯æ•°æ®</strong>ã€‚IE åˆ™æ··åˆä½¿ç”¨å•è¿›ç¨‹ä¸å¤šè¿›ç¨‹æ¨¡å¼ï¼Œä¸€ä¸ªçª—å£ä¸­çš„å¤šä¸ªæ ‡ç­¾ï¼Œä»¥åŠä½¿ç”¨â€œCTRL+Nâ€ æˆ–å•å‡»ç½‘é¡µä¸­çš„é“¾æ¥æ‰“å¼€çš„æ–°çª—å£ä½¿ç”¨åŒä¸€è¿›ç¨‹ï¼Œå…±äº«ä¼šè¯æ•°æ®ï¼›åªæœ‰ç›´æ¥è¿è¡Œ IE å¯æ‰§è¡Œç¨‹åºæ‰“å¼€çª—å£æ—¶ï¼Œæ‰ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚<strong>Chrome è™½ç„¶ä½¿ç”¨å¤šè¿›ç¨‹æœºåˆ¶ï¼Œç„¶è€Œç»æµ‹è¯•å‘ç°ï¼Œå…¶ä¸åŒçš„çª—å£æˆ–æ ‡ç­¾ä¹‹é—´ä»ä¼šå…±äº«ä¼šè¯æ•°æ®ï¼Œé™¤éä½¿ç”¨éšèº«è®¿é—®æ–¹å¼ã€‚</strong>å› è€Œï¼Œç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæµè§ˆå™¨çª—å£æˆ–æ ‡ç­¾è®¿é—®äº’è”ç½‘èµ„æºæ—¶ï¼Œå°±ä¸º CSRF æ”»å‡»ç¯¡å¤ºç”¨æˆ·çš„ä¼šè¯ Cookie åˆ›é€ äº†æ¡ä»¶ã€‚å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚å…¶æœ€å…¸å‹çš„ä¾‹å­<strong>å°±æ˜¯å½“ cookie è¿˜æ²¡è¿‡æœŸæ—¶ï¼Œç”¨æˆ·æµè§ˆçš„ç½‘ç«™æœ‰ä¸å…¶æ²¡è¿‡æœŸçš„ç½‘ç«™çš„ä¸€äº› api è¯·æ±‚ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·æµè§ˆè¿™ä¸ªæ¶æ„ç½‘ç«™æ—¶å°±å¯èƒ½ä¼šå—åˆ°å±å®³</strong>ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202112161949.png\"><br><strong>ä¼šè¯å®šç½®(Session Fixation)æ”»å‡»</strong>æ˜¯æŒ‡ï¼Œæ”»å‡»è€…å‘å—å®³è€…ä¸»æœºæ³¨å…¥è‡ªå·±æ§åˆ¶çš„è®¤è¯ Cookie ç­‰ä¿¡æ¯ï¼Œä½¿å¾—å—å®³è€…ä»¥æ”»å‡»è€…çš„èº«ä»½ç™»å½•ç½‘ç«™ï¼Œä»è€Œçªƒå–å—å®³è€…çš„ä¼šè¯ä¿¡æ¯ã€‚æ³¨å…¥ Cookie çš„æ–¹æ³•åŒ…æ‹¬ï¼šä½¿ç”¨è·¨ç«™è„šæœ¬æˆ–æœ¨é©¬ç­‰æ¶æ„ç¨‹åºï¼›æˆ–ä¼ªé€ ä¸åˆæ³•ç½‘ç«™åŒåŸŸçš„ç«™ç‚¹ï¼Œå¹¶åˆ©ç”¨å„ç§æ–¹æ³•æ¬ºéª—ç”¨æˆ·è®¿é—®è¯¥ä»¿å†’ç½‘ç«™ï¼Œä»è€Œé€šè¿‡ HTTP å“åº”ä¸­çš„ Set-Cookie å¤´å°†æ”»å‡»è€…æ‹¥æœ‰çš„è¯¥åŸŸ Cookie å‘é€ç»™ç”¨æˆ·ç­‰ã€‚å› ä¸º sessionID ä¸€èˆ¬éƒ½ä¼šæ”¾åœ¨ cookie ä¸­å­˜å‚¨ï¼Œæ‰€ä»¥ä¼šå®¹æ˜“å—åˆ°ä¼šè¯å®šåˆ¶æ”»å‡»ã€‚</p>\n<h3 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h3><h4 id=\"æ¦‚å¿µ-1\"><a href=\"#æ¦‚å¿µ-1\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h4><p>ä¸ cookie ç›¸æ¯”ï¼Œsession å°±æ˜¯å­˜æ”¾åœ¨æœåŠ¡ç«¯äº†ï¼Œå®ƒè¡¨ç¤ºåœ¨å®¢æˆ·ç«¯ç™»å½•æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‘æ”¾ä¸€ä¸ª sessionid åˆ°å®¢æˆ·ç«¯ï¼Œå®ƒä¸€èˆ¬å­˜åœ¨ cookie ä¸­ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä»¥åçš„è¯·æ±‚å°±ä¼šåœ¨è¯·æ±‚å¤´çš„ cookies å­—æ®µä¸­æºå¸¦è¿™ä¸ªä¿¡æ¯ã€‚è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ•°æ®åˆ¤æ–­å®¢æˆ·ç«¯çš„ç™»å½•çŠ¶æ€ã€‚è¿™å°±å¥½æ¯”æˆ‘ä»¬å»ç‚¹èœï¼Œç‚¹å¥½äº†åå•†å®¶ç»™æˆ‘ä»¬ä¸€ä¸ªå·ç ç‰Œï¼Œç­‰èœå¥½äº†ï¼Œå°±é€å¾€ç›¸åº”å·ç ç‰Œçš„ä½ç½®ã€‚</p>\n<h4 id=\"å®‰å…¨æ€§-1\"><a href=\"#å®‰å…¨æ€§-1\" class=\"headerlink\" title=\"å®‰å…¨æ€§\"></a>å®‰å…¨æ€§</h4><p>å› ä¸º session æ˜¯æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„å®‰å…¨æ€§å°±è€ƒè™‘ sessionid çš„ä¼ªé€ ä¸æˆªè·ã€‚å¦‚æœ sessionid æ˜¯æ”¾åœ¨ cookie ä¸­çš„ï¼Œé‚£ä¹ˆ cookie çš„æ—¶æ•ˆå°±å†³å®šäº† sessionid å³ç™»å½•çŠ¶æ€çš„æ—¶æ•ˆã€‚<br>éœ€è¦æ³¨æ„çš„å°±æ˜¯ä¼šè¯å›ºå®šï¼ˆsession fixation)ï¼šæ„æ€æ˜¯æ”»å‡»è€…å…ˆè‡ªå·±è·å–ä¸€ä¸ª sessionid,ç„¶åå‡å†’ä¸€ä¸ªç½‘ç«™å¹¶å°†è¿æ¥å‘ç»™è¢«æ”»å‡»çš„äººï¼Œå½“å—å®³è€…ç™»å½•åï¼Œæ”»å‡»è€…å°±å¯ä»¥åŠ«æŒå—å®³äººçš„ä¼šè¯ã€‚å› ä¸ºåœ¨æ”»å‡»è€…ç™»å½•è·å– sessionid åï¼Œç½‘ç»œæœåŠ¡å™¨çœ‹åˆ°ä¼šè¯å·²ç»å»ºç«‹ï¼Œæ— éœ€åˆ›å»ºæ–°çš„ä¼šè¯ã€‚æ‰€ä»¥æ”»å‡»è€…å°±æˆåŠŸåœ°å†’å……äº†å—å®³è€…ï¼Œä»è€Œè·å–äº†å—å®³è€…çš„ä¿¡æ¯ã€‚</p>\n<h3 id=\"Tokenï¼ˆJWTï¼‰\"><a href=\"#Tokenï¼ˆJWTï¼‰\" class=\"headerlink\" title=\"Tokenï¼ˆJWTï¼‰\"></a>Tokenï¼ˆJWTï¼‰</h3><h4 id=\"æ¦‚å¿µï¼š\"><a href=\"#æ¦‚å¿µï¼š\" class=\"headerlink\" title=\"æ¦‚å¿µï¼š\"></a>æ¦‚å¿µï¼š</h4><p>JSON Web Token (JWT) æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡† (RFC 7519)ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘ä¸”è‡ªåŒ…å«çš„æ–¹å¼ï¼Œç”¨äºåœ¨å„æ–¹ä¹‹é—´ä½œä¸º JSON å¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ­¤ä¿¡æ¯ç»è¿‡æ•°å­—ç­¾åï¼Œå› æ­¤å¯ä»¥éªŒè¯å’Œä¿¡ä»»ã€‚ JWT å¯ä»¥ä½¿ç”¨ç§˜å¯†ï¼ˆä½¿ç”¨ HMAC ç®—æ³•ï¼‰æˆ–ä½¿ç”¨ RSA æˆ– ECDSA çš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚å°½ç®¡ JWTs å¯ä»¥è¢«åŠ å¯†ï¼Œä»¥ä¾¿åœ¨å„æ–¹ä¹‹é—´æä¾›ä¿å¯†æ€§ï¼Œä½†æˆ‘ä»¬å°†ä¸“æ³¨äºç­¾åçš„ä»¤ç‰Œã€‚ç­¾åçš„ä»¤ç‰Œå¯ä»¥éªŒè¯å…¶ä¸­åŒ…å«çš„ç´¢èµ”çš„å®Œæ•´æ€§ï¼Œè€ŒåŠ å¯†çš„ä»¤ç‰Œåˆ™å¯¹å…¶ä»–å„æ–¹éšè—è¿™äº›ç´¢èµ”ã€‚å½“ä»¤ç‰Œä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ç­¾åæ—¶ï¼Œç­¾åä¹Ÿè¯æ˜äº†åªæœ‰æŒæœ‰ç§é’¥çš„ä¸€æ–¹æ‰æ˜¯ç­¾åè€…ã€‚ - - - - <a href=\"https://jwt.io/introduction\">https://jwt.io/introduction</a></p>\n<h4 id=\"ç»„æˆï¼š\"><a href=\"#ç»„æˆï¼š\" class=\"headerlink\" title=\"ç»„æˆï¼š\"></a>ç»„æˆï¼š</h4><blockquote>\n<p>å½¢å¦‚ï¼šxxxxx.yyyyy.zzzzz</p>\n</blockquote>\n<ol>\n<li>headerï¼šæ ‡å¤´é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼Œå³ JWTï¼Œä»¥åŠæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¾‹å¦‚ HMAC SHA256 æˆ– RSAã€‚<strong>ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚</strong></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;alg&quot;</span>: <span class=\"string\">&quot;HS256&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;typ&quot;</span>: <span class=\"string\">&quot;JWT&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>payloadï¼šåŒ…å«ä¸€äº›å£°æ˜ï¼Œ å£°æ˜æ˜¯å…³äºå®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œé™„åŠ æ•°æ®çš„å£°æ˜ã€‚å…±æœ‰ä¸‰ç§ç±»å‹çš„ claimsï¼šæ³¨å†Œè´Ÿè½½ã€å…¬å…±è´Ÿè½½å’Œç§äººè´Ÿè½½ã€‚</li>\n</ol>\n<ul>\n<li>Registered claimsï¼ˆæ³¨å†Œï¼‰: é€šå¸¸æœ‰å››ä¸ªéƒ¨åˆ†ï¼Œiss(issuer)ï¼Œexp (expiration time), sub (subject), aud (audience)ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ï¼Œæ¯”å¦‚ï¼šnbf (Not Before)ã€iat (Issued At)ã€jti (JWT ID)ã€‚<br><strong>issï¼ˆissuerï¼‰</strong>ï¼šå£°æ˜æ ‡è¯†å‘è¡Œè¯¥è¯ä¹¦çš„å§”æ‰˜äººã€‚<br>**exp (expiration time)**ï¼šå£°æ˜æ ‡è¯†äº†è¿‡æœŸæ—¶é—´æˆ–ä¹‹åä¸å¾—æ¥å— JWT è¿›è¡Œå¤„ç†<br>**sub (subject)**ï¼šJWT çš„ä¸»é¢˜ã€‚ JWT ä¸­çš„å£°æ˜é€šå¸¸æ˜¯å£°æ˜ï¼Œå…³äºä¸»é¢˜ã€‚ä¸»é¢˜å€¼å¿…é¡»è¦ä¹ˆè¢«é™å®šä¸ºåœ¨å‘è¡Œäººçš„ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ¬åœ°å”¯ä¸€çš„ï¼Œæˆ–è€…æ˜¯å…¨çƒå”¯ä¸€çš„ã€‚<br>**aud (audience)**ï¼šå£°æ˜æ ‡è¯†äº† JWT çš„æ¥æ”¶è€…ã€‚</li>\n<li>Public claimsï¼ˆå…¬å…±ï¼‰ï¼šè¿™äº›å¯ä»¥ç”±ä½¿ç”¨ JWT çš„äººéšæ„å®šä¹‰ã€‚ä½†æ˜¯ä¸ºäº†é¿å…å†²çªï¼Œå®ƒä»¬åº”è¯¥åœ¨ <a href=\"https://www.iana.org/assignments/jwt/jwt.xhtml\">IANA JSON Web Token Registry</a> ä¸­å®šä¹‰ï¼Œæˆ–è€…å®šä¹‰ä¸ºåŒ…å«æŠ—å†²çªå‘½åç©ºé—´çš„ URIã€‚</li>\n<li>Private claimsï¼ˆç§æœ‰ï¼‰ï¼šè¿™äº›æ˜¯ä¸ºäº†åœ¨åŒæ„ä½¿ç”¨å®ƒä»¬çš„å„æ–¹ä¹‹é—´å…±äº«ä¿¡æ¯è€Œåˆ›å»ºçš„è‡ªå®šä¹‰å£°æ˜ï¼Œè¿™äº›å£°æ˜æ—¢ä¸æ˜¯æ³¨å†Œå£°æ˜ä¹Ÿä¸æ˜¯å…¬å¼€å£°æ˜ã€‚æ­¤å£°æ˜çš„å¤„ç†é€šå¸¸æ˜¯<strong>ç‰¹å®šäºåº”ç”¨ç¨‹åº</strong>çš„ã€‚</li>\n</ul>\n<p><strong>ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬äºŒéƒ¨åˆ†ã€‚</strong><br><strong>è¿™é‡Œï¼Œheader ä¸ payload éƒ½æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ base64url è§£ç è·å¾—å…¶ json æ•°æ®çš„ã€‚</strong> 3. signatureï¼šç­¾åï¼Œè¿™æ˜¯ jwt æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå°±æ˜¯åŒ…å« base64 ç¼–ç çš„ header,payload,ä»¥åŠ secretï¼Œæœ€åå†å°†æ•´ä¸ªä½¿ç”¨åŠ å¯†ç®—æ³•è¿›è¡ŒåŠ å¯†ã€‚å…¶ä¸­çš„ secret å°±æ˜¯æœåŠ¡ç«¯å‘æ”¾çš„ç§é’¥ã€‚</p>\n<blockquote>\n<p>å½¢å¦‚ï¼š<br>HMACSHA256(<br>base64UrlEncode(header) + â€œ.â€ +<br>base64UrlEncode(payload),<br>secret<br>)</p>\n</blockquote>\n<h4 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h4><p>æ¯å½“ç”¨æˆ·æƒ³è¦è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æˆ–èµ„æºæ—¶ï¼Œç”¨æˆ·ä»£ç†åº”å‘é€ JWTï¼Œé€šå¸¸åœ¨ä½¿ç”¨ Bearer æ¨¡å¼çš„ Authorization æ ‡å¤´ä¸­ã€‚æ ‡é¢˜çš„å†…å®¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Authorization: Bearer &lt;token&gt;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä»¤ç‰Œåœ¨ Authorization æ ‡å¤´ä¸­å‘é€ï¼Œåˆ™è·¨æºèµ„æºå…±äº« (CORS) ä¸ä¼šæˆä¸ºé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨ cookieï¼ˆcookie æ˜¯ä¸èƒ½è·¨åŸŸçš„ï¼‰ã€‚è¿™ä¸€ç‚¹å°±éå¸¸é€‚åˆå•ç‚¹ç™»å½•ã€‚</p>\n<h4 id=\"å®‰å…¨æ€§-2\"><a href=\"#å®‰å…¨æ€§-2\" class=\"headerlink\" title=\"å®‰å…¨æ€§\"></a>å®‰å…¨æ€§</h4><p>å› ä¸ºåœ¨ jwt ç­¾å‘çš„æ—¶å€™ï¼Œå¯†é’¥æ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æ¥è¯´æ˜¯æ¯”è¾ƒå®‰å…¨çš„ï¼Œå½“ payload çš„æ•°æ®ä¿®æ”¹åï¼Œå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šé‡‡ç”¨ç›¸åŒçš„åŠ å¯†ç®—æ³•ç”Ÿæˆä¸€ä¸ª token å‰¯æœ¬ä¸ä¹‹å‰ç­¾å‘çš„è¿›è¡Œå¯¹æ¯”ï¼Œæ˜¾ç„¶ï¼Œä¿®æ”¹åçš„æ•°æ®å†æ¬¡åŠ å¯†åä¸ä¹‹å‰çš„ token å¯¹æ¯”è‚¯å®šä¸åŒã€‚<br>åœ¨ payload ä¸­ï¼Œå› ä¸ºæ˜¯ base64url ç¼–ç çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è§£ç è·å–ä¿¡æ¯ï¼Œå› æ­¤ä¸å®œåœ¨é‡Œé¢æ”¾ä¸€äº›æ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ã€‚</p>\n","site":{"data":{"linklist":[{"nickname":"ZCW","avatar":"http://sherry.formeky.xyz:8090/upload/2021/09/QQ%E5%9B%BE%E7%89%8720210629151630-d1748408bc4d4d3b995abaf38440b71d.jpg","site":"http://sherry.formeky.xyz:8090/","descp":"åç«¯å·¥ç¨‹å¸ˆ"},{"nickname":"LJC","site":"https://lengthmin.me/","descp":"è¿™å¤§æ¦‚å°±æ˜¯å¤§ä½¬å§","avatar":"https://lengthmin.me/images/avatar.png"}]}},"length":3732,"excerpt":"<p><strong>é¦–å…ˆå‘¢ï¼Œç½‘ä¸Šå…³äºå®ƒä»¬çš„æ–‡ç« å·²ç»å¾ˆå¤šäº†ï¼Œåœ¨è¿™é‡Œæˆ‘å°±åªæ˜¯æ¥è®°å½•ä»¥ä¸‹æˆ‘çš„ç†è§£ï¼Œå…¶å®ä¹Ÿæ˜¯çœ‹å…¶ä»–ç½‘ä¸Šå†…å®¹çš„ä¸€ä¸ªæ€»ç»“å§ã€‚</strong></p>\n<blockquote>\n<p><strong>å‰è¨€ï¼šç”±äº HTTP åè®®æ— çŠ¶æ€çš„ç¼ºé™·ã€‚WEB çš„è®¾è®¡è€…ä»¬æå‡ºäº† Cookie å’Œ Session ä¸¤ç§è§£å†³æœºåˆ¶ã€‚è€Œ token,é€šå¸¸æ˜¯ jwt(json web token)ä½œä¸ºä¸€ç§ç”¨æˆ·èº«ä»½ä»¤ç‰Œï¼Œä¹Ÿå¸¸å¸¸ç”¨äºè®°å½• http çš„çŠ¶æ€å­˜å‚¨ï¼Œé€šå¸¸æ˜¯åœ¨ç”¨æˆ·ç™»å½•åï¼Œä¼´éšæ¯ä¸€æ¬¡è¯·æ±‚å‘é€ç»™ç»™åç«¯ã€‚ä¸‹é¢å°±æ¥èŠèŠå®ƒä»¬ã€‚</strong></p>\n</blockquote>","more":"<h3 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h3><h4 id=\"æ¦‚å¿µ\"><a href=\"#æ¦‚å¿µ\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h4><p>Cookie æ˜¯ä¸€æ®µä¸è¶…è¿‡ 4KB çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œç”±ä¸€ä¸ªåç§°ï¼ˆNameï¼‰ã€ä¸€ä¸ªå€¼ï¼ˆValueï¼‰å’Œå…¶å®ƒå‡ ä¸ªç”¨äºæ§åˆ¶ Cookie æœ‰æ•ˆæœŸã€å®‰å…¨æ€§ã€ä½¿ç”¨èŒƒå›´çš„å¯é€‰å±æ€§ç»„æˆã€‚<br>åŒ…æ‹¬ï¼š</p>\n<ol>\n<li>Name/Valueï¼šè®¾ç½® Cookie çš„åç§°åŠç›¸å¯¹åº”çš„å€¼ï¼Œå¯¹äºè®¤è¯ Cookieï¼ŒValue å€¼åŒ…æ‹¬ Web æœåŠ¡å™¨æ‰€æä¾›çš„è®¿é—®ä»¤ç‰Œã€‚</li>\n<li>Expires å±æ€§ï¼šè®¾ç½® Cookie çš„ç”Ÿå­˜æœŸã€‚æœ‰ä¸¤ç§å­˜å‚¨ç±»å‹çš„ Cookieï¼šä¼šè¯æ€§ä¸æŒä¹…æ€§ã€‚Expires å±æ€§ç¼ºçœæ—¶ï¼Œä¸ºä¼šè¯æ€§ Cookieï¼Œä»…ä¿å­˜åœ¨å®¢æˆ·ç«¯å†…å­˜ä¸­ï¼Œå¹¶åœ¨ç”¨æˆ·å…³é—­æµè§ˆå™¨æ—¶å¤±æ•ˆï¼›æŒä¹…æ€§ Cookie ä¼šä¿å­˜åœ¨ç”¨æˆ·çš„ç¡¬ç›˜ä¸­ï¼Œç›´è‡³ç”Ÿå­˜æœŸåˆ°æˆ–ç”¨æˆ·ç›´æ¥åœ¨ç½‘é¡µä¸­å•å‡»â€œæ³¨é”€â€ç­‰æŒ‰é’®ç»“æŸä¼šè¯æ—¶æ‰ä¼šå¤±æ•ˆã€‚</li>\n<li>Domain å±æ€§ï¼šæŒ‡å®šäº†å¯ä»¥è®¿é—®è¯¥ Cookie çš„ Web ç«™ç‚¹æˆ–åŸŸã€‚Cookie æœºåˆ¶å¹¶æœªéµå¾ªä¸¥æ ¼çš„åŒæºç­–ç•¥ï¼Œå…è®¸ä¸€ä¸ªå­åŸŸï¼ˆåŸŸåå‰ç¼€ä¸åŒï¼‰å¯ä»¥è®¾ç½®æˆ–è·å–å…¶çˆ¶åŸŸçš„ Cookieã€‚</li>\n<li>Secure å±æ€§ï¼šæŒ‡å®šæ˜¯å¦ä½¿ç”¨ HTTPS å®‰å…¨åè®®å‘é€ Cookieã€‚</li>\n<li>Path å±æ€§ï¼šå®šä¹‰äº† Web ç«™ç‚¹ä¸Šå¯ä»¥è®¿é—®è¯¥ Cookie çš„ç›®å½•ã€‚</li>\n<li>HTTPOnly å±æ€§ ï¼šç”¨äºé˜²æ­¢å®¢æˆ·ç«¯è„šæœ¬é€šè¿‡ document.cookie å±æ€§è®¿é—® Cookieï¼Œæœ‰åŠ©äºä¿æŠ¤ Cookie ä¸è¢«è·¨ç«™è„šæœ¬æ”»å‡»çªƒå–æˆ–ç¯¡æ”¹ã€‚ä½†æ˜¯ï¼ŒHTTPOnly çš„åº”ç”¨ä»å­˜åœ¨å±€é™æ€§ï¼Œä¸€äº›æµè§ˆå™¨å¯ä»¥é˜»æ­¢å®¢æˆ·ç«¯è„šæœ¬å¯¹ Cookie çš„è¯»æ“ä½œï¼Œä½†å…è®¸å†™æ“ä½œï¼›æ­¤å¤–å¤§å¤šæ•°æµè§ˆå™¨ä»å…è®¸é€šè¿‡ XMLHTTP å¯¹è±¡è¯»å– HTTP å“åº”ä¸­çš„ Set-Cookie å¤´ã€‚<br><strong>å¥½äº†ï¼Œä»¥ä¸Šå†…å®¹æ˜¯æ¥è‡ªç™¾åº¦ç™¾ç§‘ã€‚ç®€å•åœ°åšä¸ªæ€»ç»“ï¼šcookie æ˜¯ä¸€ç§å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œé‡Œé¢çš„ç±»å®¹æœ‰é”®å€¼å¯¹ã€ç”Ÿå­˜å‘¨æœŸã€è®¿é—®åŸŸã€æ˜¯å¦ä½¿ç”¨ http,web ç«™ç‚¹å¯è®¿é—® cookie çš„ç›®å½•ä»¥åŠæ˜¯å¦å…è®¸å®¢æˆ·ç«¯è¯»å– cookieã€‚</strong></li>\n</ol>\n<h4 id=\"å®‰å…¨æ€§\"><a href=\"#å®‰å…¨æ€§\" class=\"headerlink\" title=\"å®‰å…¨æ€§\"></a>å®‰å…¨æ€§</h4><p><strong>XSRF/CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</strong>ï¼šåˆ©ç”¨çš„æ˜¯ web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼šç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨,å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚è¿™é‡Œæœ‰ä¸€äº›å¦‚ Firefoxã€Opera ç­‰æµè§ˆå™¨ä½¿ç”¨å•è¿›ç¨‹æœºåˆ¶ï¼Œ<strong>å¤šä¸ªçª—å£æˆ–æ ‡ç­¾ä½¿ç”¨åŒä¸€ä¸ªè¿›ç¨‹ï¼Œå…±äº« Cookie ç­‰ä¼šè¯æ•°æ®</strong>ã€‚IE åˆ™æ··åˆä½¿ç”¨å•è¿›ç¨‹ä¸å¤šè¿›ç¨‹æ¨¡å¼ï¼Œä¸€ä¸ªçª—å£ä¸­çš„å¤šä¸ªæ ‡ç­¾ï¼Œä»¥åŠä½¿ç”¨â€œCTRL+Nâ€ æˆ–å•å‡»ç½‘é¡µä¸­çš„é“¾æ¥æ‰“å¼€çš„æ–°çª—å£ä½¿ç”¨åŒä¸€è¿›ç¨‹ï¼Œå…±äº«ä¼šè¯æ•°æ®ï¼›åªæœ‰ç›´æ¥è¿è¡Œ IE å¯æ‰§è¡Œç¨‹åºæ‰“å¼€çª—å£æ—¶ï¼Œæ‰ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚<strong>Chrome è™½ç„¶ä½¿ç”¨å¤šè¿›ç¨‹æœºåˆ¶ï¼Œç„¶è€Œç»æµ‹è¯•å‘ç°ï¼Œå…¶ä¸åŒçš„çª—å£æˆ–æ ‡ç­¾ä¹‹é—´ä»ä¼šå…±äº«ä¼šè¯æ•°æ®ï¼Œé™¤éä½¿ç”¨éšèº«è®¿é—®æ–¹å¼ã€‚</strong>å› è€Œï¼Œç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæµè§ˆå™¨çª—å£æˆ–æ ‡ç­¾è®¿é—®äº’è”ç½‘èµ„æºæ—¶ï¼Œå°±ä¸º CSRF æ”»å‡»ç¯¡å¤ºç”¨æˆ·çš„ä¼šè¯ Cookie åˆ›é€ äº†æ¡ä»¶ã€‚å´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚å…¶æœ€å…¸å‹çš„ä¾‹å­<strong>å°±æ˜¯å½“ cookie è¿˜æ²¡è¿‡æœŸæ—¶ï¼Œç”¨æˆ·æµè§ˆçš„ç½‘ç«™æœ‰ä¸å…¶æ²¡è¿‡æœŸçš„ç½‘ç«™çš„ä¸€äº› api è¯·æ±‚ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·æµè§ˆè¿™ä¸ªæ¶æ„ç½‘ç«™æ—¶å°±å¯èƒ½ä¼šå—åˆ°å±å®³</strong>ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/PancakeDogLLL/imageBed/img/202112161949.png\"><br><strong>ä¼šè¯å®šç½®(Session Fixation)æ”»å‡»</strong>æ˜¯æŒ‡ï¼Œæ”»å‡»è€…å‘å—å®³è€…ä¸»æœºæ³¨å…¥è‡ªå·±æ§åˆ¶çš„è®¤è¯ Cookie ç­‰ä¿¡æ¯ï¼Œä½¿å¾—å—å®³è€…ä»¥æ”»å‡»è€…çš„èº«ä»½ç™»å½•ç½‘ç«™ï¼Œä»è€Œçªƒå–å—å®³è€…çš„ä¼šè¯ä¿¡æ¯ã€‚æ³¨å…¥ Cookie çš„æ–¹æ³•åŒ…æ‹¬ï¼šä½¿ç”¨è·¨ç«™è„šæœ¬æˆ–æœ¨é©¬ç­‰æ¶æ„ç¨‹åºï¼›æˆ–ä¼ªé€ ä¸åˆæ³•ç½‘ç«™åŒåŸŸçš„ç«™ç‚¹ï¼Œå¹¶åˆ©ç”¨å„ç§æ–¹æ³•æ¬ºéª—ç”¨æˆ·è®¿é—®è¯¥ä»¿å†’ç½‘ç«™ï¼Œä»è€Œé€šè¿‡ HTTP å“åº”ä¸­çš„ Set-Cookie å¤´å°†æ”»å‡»è€…æ‹¥æœ‰çš„è¯¥åŸŸ Cookie å‘é€ç»™ç”¨æˆ·ç­‰ã€‚å› ä¸º sessionID ä¸€èˆ¬éƒ½ä¼šæ”¾åœ¨ cookie ä¸­å­˜å‚¨ï¼Œæ‰€ä»¥ä¼šå®¹æ˜“å—åˆ°ä¼šè¯å®šåˆ¶æ”»å‡»ã€‚</p>\n<h3 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h3><h4 id=\"æ¦‚å¿µ-1\"><a href=\"#æ¦‚å¿µ-1\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h4><p>ä¸ cookie ç›¸æ¯”ï¼Œsession å°±æ˜¯å­˜æ”¾åœ¨æœåŠ¡ç«¯äº†ï¼Œå®ƒè¡¨ç¤ºåœ¨å®¢æˆ·ç«¯ç™»å½•æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‘æ”¾ä¸€ä¸ª sessionid åˆ°å®¢æˆ·ç«¯ï¼Œå®ƒä¸€èˆ¬å­˜åœ¨ cookie ä¸­ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä»¥åçš„è¯·æ±‚å°±ä¼šåœ¨è¯·æ±‚å¤´çš„ cookies å­—æ®µä¸­æºå¸¦è¿™ä¸ªä¿¡æ¯ã€‚è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ•°æ®åˆ¤æ–­å®¢æˆ·ç«¯çš„ç™»å½•çŠ¶æ€ã€‚è¿™å°±å¥½æ¯”æˆ‘ä»¬å»ç‚¹èœï¼Œç‚¹å¥½äº†åå•†å®¶ç»™æˆ‘ä»¬ä¸€ä¸ªå·ç ç‰Œï¼Œç­‰èœå¥½äº†ï¼Œå°±é€å¾€ç›¸åº”å·ç ç‰Œçš„ä½ç½®ã€‚</p>\n<h4 id=\"å®‰å…¨æ€§-1\"><a href=\"#å®‰å…¨æ€§-1\" class=\"headerlink\" title=\"å®‰å…¨æ€§\"></a>å®‰å…¨æ€§</h4><p>å› ä¸º session æ˜¯æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„å®‰å…¨æ€§å°±è€ƒè™‘ sessionid çš„ä¼ªé€ ä¸æˆªè·ã€‚å¦‚æœ sessionid æ˜¯æ”¾åœ¨ cookie ä¸­çš„ï¼Œé‚£ä¹ˆ cookie çš„æ—¶æ•ˆå°±å†³å®šäº† sessionid å³ç™»å½•çŠ¶æ€çš„æ—¶æ•ˆã€‚<br>éœ€è¦æ³¨æ„çš„å°±æ˜¯ä¼šè¯å›ºå®šï¼ˆsession fixation)ï¼šæ„æ€æ˜¯æ”»å‡»è€…å…ˆè‡ªå·±è·å–ä¸€ä¸ª sessionid,ç„¶åå‡å†’ä¸€ä¸ªç½‘ç«™å¹¶å°†è¿æ¥å‘ç»™è¢«æ”»å‡»çš„äººï¼Œå½“å—å®³è€…ç™»å½•åï¼Œæ”»å‡»è€…å°±å¯ä»¥åŠ«æŒå—å®³äººçš„ä¼šè¯ã€‚å› ä¸ºåœ¨æ”»å‡»è€…ç™»å½•è·å– sessionid åï¼Œç½‘ç»œæœåŠ¡å™¨çœ‹åˆ°ä¼šè¯å·²ç»å»ºç«‹ï¼Œæ— éœ€åˆ›å»ºæ–°çš„ä¼šè¯ã€‚æ‰€ä»¥æ”»å‡»è€…å°±æˆåŠŸåœ°å†’å……äº†å—å®³è€…ï¼Œä»è€Œè·å–äº†å—å®³è€…çš„ä¿¡æ¯ã€‚</p>\n<h3 id=\"Tokenï¼ˆJWTï¼‰\"><a href=\"#Tokenï¼ˆJWTï¼‰\" class=\"headerlink\" title=\"Tokenï¼ˆJWTï¼‰\"></a>Tokenï¼ˆJWTï¼‰</h3><h4 id=\"æ¦‚å¿µï¼š\"><a href=\"#æ¦‚å¿µï¼š\" class=\"headerlink\" title=\"æ¦‚å¿µï¼š\"></a>æ¦‚å¿µï¼š</h4><p>JSON Web Token (JWT) æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡† (RFC 7519)ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘ä¸”è‡ªåŒ…å«çš„æ–¹å¼ï¼Œç”¨äºåœ¨å„æ–¹ä¹‹é—´ä½œä¸º JSON å¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ­¤ä¿¡æ¯ç»è¿‡æ•°å­—ç­¾åï¼Œå› æ­¤å¯ä»¥éªŒè¯å’Œä¿¡ä»»ã€‚ JWT å¯ä»¥ä½¿ç”¨ç§˜å¯†ï¼ˆä½¿ç”¨ HMAC ç®—æ³•ï¼‰æˆ–ä½¿ç”¨ RSA æˆ– ECDSA çš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚å°½ç®¡ JWTs å¯ä»¥è¢«åŠ å¯†ï¼Œä»¥ä¾¿åœ¨å„æ–¹ä¹‹é—´æä¾›ä¿å¯†æ€§ï¼Œä½†æˆ‘ä»¬å°†ä¸“æ³¨äºç­¾åçš„ä»¤ç‰Œã€‚ç­¾åçš„ä»¤ç‰Œå¯ä»¥éªŒè¯å…¶ä¸­åŒ…å«çš„ç´¢èµ”çš„å®Œæ•´æ€§ï¼Œè€ŒåŠ å¯†çš„ä»¤ç‰Œåˆ™å¯¹å…¶ä»–å„æ–¹éšè—è¿™äº›ç´¢èµ”ã€‚å½“ä»¤ç‰Œä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ç­¾åæ—¶ï¼Œç­¾åä¹Ÿè¯æ˜äº†åªæœ‰æŒæœ‰ç§é’¥çš„ä¸€æ–¹æ‰æ˜¯ç­¾åè€…ã€‚ - - - - <a href=\"https://jwt.io/introduction\">https://jwt.io/introduction</a></p>\n<h4 id=\"ç»„æˆï¼š\"><a href=\"#ç»„æˆï¼š\" class=\"headerlink\" title=\"ç»„æˆï¼š\"></a>ç»„æˆï¼š</h4><blockquote>\n<p>å½¢å¦‚ï¼šxxxxx.yyyyy.zzzzz</p>\n</blockquote>\n<ol>\n<li>headerï¼šæ ‡å¤´é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼Œå³ JWTï¼Œä»¥åŠæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¾‹å¦‚ HMAC SHA256 æˆ– RSAã€‚<strong>ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚</strong></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;alg&quot;</span>: <span class=\"string\">&quot;HS256&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;typ&quot;</span>: <span class=\"string\">&quot;JWT&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>payloadï¼šåŒ…å«ä¸€äº›å£°æ˜ï¼Œ å£°æ˜æ˜¯å…³äºå®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œé™„åŠ æ•°æ®çš„å£°æ˜ã€‚å…±æœ‰ä¸‰ç§ç±»å‹çš„ claimsï¼šæ³¨å†Œè´Ÿè½½ã€å…¬å…±è´Ÿè½½å’Œç§äººè´Ÿè½½ã€‚</li>\n</ol>\n<ul>\n<li>Registered claimsï¼ˆæ³¨å†Œï¼‰: é€šå¸¸æœ‰å››ä¸ªéƒ¨åˆ†ï¼Œiss(issuer)ï¼Œexp (expiration time), sub (subject), aud (audience)ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ï¼Œæ¯”å¦‚ï¼šnbf (Not Before)ã€iat (Issued At)ã€jti (JWT ID)ã€‚<br><strong>issï¼ˆissuerï¼‰</strong>ï¼šå£°æ˜æ ‡è¯†å‘è¡Œè¯¥è¯ä¹¦çš„å§”æ‰˜äººã€‚<br>**exp (expiration time)**ï¼šå£°æ˜æ ‡è¯†äº†è¿‡æœŸæ—¶é—´æˆ–ä¹‹åä¸å¾—æ¥å— JWT è¿›è¡Œå¤„ç†<br>**sub (subject)**ï¼šJWT çš„ä¸»é¢˜ã€‚ JWT ä¸­çš„å£°æ˜é€šå¸¸æ˜¯å£°æ˜ï¼Œå…³äºä¸»é¢˜ã€‚ä¸»é¢˜å€¼å¿…é¡»è¦ä¹ˆè¢«é™å®šä¸ºåœ¨å‘è¡Œäººçš„ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ¬åœ°å”¯ä¸€çš„ï¼Œæˆ–è€…æ˜¯å…¨çƒå”¯ä¸€çš„ã€‚<br>**aud (audience)**ï¼šå£°æ˜æ ‡è¯†äº† JWT çš„æ¥æ”¶è€…ã€‚</li>\n<li>Public claimsï¼ˆå…¬å…±ï¼‰ï¼šè¿™äº›å¯ä»¥ç”±ä½¿ç”¨ JWT çš„äººéšæ„å®šä¹‰ã€‚ä½†æ˜¯ä¸ºäº†é¿å…å†²çªï¼Œå®ƒä»¬åº”è¯¥åœ¨ <a href=\"https://www.iana.org/assignments/jwt/jwt.xhtml\">IANA JSON Web Token Registry</a> ä¸­å®šä¹‰ï¼Œæˆ–è€…å®šä¹‰ä¸ºåŒ…å«æŠ—å†²çªå‘½åç©ºé—´çš„ URIã€‚</li>\n<li>Private claimsï¼ˆç§æœ‰ï¼‰ï¼šè¿™äº›æ˜¯ä¸ºäº†åœ¨åŒæ„ä½¿ç”¨å®ƒä»¬çš„å„æ–¹ä¹‹é—´å…±äº«ä¿¡æ¯è€Œåˆ›å»ºçš„è‡ªå®šä¹‰å£°æ˜ï¼Œè¿™äº›å£°æ˜æ—¢ä¸æ˜¯æ³¨å†Œå£°æ˜ä¹Ÿä¸æ˜¯å…¬å¼€å£°æ˜ã€‚æ­¤å£°æ˜çš„å¤„ç†é€šå¸¸æ˜¯<strong>ç‰¹å®šäºåº”ç”¨ç¨‹åº</strong>çš„ã€‚</li>\n</ul>\n<p><strong>ç„¶åï¼Œè¿™ä¸ª JSON è¢« Base64Url ç¼–ç ä»¥å½¢æˆ JWT çš„ç¬¬äºŒéƒ¨åˆ†ã€‚</strong><br><strong>è¿™é‡Œï¼Œheader ä¸ payload éƒ½æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ base64url è§£ç è·å¾—å…¶ json æ•°æ®çš„ã€‚</strong> 3. signatureï¼šç­¾åï¼Œè¿™æ˜¯ jwt æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå°±æ˜¯åŒ…å« base64 ç¼–ç çš„ header,payload,ä»¥åŠ secretï¼Œæœ€åå†å°†æ•´ä¸ªä½¿ç”¨åŠ å¯†ç®—æ³•è¿›è¡ŒåŠ å¯†ã€‚å…¶ä¸­çš„ secret å°±æ˜¯æœåŠ¡ç«¯å‘æ”¾çš„ç§é’¥ã€‚</p>\n<blockquote>\n<p>å½¢å¦‚ï¼š<br>HMACSHA256(<br>base64UrlEncode(header) + â€œ.â€ +<br>base64UrlEncode(payload),<br>secret<br>)</p>\n</blockquote>\n<h4 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h4><p>æ¯å½“ç”¨æˆ·æƒ³è¦è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æˆ–èµ„æºæ—¶ï¼Œç”¨æˆ·ä»£ç†åº”å‘é€ JWTï¼Œé€šå¸¸åœ¨ä½¿ç”¨ Bearer æ¨¡å¼çš„ Authorization æ ‡å¤´ä¸­ã€‚æ ‡é¢˜çš„å†…å®¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Authorization: Bearer &lt;token&gt;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä»¤ç‰Œåœ¨ Authorization æ ‡å¤´ä¸­å‘é€ï¼Œåˆ™è·¨æºèµ„æºå…±äº« (CORS) ä¸ä¼šæˆä¸ºé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨ cookieï¼ˆcookie æ˜¯ä¸èƒ½è·¨åŸŸçš„ï¼‰ã€‚è¿™ä¸€ç‚¹å°±éå¸¸é€‚åˆå•ç‚¹ç™»å½•ã€‚</p>\n<h4 id=\"å®‰å…¨æ€§-2\"><a href=\"#å®‰å…¨æ€§-2\" class=\"headerlink\" title=\"å®‰å…¨æ€§\"></a>å®‰å…¨æ€§</h4><p>å› ä¸ºåœ¨ jwt ç­¾å‘çš„æ—¶å€™ï¼Œå¯†é’¥æ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æ¥è¯´æ˜¯æ¯”è¾ƒå®‰å…¨çš„ï¼Œå½“ payload çš„æ•°æ®ä¿®æ”¹åï¼Œå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šé‡‡ç”¨ç›¸åŒçš„åŠ å¯†ç®—æ³•ç”Ÿæˆä¸€ä¸ª token å‰¯æœ¬ä¸ä¹‹å‰ç­¾å‘çš„è¿›è¡Œå¯¹æ¯”ï¼Œæ˜¾ç„¶ï¼Œä¿®æ”¹åçš„æ•°æ®å†æ¬¡åŠ å¯†åä¸ä¹‹å‰çš„ token å¯¹æ¯”è‚¯å®šä¸åŒã€‚<br>åœ¨ payload ä¸­ï¼Œå› ä¸ºæ˜¯ base64url ç¼–ç çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è§£ç è·å–ä¿¡æ¯ï¼Œå› æ­¤ä¸å®œåœ¨é‡Œé¢æ”¾ä¸€äº›æ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ã€‚</p>"}],"PostAsset":[],"PostCategory":[{"post_id":"clf15nhs000013kv7ao0tdmjr","category_id":"clf15nhsc00043kv73deqgmp3","_id":"clf15nhst000f3kv76p697fo3"},{"post_id":"clf15nhs800033kv718e17vs8","category_id":"clf15nhsc00043kv73deqgmp3","_id":"clf15nhsz000k3kv7h2qo1c30"},{"post_id":"clf15nhsf00063kv7fjnc4t5m","category_id":"clf15nhss000e3kv7gh6p3hg9","_id":"clf15nht4000q3kv79zz32ixr"},{"post_id":"clf15nhsr000d3kv7fwkm5tmg","category_id":"clf15nht0000l3kv7g7038yar","_id":"clf15nht9000v3kv79skecsrr"},{"post_id":"clf15nhsu000i3kv7gnd1f8qh","category_id":"clf15nht4000r3kv7g54j69xu","_id":"clf15nhtd00103kv71gvlhytg"},{"post_id":"clf15nht7000t3kv76u81bgmy","category_id":"clf15nhss000e3kv7gh6p3hg9","_id":"clf15nhte00123kv71nroehgh"},{"post_id":"clf15nhta000x3kv7ahuodzqp","category_id":"clf15nhss000e3kv7gh6p3hg9","_id":"clf15nhte00143kv7c2sverug"},{"post_id":"clf15nhsw000j3kv7f2zuc6xl","category_id":"clf15nht9000w3kv7enid4607","_id":"clf15nhtf00163kv750gg48ux"},{"post_id":"clf15nht3000p3kv70o0x3isw","category_id":"clf15nht9000w3kv7enid4607","_id":"clf15nhtf00173kv7hcex1gxf"},{"post_id":"clf15nhtc000z3kv7hneh83k7","category_id":"clf15nhte00153kv75dksbeah","_id":"clf15nhtg00183kv76gwocz7y"}],"PostTag":[{"post_id":"clf15nhsf00063kv7fjnc4t5m","tag_id":"clf15nhsl00093kv737756cwe","_id":"clf15nhsu000h3kv7426765a8"},{"post_id":"clf15nhsq000c3kv77m8b9sxz","tag_id":"clf15nhst000g3kv77y27bjzi","_id":"clf15nht3000o3kv7h7qc5edf"},{"post_id":"clf15nhsr000d3kv7fwkm5tmg","tag_id":"clf15nht2000n3kv7bwwza6d4","_id":"clf15nht8000u3kv77rji48d2"},{"post_id":"clf15nht7000t3kv76u81bgmy","tag_id":"clf15nhtb000y3kv7cpwkg3b0","_id":"clf15nhte00133kv7entm55av"}],"Tag":[{"name":"éšå¼è½¬æ¢","_id":"clf15nhsl00093kv737756cwe"},{"name":"deploy qingfuwu","_id":"clf15nhst000g3kv77y27bjzi"},{"name":"numpy","_id":"clf15nht2000n3kv7bwwza6d4"},{"name":"Event","_id":"clf15nhtb000y3kv7cpwkg3b0"}]}}